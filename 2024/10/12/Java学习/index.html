<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="1.命令窗口运行Java程序  编译文件：javac Test.java &#x3D;&gt; Test.class（计算机可执行的文件） 执行文件：java Test&#x3D;&gt; 结果  注意：运行的时候，不需要带上.class，因为默认为Test的主类  2.Java相关知识   最早是在1995年正式发布第一个版本   最新的版本是Java15，长期使用的是Java8和Java11.   Java属于">
<meta property="og:type" content="article">
<meta property="og:title" content="韩顺平Java">
<meta property="og:url" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="XinWanna的杂货铺">
<meta property="og:description" content="1.命令窗口运行Java程序  编译文件：javac Test.java &#x3D;&gt; Test.class（计算机可执行的文件） 执行文件：java Test&#x3D;&gt; 结果  注意：运行的时候，不需要带上.class，因为默认为Test的主类  2.Java相关知识   最早是在1995年正式发布第一个版本   最新的版本是Java15，长期使用的是Java8和Java11.   Java属于">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/JRE.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%BF%90%E8%A1%8C%E4%B8%8D%E5%90%8C%E7%B1%BB%E4%B8%AD%E7%9A%84%E4%B8%BB%E7%B1%BB.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%8C%83%E5%9B%B4.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%8C%83%E5%9B%B4.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%95%B0%E7%BB%84%E6%8B%B7%E8%B4%9D.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E8%A7%84%E5%88%99.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%9F%AD%E8%B7%AF%E4%B8%8Evs%E9%80%BB%E8%BE%91%E4%B8%8E.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%9F%AD%E8%B7%AF%E6%88%96vs%E9%80%BB%E8%BE%91%E6%88%96.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%A0%87%E8%AF%86%E7%AC%A6%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AF%B9%E8%B1%A1%E5%86%85%E5%AD%98%E5%88%86%E5%B8%83.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AF%B9%E8%B1%A1%E6%9C%BA%E5%88%B6%E7%BB%83%E4%B9%A0.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E6%9C%BA%E5%88%B6.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%96%B9%E6%B3%95%E4%BC%A0%E5%8F%82%E6%9C%BA%E5%88%B6.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%80%92%E5%BD%92%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6_1.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/this%E5%85%B3%E9%94%AE%E5%AD%97.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%BB%A7%E6%89%BF.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/super%E5%92%8Cthis%E5%AF%B9%E6%AF%94.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%BB%A7%E6%89%BF%E7%9A%84%E6%9C%AC%E8%B4%A8.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%B1%BB%E5%8F%98%E9%87%8F%E2%80%94%E2%80%94JDK8%E4%B9%8B%E5%90%8E.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%B1%BB%E5%8F%98%E9%87%8F%E2%80%94%E2%80%94JDK8%E4%B9%8B%E5%89%8D.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/static%E4%B8%8D%E8%83%BD%E4%BF%AE%E9%A5%B0%E6%9E%84%E9%80%A0%E5%99%A8.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%8E%A5%E5%8F%A3%E2%80%94%E2%80%94%E5%A4%9A%E6%80%81%E4%BC%A0%E9%80%92.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%85%83%E6%B3%A8%E8%A7%A3-1.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/throwVSthrows.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%85%AB%E5%A4%A7Wrapper%E7%B1%BB.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%8C%85%E8%A3%85%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-1.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E6%B5%8B%E8%AF%95%E9%A2%982.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%89%B9%E6%80%A7.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B5%8B%E8%AF%95%E9%A2%983.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B5%8B%E8%AF%95%E9%A2%984.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-2.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E6%B5%8B%E8%AF%95%E9%A2%98_2.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Math%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/random.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/System%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/arraycopy%E5%8F%82%E6%95%B0.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Date.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Calendar.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%9B%86%E5%90%88%E5%88%86%E7%B1%BB-1.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%9B%86%E5%90%88%E5%88%86%E7%B1%BB-2.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/List%E6%96%B9%E6%B3%95.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/List%E7%9A%84%E4%B8%89%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Vector%E5%92%8CArrayList%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E5%AF%B9%E6%AF%94.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/HashSet%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/HashSet%E5%BA%95%E5%B1%82%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/LinkedHashSet%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Map%E5%AD%98%E5%82%A8%E7%89%B9%E7%82%B9.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/HashSet%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/HashMap%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6-1.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%BC%80%E5%8F%91%E4%B8%AD%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E9%9B%86%E5%90%88%E5%AE%9E%E7%8E%B0%E7%B1%BB.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%BA%BF%E7%A8%8B.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Java%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%96%87%E4%BB%B6%E6%B5%81.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/IO%E6%B5%81%E7%9A%84%E5%88%86%E7%B1%BB.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%8A%82%E7%82%B9%E6%B5%81%E5%92%8C%E5%A4%84%E7%90%86%E6%B5%81.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%8E%B7%E5%8F%96%E7%B1%BB%E5%AF%B9%E8%B1%A1.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B%E5%9B%BE.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%90%84%E9%98%B6%E6%AE%B5%E5%AE%8C%E6%88%90%E7%9A%84%E4%BB%BB%E5%8A%A1.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%BF%9E%E6%8E%A5%E9%98%B6%E6%AE%B5%E2%80%94%E2%80%94%E5%87%86%E5%A4%87.png">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%80%9A%E8%BF%87%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E7%BB%93%E6%9E%84%E4%BF%A1%E6%81%AF%E2%80%94%E2%80%94java.lang.Class.jpg">
<meta property="og:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%80%9A%E8%BF%87%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E7%BB%93%E6%9E%84%E4%BF%A1%E6%81%AF%E2%80%94%E2%80%94java.lang.reflect.Field.jpg">
<meta property="article:published_time" content="2024-10-12T00:56:29.000Z">
<meta property="article:modified_time" content="2024-11-09T08:12:48.472Z">
<meta property="article:author" content="XinWanna">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/JRE.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/icon_logo.png">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/icon_logo.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/icon_logo_black.png">
        
      
    
    <!-- title -->
    <title>韩顺平Java</title>
    <!-- async scripts -->
    <!-- Google Analytics -->

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0NZK4DSLKN"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-0NZK4DSLKN');
  </script>


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/archives/">文章</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="上一篇" href="/2024/10/15/LeetCodeHot100/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="下一篇" href="/2024/10/11/Hexo-Typora%E5%86%99%E5%8D%9A%E5%AE%A2/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&text=韩顺平Java"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&is_video=false&description=韩顺平Java"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=韩顺平Java&body=Check out this article: http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&name=韩顺平Java&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&t=韩顺平Java"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E5%91%BD%E4%BB%A4%E7%AA%97%E5%8F%A3%E8%BF%90%E8%A1%8Cjava%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text"> 1.命令窗口运行Java程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2java%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86"><span class="toc-number">2.</span> <span class="toc-text"> 2.Java相关知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3java%E7%AE%80%E5%8D%95%E7%A8%8B%E5%BA%8Fhello-world"><span class="toc-number">3.</span> <span class="toc-text"> 3.Java简单程序——Hello world</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4java%E8%BD%AC%E7%A7%BB%E5%AD%97%E7%AC%A6"><span class="toc-number">4.</span> <span class="toc-text"> 4.Java转移字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5java%E4%B8%AD%E7%9A%84%E6%B3%A8%E9%87%8A"><span class="toc-number">5.</span> <span class="toc-text"> 5.Java中的注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6dos%E5%91%BD%E4%BB%A4"><span class="toc-number">6.</span> <span class="toc-text"> 6.Dos命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.</span> <span class="toc-text"> 7.数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.</span> <span class="toc-text"> 8.运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E6%A0%87%E8%AF%86%E7%AC%A6%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">9.</span> <span class="toc-text"> 9.标识符命名规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%E8%AF%AD%E5%8F%A5"><span class="toc-number">10.</span> <span class="toc-text"> 10.键盘输入语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11%E8%BF%9B%E5%88%B6"><span class="toc-number">11.</span> <span class="toc-text"> 11.进制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12switch%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="toc-number">12.</span> <span class="toc-text"> 12.switch分支结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">13.</span> <span class="toc-text"> 13.循环语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">14.</span> <span class="toc-text"> 14.生成随机数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15%E8%B7%B3%E8%BD%AC%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5break-continue-return"><span class="toc-number">15.</span> <span class="toc-text"> 15.跳转控制语句（break、continue、return）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">16.</span> <span class="toc-text"> 16.冒泡排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">17.</span> <span class="toc-text"> 17.字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1"><span class="toc-number">18.</span> <span class="toc-text"> 18.类与对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19%E9%80%92%E5%BD%92"><span class="toc-number">19.</span> <span class="toc-text"> 19.递归</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20%E9%87%8D%E8%BD%BD"><span class="toc-number">20.</span> <span class="toc-text"> 20.重载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">21.</span> <span class="toc-text"> 21.可变参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">22.</span> <span class="toc-text"> 22.作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">23.</span> <span class="toc-text"> 23.构造方法&#x2F;构造器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24%E5%8C%85"><span class="toc-number">24.</span> <span class="toc-text"> 24.包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">25.</span> <span class="toc-text"> 25.访问修饰符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#26%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%89%E5%A4%A7%E7%89%B9%E5%BE%81"><span class="toc-number">26.</span> <span class="toc-text"> 26.面向对象编程的三大特征</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#27object%E7%B1%BB"><span class="toc-number">27.</span> <span class="toc-text"> 27.Object类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95"><span class="toc-number">28.</span> <span class="toc-text"> 28.断点调试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29%E7%B1%BB%E5%8F%98%E9%87%8F"><span class="toc-number">29.</span> <span class="toc-text"> 29.类变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#30main%E6%96%B9%E6%B3%95"><span class="toc-number">30.</span> <span class="toc-text"> 30.main方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#31%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-number">31.</span> <span class="toc-text"> 31.代码块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-number">32.</span> <span class="toc-text"> 32.设计模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#33final%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">33.</span> <span class="toc-text"> 33.final关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">34.</span> <span class="toc-text"> 34.抽象类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#35%E6%8E%A5%E5%8F%A3"><span class="toc-number">35.</span> <span class="toc-text"> 35.接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#36%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">36.</span> <span class="toc-text"> 36.内部类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#37%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-number">37.</span> <span class="toc-text"> 37.枚举类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#38%E6%B3%A8%E8%A7%A3"><span class="toc-number">38.</span> <span class="toc-text"> 38.注解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#39%E5%BC%82%E5%B8%B8"><span class="toc-number">39.</span> <span class="toc-text"> 39.异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#40%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-number">40.</span> <span class="toc-text"> 40.常用类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#41%E9%9B%86%E5%90%88"><span class="toc-number">41.</span> <span class="toc-text"> 41.集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42%E6%B3%9B%E5%9E%8B"><span class="toc-number">42.</span> <span class="toc-text"> 42.泛型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43%E7%BA%BF%E7%A8%8B"><span class="toc-number">43.</span> <span class="toc-text"> 43.线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#44%E6%96%87%E4%BB%B6"><span class="toc-number">44.</span> <span class="toc-text"> 44.文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#45%E5%8F%8D%E5%B0%84"><span class="toc-number">45.</span> <span class="toc-text"> 45.反射</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        韩顺平Java
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">XinWanna</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2024-10-12T00:56:29.000Z" class="dt-published" itemprop="datePublished">2024-10-12</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/Java/" rel="tag">Java</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="1命令窗口运行java程序"><a class="markdownIt-Anchor" href="#1命令窗口运行java程序"></a> 1.命令窗口运行Java程序</h2>
<ul>
<li>编译文件：<code>javac Test.java</code> =&gt; <code>Test.class</code>（计算机可执行的文件）</li>
<li>执行文件：<code>java Test</code>=&gt; 结果</li>
</ul>
<p><mark>注意：运行的时候，不需要带上<code>.class</code>，因为默认为Test的主类</mark></p>
<h2 id="2java相关知识"><a class="markdownIt-Anchor" href="#2java相关知识"></a> 2.Java相关知识</h2>
<ul>
<li>
<p>最早是在1995年正式发布第一个版本</p>
</li>
<li>
<p>最新的版本是Java15，长期使用的是Java8和Java11.</p>
</li>
<li>
<p>Java属于甲骨文公司</p>
</li>
<li>
<p>Java SE、Java EE、Java ME</p>
<ul>
<li>Java SE 标准版：支持面向桌面级应用的Java平台</li>
<li>Java EE企业版：主要针对于Web应用程序开发</li>
<li>Java ME小型版：支持Java程序运行在移动终端上的平台（很少使用）</li>
</ul>
</li>
<li>
<p>Java的特点</p>
<ul>
<li>Java是面向对象的（oop）</li>
<li>Java是健壮的，Java的强类型机制、异常处理、垃圾的自动收集等是Java程序健壮性的保证。</li>
<li>Java是跨平台性的，即：一个编译好的<code>.class</code>文件可以在多个系统下运行
<ul>
<li>因为有JVM，同一个Java程序在不同的操作系统中都可以执行，实现Java程序的跨平台性。</li>
</ul>
</li>
<li>Java是解释型语言
<ul>
<li>解释性语言：编译后的代码不能直接被机器执行，需要解释器来执行  JS / PHP / Java</li>
<li>编译性语言：编译后的代码可以被机器执行   C/C++</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Java核心机制-Java虚拟机（JVM）</p>
<ul>
<li>JVM是一个虚拟的计算机，具有指令集并使用不同的存储区域，负责执行指令、管理数据、内存、寄存器，包含在<strong>JDK</strong>中。</li>
<li>对于不同的操作系统平台，有不一样的虚拟机（JVM for Windows、JVM for Linux、JVM for Mac）</li>
<li>Java虚拟机机制屏蔽了底层运行平台的差别，实现了“一次编译，到处运行”。</li>
</ul>
</li>
<li>
<p>JDK（Java开发工具包）</p>
<ul>
<li>JDK = JRE + Java的开发工具[Java、Javac、Javadoc、Javap等]</li>
<li>JDK是提供给Java<strong>开发人员</strong>使用的，其中包含了Java的开发工具，也包含了JRE。若安装了JDK，就不用再单独安装JRE了。</li>
</ul>
</li>
<li>
<p>JRE（Java运行环境）</p>
<ul>
<li>JRE = JVM + Java的核心类库（类）</li>
<li>包括Java虚拟机（JVM）和 Java程序所需的核心类库。如果想要运行一个开发好的Java程序，计算机中只需要安装JRE即可。</li>
<li>开发者需要完整的 JDK ，而使用者只需要 JRE。</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/JRE.png" alt></p>
</li>
<li>
<p>环境变量和系统变量的区别</p>
<ul>
<li>环境变量只针对一个用户，系统变量是针对所有用户。</li>
</ul>
</li>
<li>
<p>Java开发</p>
<ul>
<li>
<p><code>.java</code>文件称为源文件，<code>.class</code>文件称为字节码文件。</p>
</li>
<li>
<p>运行：通过运行工具 <code>java.exe</code>对字节码文件进行执行，本质就是<code>.class</code>装载到<code>JVM机</code>执行。</p>
</li>
<li>
<p>对修改后的源文件需要重新编译，生成新的class文件后，再进行执行，才能生效。</p>
</li>
<li>
<p>注意事项</p>
<ul>
<li>
<p>一个源文件中，最多只能有一个public类，其他类的个数不限。</p>
</li>
<li>
<p>编译后，每一个类，都对应一个<code>.class</code></p>
</li>
<li>
<p>如果源文件包含public类，则文件名必须按该类名命名。</p>
</li>
<li>
<p>可以将main方法写在非public类中，然后指定运行非public类，这样入口方法就是非public的main方法。</p>
<p>例如以下程序：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;This is a dog.&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tigger</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;This is a tigger.&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. public class Hello_world 表示 Hello_world 是一个public公有的类</span></span><br><span class="line"><span class="comment">// 2. public static void main(String[] args) 表示一个主方法，即程序的入口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello_world</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Hello world~&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>分别运行上面的类：</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%BF%90%E8%A1%8C%E4%B8%8D%E5%90%8C%E7%B1%BB%E4%B8%AD%E7%9A%84%E4%B8%BB%E7%B1%BB.png" alt="运行不同类中的主类"></p>
<p>eclipse中，若要使用命令行需要配置，可以直接找到当前项目的<code>.class</code>文件（项目存放地址\bin），然后全选文件资源管理器的路径一栏，输入<code>cmd</code>，即可快读打开命令行输入命令。</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>javap</code>能对给定的 <code>class</code> 文件提供的字节代码进行反编译。</p>
</li>
</ul>
<h2 id="3java简单程序hello-world"><a class="markdownIt-Anchor" href="#3java简单程序hello-world"></a> 3.Java简单程序——Hello world</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. public class Hello_world 表示 Hello_world 是一个public公有的类</span></span><br><span class="line"><span class="comment">// 2. public static void main(String[] args) 表示一个主方法，即程序的入口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello_world</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Hello world~&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4java转移字符"><a class="markdownIt-Anchor" href="#4java转移字符"></a> 4.Java转移字符</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">change</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// \t:一个制表位，实现对齐的功能</span></span><br><span class="line">		System.out.println(<span class="string">&quot;北京\t天津\t上海&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// \n:换行符</span></span><br><span class="line">		System.out.println(<span class="string">&quot;北京\n上海\n天津&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// \\:输出 \</span></span><br><span class="line">		System.out.println(<span class="string">&quot;D:\\\\eclipse-installer\\\\Java_quick_hand\\\\bin&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// \&#x27;:输出 &#x27;</span></span><br><span class="line">		System.out.println(<span class="string">&quot;\&#x27;\&#x27;Good good study, day day up\&#x27;\&#x27;&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// \r:回车</span></span><br><span class="line">        <span class="comment">// 将光标指向开始位置，并用\r后面的内容，依次替换掉前面的内容</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 用 “北京”替换“韩顺”,理想结果应该是&quot;北京平教育&quot;，但eclipse实际输出与换行一致</span></span><br><span class="line">		System.out.println(<span class="string">&quot;韩顺平教育\r北京&quot;</span>); </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 韩顺平教育</span></span><br><span class="line">        <span class="comment">// 北京</span></span><br><span class="line">		System.out.println(<span class="string">&quot;韩顺平教育\r\n北京&quot;</span>); </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6.png" alt></p>
<h2 id="5java中的注释"><a class="markdownIt-Anchor" href="#5java中的注释"></a> 5.Java中的注释</h2>
<ul>
<li>
<p>单行注释  <code>//</code></p>
</li>
<li>
<p>多行注释  <code>/* */</code></p>
</li>
<li>
<p>文档注释   <code>/** */</code></p>
<p><code>javadoc -d 文件夹名（要放入的文件夹） -xx(注释中的内容，比如： author) (-yy) XXX.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 欣白</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">documentComment</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注释内容不会被JVM解释执行</p>
</li>
<li>
<p>多行注释里面不允许有多行注释嵌套</p>
</li>
</ul>
<h2 id="6dos命令"><a class="markdownIt-Anchor" href="#6dos命令"></a> 6.Dos命令</h2>
<ul>
<li><code>cd ..</code>到上一级目录</li>
<li><code>cd \</code>切换到目录</li>
<li><code>dir</code>查看当前目录有什么</li>
<li><code>cls</code>清屏</li>
</ul>
<hr>
<h2 id="7数据类型"><a class="markdownIt-Anchor" href="#7数据类型"></a> 7.数据类型</h2>
<p>​	变量的三要素：数据类型、变量名和值</p>
<ul>
<li>
<p>基本数据类型</p>
<ul>
<li>
<p>整数型：<code>byte</code>（1个字节）、<code>short</code>（2个字节）、<code>int</code>（4个字节）、<code>long</code>（8个字节）</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%8C%83%E5%9B%B4.png" alt></p>
<ul>
<li>Java的整数类型有固定的范围和字段长度，不受具体OS的影响。</li>
<li>Java的整型常量默认为int型，声明long型常量须后面加<code>l</code>或<code>L</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1L</span>; <span class="comment">// error</span></span><br><span class="line"><span class="type">long</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1L</span>; <span class="comment">// success</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>浮点（小数）类型：<code>float</code>（4个字节）、<code>double</code>（8个字节）</p>
<ul>
<li>浮点数在机器中存放形式：浮点数 = 符号位 + 指数位 + 尾数位</li>
<li>尾数部分可能丢失，造成精度损失。</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%B5%AE%E7%82%B9%E6%95%B0%E8%8C%83%E5%9B%B4.jpg" alt></p>
<ul>
<li>Java的浮点类型有固定的范围和字段长度，不受具体OS的影响。</li>
<li>Java的浮点型常量（具体值）默认为double型，声明float型常量，须后加<code>f</code>或<code>F</code>。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1.1</span>; <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>浮点型常量的表示形式</p>
<ul>
<li>
<p>十进制数形式 <code>X.XXX``.XXX``X.XXXf</code></p>
<p>当 <code>float</code> 转成 <code>double</code>时，由于二进制表示精度的问题，会导致输出结果不一定为 <code>float</code>的值。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="number">0.123</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num2</span> <span class="operator">=</span> <span class="number">.123</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num3</span> <span class="operator">=</span> <span class="number">0.123f</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;num1=&quot;</span>+num1); <span class="comment">// 0.123</span></span><br><span class="line">System.out.println(<span class="string">&quot;num2=&quot;</span>+num2); <span class="comment">// 0.123</span></span><br><span class="line">System.out.println(<span class="string">&quot;num3=&quot;</span>+num3); <span class="comment">// 0.12300000339746475</span></span><br><span class="line"></span><br><span class="line"><span class="type">double</span> <span class="variable">num4</span> <span class="operator">=</span> <span class="number">0.25</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num5</span> <span class="operator">=</span> <span class="number">.25</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num6</span> <span class="operator">=</span> <span class="number">0.25f</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;num4=&quot;</span>+num4); <span class="comment">// 0.25</span></span><br><span class="line">System.out.println(<span class="string">&quot;num5=&quot;</span>+num5); <span class="comment">// 0.25</span></span><br><span class="line">System.out.println(<span class="string">&quot;num6=&quot;</span>+num6); <span class="comment">// 0.25</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>科学计数法</p>
<p>当为<code>X.XXeY</code>的形式时，因为是<code>double</code>类型，所以输出结果会带上<code>.0</code>。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">num7</span> <span class="operator">=</span> <span class="number">5.12e2</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num8</span> <span class="operator">=</span> <span class="number">5.12e-2</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;num7 = &quot;</span> + num7); <span class="comment">// 512.0</span></span><br><span class="line">System.out.println(<span class="string">&quot;num8 = &quot;</span> + num8); <span class="comment">// 0.0512</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>当对运算结果是小数的进行相等判断时，应该是以两个数的差值的绝对值在某个范围内判断，而不是直接判断是否相等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">num9</span> <span class="operator">=</span> <span class="number">2.7</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num10</span> <span class="operator">=</span> <span class="number">8.1</span>/<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;num9 = &quot;</span> + num9); <span class="comment">// 2.7</span></span><br><span class="line">System.out.println(<span class="string">&quot;num10 = &quot;</span> + num10); <span class="comment">// 2.6999999999999997</span></span><br><span class="line"></span><br><span class="line">System.out.println(Math.abs(num9 - num10)); <span class="comment">//4.440892098500626E-16</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确判断方式</span></span><br><span class="line"><span class="keyword">if</span>(Math.abs(num9 - num10) &lt; <span class="number">1e5</span>)</span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;num9 == num10&quot;</span>); <span class="comment">// num9 == num10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果是直接查询得到小数或者直接赋值，可以直接判断相等</span></span><br><span class="line"><span class="type">double</span> <span class="variable">num11</span> <span class="operator">=</span> <span class="number">2.7</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">num12</span> <span class="operator">=</span> <span class="number">2.7</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;num11 = &quot;</span> + num11); <span class="comment">// 2.7</span></span><br><span class="line">System.out.println(<span class="string">&quot;num12 = &quot;</span> + num12); <span class="comment">// 2.7</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;num11 == num12 is &quot;</span> + (num11 == num12));</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>字符型：<code>char（2个字节）</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="string">&#x27;王&#x27;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="string">&#x27;\t&#x27;</span>; <span class="comment">// 表示转移字符</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c3</span> <span class="operator">=</span> <span class="string">&#x27;W&#x27;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c4</span> <span class="operator">=</span> <span class="number">97</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(c1); <span class="comment">// 王</span></span><br><span class="line">System.out.println(c2);</span><br><span class="line">System.out.println(c3); <span class="comment">// W</span></span><br><span class="line">System.out.println(c4); <span class="comment">// 输出数字对应的字符</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>字符常量是用<strong>单引号</strong>括起来的单个字符，不能用双引号。</p>
</li>
<li>
<p>char类型是可以进行运算的，相当于一个整数，因为它对应Unicode码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&#x27;a&#x27;</span> + <span class="number">10</span>); <span class="comment">// 107</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>字符型存储到计算机中，需要将字符对应的码值（整数）找出来</p>
<ul>
<li>存储：字符 =&gt; 码值 =&gt; 二进制 =&gt; 存储</li>
<li>读取：二进制 =&gt; 码值 =&gt; 字符 =&gt; 显示</li>
</ul>
</li>
<li>
<p>字符编码表</p>
<ul>
<li>ASCII：一个字节表示，只表示了128个字符。</li>
<li>Unicode：固定大小的编码，两个字节表示字符，字母和汉字统一占两个字节，Unicode兼容ASCII。</li>
<li>uft-8：大小可变的编码，字母使用一个字节表示，汉字使用三个字节表示。</li>
<li>gbk：字母使用一个字节表示，汉字用两个字节表示。</li>
<li>gb2312：可表示汉字，gb2312 &lt; gbk</li>
<li>big5码：繁体中文</li>
</ul>
</li>
</ul>
</li>
<li>
<p>布尔型：<code>boolean（1个字节）</code></p>
<ul>
<li>不可以用0或者非0的整数替代false和true，与C语言不同。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line"><span class="keyword">if</span>(val) <span class="comment">// error</span></span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;可以使用int型数字代替&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">//error</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(b)</span><br><span class="line">    System.out.println(<span class="string">&quot;boolean可以使用int型数字代替&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>基本数据类型转换</p>
<ul>
<li>自动类型转换：精度小的类型自动转换为精度大的数据类型。</li>
<li><code>char =&gt; int =&gt; long =&gt; float =&gt; double</code></li>
<li><code>byte =&gt; short =&gt; int =&gt; long =&gt; float =&gt; double</code></li>
<li>byte和char、short和char之间不会相互 <mark>自动</mark> 转换，可以 <mark>强制</mark> 转换。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">98</span>;</span><br><span class="line"><span class="type">short</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">99</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// cannot convert from short to byte</span></span><br><span class="line"><span class="comment">// cannot convert from char to byte</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b2</span> <span class="operator">=</span> s1;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b3</span> <span class="operator">=</span> c1;</span><br><span class="line"></span><br><span class="line"><span class="type">short</span> <span class="variable">s2</span> <span class="operator">=</span> b1;</span><br><span class="line"><span class="type">short</span> <span class="variable">s3</span> <span class="operator">=</span> c1;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> b1;</span><br><span class="line"><span class="type">char</span> <span class="variable">c3</span> <span class="operator">=</span> s1;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;b1 = &quot;</span> + b1); </span><br><span class="line">System.out.println(<span class="string">&quot;s1 = &quot;</span> + s1); </span><br><span class="line">System.out.println(<span class="string">&quot;c1 = &quot;</span> + c1); </span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;b2 = &quot;</span> + b2); </span><br><span class="line">System.out.println(<span class="string">&quot;s2 = &quot;</span> + s2); </span><br><span class="line">System.out.println(<span class="string">&quot;c2 = &quot;</span> + c2); </span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;b3 = &quot;</span> + b3); </span><br><span class="line">System.out.println(<span class="string">&quot;s3 = &quot;</span> + s3); </span><br><span class="line">System.out.println(<span class="string">&quot;c3 = &quot;</span> + c3); </span><br></pre></td></tr></table></figure>
<ul>
<li>int也无法自动转成byte</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当把具体的数赋值给byte时，先判断该数是否在byte范围内，如果在范围内就可以</span></span><br><span class="line"><span class="comment">// 如果是变量赋值，判断类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体数值</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b_c</span> <span class="operator">=</span> <span class="number">98</span>; <span class="comment">// success</span></span><br><span class="line">System.out.println(<span class="string">&quot;具体数值赋值给byte：b_c = &quot;</span> + b_c);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 变量赋值</span></span><br><span class="line"><span class="comment">// error:cannot convert from int to byte</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">98</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b_i</span> <span class="operator">=</span> i;</span><br><span class="line">System.out.println(<span class="string">&quot;变量赋值给byte：b_i = &quot;</span> + b_i);</span><br></pre></td></tr></table></figure>
<ul>
<li>byte、short可以计算，在计算的时候，首先转换为int类型</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">short</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// cannot convert from int to short</span></span><br><span class="line"><span class="type">short</span> <span class="variable">s2</span> <span class="operator">=</span> b1 + s1;</span><br><span class="line">System.out.println(<span class="string">&quot;计算结果为s2 = &quot;</span> + s2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// cannot convert from int to byte</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b3</span> <span class="operator">=</span> b1 + b2;</span><br><span class="line">System.out.println(<span class="string">&quot;计算结果为b3 = &quot;</span> + b3);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>boolean</code>不参与转换</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cannot convert from boolean to int</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> b;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;boolean =&gt; int : i = &quot;</span> + i);</span><br></pre></td></tr></table></figure>
<ul>
<li>强制类型转换：将容量大的数据类型转换为容量小的数据类型，使用时加上<code>()</code>,但可能造成精度降低或溢出。
<ul>
<li>强制转换符号只针对最近的操作数有效，使用小括号提高优先级。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">98</span>;</span><br><span class="line"><span class="type">short</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">99</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">byte</span> <span class="variable">b2</span> <span class="operator">=</span> (<span class="type">byte</span>)s1;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b3</span> <span class="operator">=</span> (<span class="type">byte</span>)c1;</span><br><span class="line"></span><br><span class="line"><span class="type">short</span> <span class="variable">s2</span> <span class="operator">=</span> (<span class="type">short</span>)b1;</span><br><span class="line"><span class="type">short</span> <span class="variable">s3</span> <span class="operator">=</span> (<span class="type">short</span>)c1;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> (<span class="type">char</span>)b1;</span><br><span class="line"><span class="type">char</span> <span class="variable">c3</span> <span class="operator">=</span> (<span class="type">char</span>)s1;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;b1 = &quot;</span> + b1); <span class="comment">// 98</span></span><br><span class="line">System.out.println(<span class="string">&quot;s1 = &quot;</span> + s1); <span class="comment">// 99</span></span><br><span class="line">System.out.println(<span class="string">&quot;c1 = &quot;</span> + c1); <span class="comment">// a</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;b2 = &quot;</span> + b2); <span class="comment">// 99</span></span><br><span class="line">System.out.println(<span class="string">&quot;s2 = &quot;</span> + s2); <span class="comment">// 98</span></span><br><span class="line">System.out.println(<span class="string">&quot;c2 = &quot;</span> + c2); <span class="comment">// b</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;b3 = &quot;</span> + b3); <span class="comment">// 97</span></span><br><span class="line">System.out.println(<span class="string">&quot;s3 = &quot;</span> + s3); <span class="comment">// 97</span></span><br><span class="line">System.out.println(<span class="string">&quot;c3 = &quot;</span> + c3); <span class="comment">// c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 小数点后位数丢失，造成精度损失</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> (<span class="type">int</span>)<span class="number">1.9</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;i1 = &quot;</span> + i1); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// byte最大整数为127，2000大于127，造成数据溢出</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="number">2000</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> (<span class="type">byte</span>)i2;</span><br><span class="line">System.out.println(<span class="string">&quot;b = &quot;</span> + b); <span class="comment">// -48</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>基本数据类型和String类型的转换</p>
<ul>
<li>基本数据类型 -&gt; String类型 : 将基本类型的值 + <code>”“</code>即可</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本数据类型 -&gt; String</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">short</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"><span class="type">float</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="number">1.1f</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="number">2.2</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">o1</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> b1 + <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> s1 + <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> i1 + <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str4</span> <span class="operator">=</span> f1 + <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str5</span> <span class="operator">=</span> d1 + <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str6</span> <span class="operator">=</span> o1 + <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 2 3 1.1 2.2 true</span></span><br><span class="line">System.out.println(str1 + <span class="string">&quot; &quot;</span> + str2 + <span class="string">&quot; &quot;</span> + str3 + <span class="string">&quot; &quot;</span> + str4 + <span class="string">&quot; &quot;</span> + str5 + <span class="string">&quot; &quot;</span> + str6)</span><br></pre></td></tr></table></figure>
<ul>
<li>String -&gt; 基本数据类型 ：通过基本类型的包装类调用<code>parseXXX</code>方法（确保能够转换成有效的数据，如：hello不可以）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// String -&gt; 基本数据类型</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">byte</span> <span class="variable">num1</span> <span class="operator">=</span> Byte.parseByte(str);</span><br><span class="line"><span class="type">short</span> <span class="variable">num2</span> <span class="operator">=</span> Short.parseShort(str);</span><br><span class="line"><span class="type">int</span> <span class="variable">num3</span> <span class="operator">=</span> Integer.parseInt(str);</span><br><span class="line"><span class="type">long</span> <span class="variable">num4</span> <span class="operator">=</span> Long.parseLong(str);</span><br><span class="line"><span class="type">float</span> <span class="variable">num5</span> <span class="operator">=</span> Float.parseFloat(str);</span><br><span class="line"><span class="type">double</span> <span class="variable">num6</span> <span class="operator">=</span> Double.parseDouble(str);</span><br><span class="line"><span class="type">boolean</span> <span class="variable">num7</span> <span class="operator">=</span> Boolean.parseBoolean(str);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 123 123 123 123 123.0 123.0 false</span></span><br><span class="line">System.out.println(num1 + <span class="string">&quot; &quot;</span> + num2 + <span class="string">&quot; &quot;</span> + num3 + <span class="string">&quot; &quot;</span> + num4 + <span class="string">&quot; &quot;</span> + num5 + <span class="string">&quot; &quot;</span> + num6 + <span class="string">&quot; &quot;</span> + num7);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将字符串转成字符 -&gt; 把字符串的第一个字符得到</span></span><br><span class="line">System.out.println(str.charAt(<span class="number">0</span>)); <span class="comment">// `1`</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>引用数据类型</p>
<ul>
<li>
<p>类（class）</p>
<ul>
<li>string属于类</li>
</ul>
</li>
<li>
<p>接口（interface）</p>
</li>
<li>
<p>数组</p>
<ul>
<li>
<p>定义数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义数组①</span></span><br><span class="line"><span class="type">double</span>[] hens = &#123;<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">3.4</span>,<span class="number">2</span>,<span class="number">50</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义数组②</span></span><br><span class="line"><span class="type">int</span> i_hens[] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义数组③</span></span><br><span class="line"><span class="type">double</span>[] autohens; <span class="comment">// 声明数组</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;输入数组长度:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"><span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> scanner.nextInt();	</span><br><span class="line"></span><br><span class="line">autohens = <span class="keyword">new</span> <span class="title class_">double</span>[cnt]; <span class="comment">// 定义数组</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;输入数组元素:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; cnt;i++)</span><br><span class="line">    autohens[i] = scanner.nextDouble();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; cnt;i++)</span><br><span class="line">    System.out.println(autohens[i]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义二维数组</span></span><br><span class="line"><span class="type">double</span>[][] container = &#123;hens,autohens&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; container.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(i + <span class="string">&quot;:&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; container[i].length;j++)</span><br><span class="line">        System.out.println(container[i][j]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>二维数组</p>
<ul>
<li>定义二维数组 <mark>Java中，二维数组每一维的个数可以不一样</mark></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义形式 ① </span></span><br><span class="line"><span class="type">int</span>[][] arr = &#123;&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">               &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">               &#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">               &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义形式 ②</span></span><br><span class="line"><span class="type">int</span>[][] arr2 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义形式 ③ </span></span><br><span class="line"><span class="type">int</span>[] y[]; <span class="comment">// y 是二维数组</span></span><br><span class="line">y = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>][<span class="number">2</span>];</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[][] arr3 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>][]; <span class="comment">// 确定第一维的维度</span></span><br><span class="line">		</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; arr3.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 必须给每一维分配空间</span></span><br><span class="line">    arr3[i] = <span class="keyword">new</span> <span class="title class_">int</span>[i + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; arr3[i].length;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        arr3[i][j] = i + j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; arr3.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; arr3[i].length;j++)</span><br><span class="line">        System.out.print(arr3[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> </span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">4</span> </span><br></pre></td></tr></table></figure>
<ul>
<li>二维数组在内存中的形式</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84.png" alt></p>
</li>
<li>
<p>数组中的元素不止可以是基本数据类型，也可以是引用数据类型。</p>
</li>
<li>
<p>数组创建后，如果没有赋值，有默认值。</p>
</li>
<li>
<p>数组的赋值机制：引用传递，赋的值是地址。</p>
<ul>
<li>值传递，赋的值是数值。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 值传递，n2改变不会影响n1</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> n1;</span><br><span class="line"></span><br><span class="line">n2 = <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;n1 = &quot;</span> + n1);</span><br><span class="line">System.out.println(<span class="string">&quot;n2 = &quot;</span> + n2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引用传递，arr2改变会影响arr1</span></span><br><span class="line"><span class="type">int</span>[] arr1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="type">int</span>[] arr2 = arr1;</span><br><span class="line"></span><br><span class="line">arr2[<span class="number">2</span>] = <span class="number">90</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;arr1:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; arr1.length;i++)</span><br><span class="line">    System.out.print(arr1[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">System.out.println();</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;arr2:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; arr2.length;i++)</span><br><span class="line">    System.out.print(arr2[i] + <span class="string">&quot; &quot;</span>);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n1 = <span class="number">10</span></span><br><span class="line">n2 = <span class="number">80</span></span><br><span class="line">arr1:</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">90</span> </span><br><span class="line">arr2:</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">90</span> </span><br></pre></td></tr></table></figure>
<p>![](./Java学习/值传递 vs 引用传递.png)</p>
</li>
<li>
<p>数组拷贝：数据空间是独立的</p>
</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%95%B0%E7%BB%84%E6%8B%B7%E8%B4%9D.jpg" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数组拷贝，arr2改变不会影响arr1</span></span><br><span class="line"><span class="type">int</span>[] arr1 = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>&#125;;</span><br><span class="line"><span class="type">int</span>[] arr2 = <span class="keyword">new</span> <span class="title class_">int</span>[arr1.length];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; arr1.length;i++)</span><br><span class="line">    arr2[i] = arr1[i];</span><br><span class="line"></span><br><span class="line">arr2[<span class="number">0</span>] = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;arr1:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; arr1.length;i++)</span><br><span class="line">    System.out.print(arr1[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">System.out.println();</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;arr2:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; arr2.length;i++)</span><br><span class="line">    System.out.print(arr2[i] + <span class="string">&quot; &quot;</span>);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr1:</span><br><span class="line"><span class="number">10</span> <span class="number">20</span> <span class="number">30</span> </span><br><span class="line">arr2:</span><br><span class="line"><span class="number">100</span> <span class="number">20</span> <span class="number">30</span> </span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>Java没有无符号数，Java中的数都是有符号的。</p>
</li>
</ul>
<h2 id="8运算符"><a class="markdownIt-Anchor" href="#8运算符"></a> 8.运算符</h2>
<ul>
<li>
<p>算术运算符</p>
<ul>
<li>
<p><code>+</code></p>
<ul>
<li>当左右两边都是数值型时，作加法运算</li>
<li>当左右两边有一方为字符串，作拼接运算</li>
<li>运算顺序从左到右</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="number">100</span> + <span class="number">98</span>); <span class="comment">// 198</span></span><br><span class="line">System.out.println(<span class="string">&quot;100&quot;</span> + <span class="number">98</span>); <span class="comment">// 10098</span></span><br><span class="line">System.out.println(<span class="number">100</span> + <span class="number">3</span> + <span class="string">&quot;hello&quot;</span>); <span class="comment">// 1003hello</span></span><br><span class="line">System.out.println(<span class="string">&quot;hello&quot;</span> + <span class="number">100</span> + <span class="number">3</span>); <span class="comment">// hello1003</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>/</code></p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">10</span> / <span class="number">4</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;d = &quot;</span> + d); <span class="comment">// 2.0</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>%</code> : 本质是 <code>a % b = a - a / b * b</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;-10 % 3 = &quot;</span> + (-<span class="number">10</span> % <span class="number">3</span>)); <span class="comment">// -1</span></span><br><span class="line">System.out.println(<span class="string">&quot;10 % -3 = &quot;</span> + (<span class="number">10</span> % -<span class="number">3</span>)); <span class="comment">// 1</span></span><br><span class="line">System.out.println(<span class="string">&quot;-10 % -3 = &quot;</span> + (-<span class="number">10</span> % -<span class="number">3</span>)); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>++</code></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/155629007">面试细节: i = i++和 i = ++i </a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * (1) temp = i = 1;</span></span><br><span class="line"><span class="comment"> * (2) i = i + 1 = 2;</span></span><br><span class="line"><span class="comment"> * (3) i = temp = 1;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">i1 = i1++;</span><br><span class="line">System.out.println(<span class="string">&quot;i1 = &quot;</span> + i1); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> i1++;</span><br><span class="line">System.out.println(<span class="string">&quot;tmp = &quot;</span> + tmp); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * (1) i = i + 1 = 2;</span></span><br><span class="line"><span class="comment"> * (2) temp = i = 2;</span></span><br><span class="line"><span class="comment"> * (3) i = temp = 2;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">i2 = ++i2;</span><br><span class="line">System.out.println(<span class="string">&quot;i2 = &quot;</span> + i2);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>关系运算符</p>
<ul>
<li><code>instanceof</code>: 检查是否是类的对象，例如：“hsp” instanceof String</li>
</ul>
</li>
<li>
<p>逻辑运算符</p>
<p>&amp;&amp;<code>(短路与)、</code>||<code>（短路或）、</code>&amp;<code>（逻辑与）、</code>|<code>（逻辑或）、</code>!<code>（取反）、</code>^`（逻辑异或）</p>
</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E8%A7%84%E5%88%99.jpg" alt></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%9F%AD%E8%B7%AF%E4%B8%8Evs%E9%80%BB%E8%BE%91%E4%B8%8E.jpg" alt></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%9F%AD%E8%B7%AF%E6%88%96vs%E9%80%BB%E8%BE%91%E6%88%96.jpg" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="variable">x</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"><span class="type">boolean</span> <span class="variable">y</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">short</span> <span class="variable">z</span> <span class="operator">=</span> <span class="number">46</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// z++ == 46: z == 46 √   z = 47</span></span><br><span class="line"><span class="comment">// y = true : 为赋值语句，而不是逻辑运算</span></span><br><span class="line"><span class="comment">// &amp;&amp; : 只有在第一个表达式为false的时候，才不会判断第二个表达式</span></span><br><span class="line"><span class="comment">// z++ : z = 48</span></span><br><span class="line"><span class="keyword">if</span>((z++ == <span class="number">46</span>) &amp;&amp; (y = <span class="literal">true</span>))</span><br><span class="line">    z++;</span><br><span class="line"></span><br><span class="line"><span class="comment">// x = false: 为赋值语句，而不是逻辑运算</span></span><br><span class="line"><span class="comment">// || : 只有在第一个表达式为true的时候，才不会判断第二个表达式</span></span><br><span class="line"><span class="comment">// ++z == 49 : z = 49 √</span></span><br><span class="line"><span class="comment">// z = 50</span></span><br><span class="line"><span class="keyword">if</span>((x = <span class="literal">false</span>) || (++z == <span class="number">49</span>))</span><br><span class="line">    z++;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;z = &quot;</span> + z); <span class="comment">// 50</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>赋值运算符</p>
<ul>
<li>
<p>基本赋值运算符  <code>=</code></p>
</li>
<li>
<p>复合赋值运算符 <code>+=</code> 、<code>-=</code>、<code>*=</code>、<code>/=</code>、<code>%=</code></p>
<p>复合运算符会进行类型转换（++也会进行类型转换）</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line">		</span><br><span class="line"><span class="comment">// error : cannot convert from int to byte</span></span><br><span class="line"><span class="comment">// 2 是 int 型</span></span><br><span class="line">b = b + <span class="number">2</span>; </span><br><span class="line">System.out.println(<span class="string">&quot;b = &quot;</span> + b);</span><br><span class="line"></span><br><span class="line">b += <span class="number">2</span>; <span class="comment">// 等价于 b = (byte)(b + 2);</span></span><br><span class="line">System.out.println(<span class="string">&quot;b = &quot;</span> + b); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line">b++; <span class="comment">// 等价于 b = (byte)(b + 1);</span></span><br><span class="line">System.out.println(<span class="string">&quot;b = &quot;</span> + b); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>三元运算符 <code>条件表达式?表达式1:表达式2</code></p>
<ul>
<li>表达式1和表达式2要为可以赋给接受变量的类型（或可以自动转换）</li>
</ul>
</li>
<li>
<p>位运算</p>
<ul>
<li><code>&lt;&lt;</code>、<code>&gt;&gt;</code>、<code>&gt;&gt;&gt;</code>
<ul>
<li>算术右移<code>&gt;&gt;</code>: 低位溢出，符号位不变，并用符号位补溢出的高位。 <mark>除以2</mark></li>
<li>算术左移<code>&lt;&lt;</code>：符号位不变，低位补0。<mark>乘2</mark></li>
<li>逻辑右移（无符号右移）<code>&gt;&gt;&gt;</code>：低位溢出，高位补0。</li>
<li>没有<code>&lt;&lt;&lt;</code></li>
</ul>
</li>
<li>按位与<code>&amp;</code>、按位或<code>|</code>、按位异或<code>^</code>、按位取反<code>~</code>
<ul>
<li>按位异或保活符号位</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="9标识符命名规则"><a class="markdownIt-Anchor" href="#9标识符命名规则"></a> 9.标识符命名规则</h2>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%A0%87%E8%AF%86%E7%AC%A6%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99.jpg" alt></p>
<h2 id="10键盘输入语句"><a class="markdownIt-Anchor" href="#10键盘输入语句"></a> 10.键盘输入语句</h2>
<p>​	需要<code>Scanner</code>文本扫描器（对象）,<code>Scanner</code>在<code>java.util.*</code>包中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建Scanner对象</span></span><br><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收用户输入</span></span><br><span class="line">System.out.println(<span class="string">&quot;请输入名字:&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scanner.next(); <span class="comment">// 接收字符串</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;请输入年龄:&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> scanner.nextInt(); <span class="comment">// 接收int</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;请输入薪水:&quot;</span>);</span><br><span class="line"><span class="type">double</span> <span class="variable">sal</span> <span class="operator">=</span> scanner.nextDouble();</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;人的信息如下:&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;名字:&quot;</span> + name + <span class="string">&quot;年龄:&quot;</span> + age + <span class="string">&quot;薪水:&quot;</span> + sal); <span class="comment">// 名字:XinWanna年龄:20薪水:1200.0</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> scanner.next().charAt(<span class="number">0</span>); <span class="comment">// 接收字符</span></span><br><span class="line">System.out.println(<span class="string">&quot;c = &quot;</span> + c);</span><br></pre></td></tr></table></figure>
<h2 id="11进制"><a class="markdownIt-Anchor" href="#11进制"></a> 11.进制</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二进制，以&quot;0b&quot;开头</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">0b1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 十进制</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">1010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 八进制，以&quot;0&quot;开头</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n3</span> <span class="operator">=</span> <span class="number">01010</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 十六进制，以&quot;0X&quot;或&quot;0x&quot;开头</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n4</span> <span class="operator">=</span> <span class="number">0X10101</span>;</span><br></pre></td></tr></table></figure>
<p>计算机在运算的时候，都是以补码的方式来运算的。</p>
<h2 id="12switch分支结构"><a class="markdownIt-Anchor" href="#12switch分支结构"></a> 12.switch分支结构</h2>
<ul>
<li>表达式数据类型，应和case后的常量类型一致，或者可以自动转成可以相互比较的类型。</li>
<li><code>switch(表达式)中，表达式的返回值必须是 </code>byte<code>、</code>short<code>、</code>int<code>、</code>char<code>、</code>enum<code>（枚举）、</code>String</li>
<li><code>case</code>子句中的值必须是常量（常量和常量计算后得到的常量也是可以的），而不能是变量。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">		</span><br><span class="line">System.out.println(<span class="string">&quot;输入月份:&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">month</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span>(month)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">        System.out.println(<span class="string">&quot;这是春季&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">        System.out.println(<span class="string">&quot;这是夏季&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">        System.out.println(<span class="string">&quot;这是秋季&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>; <span class="comment">// 不加break会将下面的输出</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        System.out.println(<span class="string">&quot;这是冬季&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        System.out.println(<span class="string">&quot;输入的月份不对!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13循环语句"><a class="markdownIt-Anchor" href="#13循环语句"></a> 13.循环语句</h2>
<ul>
<li>
<p><code>for</code>循环</p>
<ul>
<li>循环初始值可以有多条初始化语句，但要求类型一样。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>,<span class="type">byte</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span>;i &lt;= <span class="number">5</span>;i++,j++) <span class="comment">// error</span></span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="14生成随机数"><a class="markdownIt-Anchor" href="#14生成随机数"></a> 14.生成随机数</h2>
<p>​	<code>Math.random()</code>: 介于[0,1]</p>
<h2 id="15跳转控制语句break-continue-return"><a class="markdownIt-Anchor" href="#15跳转控制语句break-continue-return"></a> 15.跳转控制语句（break、continue、return）</h2>
<ul>
<li>
<p><code>break</code>可以使用标签指定要<strong>退出</strong>到哪一层循环（不建议使用）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">label1:</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        label2:</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; <span class="number">2</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">2</span>)</span><br><span class="line">                    <span class="keyword">break</span> label2;</span><br><span class="line"></span><br><span class="line">                System.out.println(<span class="string">&quot;i = &quot;</span> + i);	</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">i = <span class="number">3</span></span><br><span class="line">i = <span class="number">3</span></span><br><span class="line">i = <span class="number">4</span></span><br><span class="line">i = <span class="number">4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">label1:</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        label2:</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; <span class="number">2</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">2</span>)</span><br><span class="line">                    <span class="keyword">break</span> label1;</span><br><span class="line"></span><br><span class="line">                System.out.println(<span class="string">&quot;i = &quot;</span> + i);	</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line">i = <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>continue</code>也可使用标签来表明<strong>回到</strong>哪一层循环</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">label1:</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        label2:</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; <span class="number">2</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">2</span>)</span><br><span class="line">                    <span class="keyword">continue</span> label1;</span><br><span class="line"></span><br><span class="line">                System.out.println(<span class="string">&quot;i = &quot;</span> + i);	</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：即当<code>i=2</code>的时候，直接跳到<code>i=3</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">i = <span class="number">3</span></span><br><span class="line">i = <span class="number">3</span></span><br><span class="line">i = <span class="number">4</span></span><br><span class="line">i = <span class="number">4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">label1:</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        label2:</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; <span class="number">2</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">2</span>)</span><br><span class="line">                    <span class="keyword">continue</span> label2;</span><br><span class="line"></span><br><span class="line">                System.out.println(<span class="string">&quot;i = &quot;</span> + i);	</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>输出结果与前面一致，因为跳回到第二层循环，但i的值未变。</p>
<h2 id="16冒泡排序"><a class="markdownIt-Anchor" href="#16冒泡排序"></a> 16.冒泡排序</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">		</span><br><span class="line">System.out.println(<span class="string">&quot;请输入数组长度:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[cnt];</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;输入数组元素:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; cnt;i++)</span><br><span class="line">    arr[i] = scanner.nextInt();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; cnt;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> cnt - <span class="number">1</span>;j &gt; i;j--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[j] &lt; arr[j - <span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> arr[j - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            arr[j - <span class="number">1</span>] = arr[j];</span><br><span class="line">            arr[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;输出冒泡排序后的数组:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; cnt;i++)</span><br><span class="line">    System.out.print(arr[i] + <span class="string">&quot; &quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="17字符串"><a class="markdownIt-Anchor" href="#17字符串"></a> 17.字符串</h2>
<ul>
<li>判断两个字符串是否相等 <code>str1.equals(str2)</code>
<ul>
<li><code>==</code> 比较的是两个对象的引用地址，而不是它们的内容。由于输入的字符串与数组中的字符串是不同的对象，即使它们的内容相同，<code>==</code> 也会返回 <code>false</code>。</li>
<li><code>equals()</code> 用于比较两个字符串的值是否相同，而不是比较它们的内存地址。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">String[] names = &#123;<span class="string">&quot;白眉鹰王&quot;</span>,<span class="string">&quot;金毛狮王&quot;</span>,<span class="string">&quot;紫衫龙王&quot;</span>,<span class="string">&quot;青翼辐王&quot;</span>&#125;;</span><br><span class="line">		</span><br><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;请输入名字:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scanner.next();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; names.length;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// if(names[i] == name) 错误的查找方式</span></span><br><span class="line">    <span class="keyword">if</span>(names[i].equals(name))</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;查找成功!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;查找失败!&quot;</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>字符串数组</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符串数组</span></span><br><span class="line">String str1[] = &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>&#125;; <span class="comment">// error,char -&gt; String</span></span><br><span class="line">String[] str2 = <span class="keyword">new</span> <span class="title class_">String</span>&#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>&#125;; <span class="comment">// error</span></span><br><span class="line">String str3[] = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>&#125;; <span class="comment">// correct</span></span><br><span class="line">String[] str4 = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">3</span>]&#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>&#125;; <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">foo</span> <span class="operator">=</span> <span class="string">&quot;blue&quot;</span>;</span><br><span class="line"><span class="type">boolean</span>[] bar = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断的是数组的值</span></span><br><span class="line"><span class="keyword">if</span>(bar[<span class="number">0</span>])</span><br><span class="line">&#123;</span><br><span class="line">    foo = <span class="string">&quot;green&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(foo); <span class="comment">// blue</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="18类与对象"><a class="markdownIt-Anchor" href="#18类与对象"></a> 18.类与对象</h2>
<ul>
<li>
<p>类是数据类型，对象是一个具体的实例。</p>
</li>
<li>
<p>类名不要与文件名相同 <mark>不区分大小写</mark></p>
</li>
<li>
<p>从 类=&gt;对象 的几种说法：① 创建一个对象  ② 实例化一个对象  ③ 把类实例化</p>
</li>
<li>
<p>对象在内存中的分布：引用数据类型需要在方法区的常量池中申请一块空间。</p>
<ul>
<li>栈：一般存放基本数据类型（局部变量）</li>
<li>堆：存放对象（Cat cat，数组等）</li>
<li>方法区：常量池（常量，比如字符串），类加载信息。</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AF%B9%E8%B1%A1%E5%86%85%E5%AD%98%E5%88%86%E5%B8%83.png" alt></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D.png" alt></p>
</li>
<li>
<p>Java创建对象的流程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"></span><br><span class="line">p.name = <span class="string">&quot;jack&quot;</span>;</span><br><span class="line">p.age = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>先加载类信息（属性和方法信息，只会加载一次）</li>
<li>在堆中分配空间，对类中属性进行默认初始化（看规则）</li>
<li>把地址赋给p,p就指向对象。</li>
<li>对属性进行指定初始化</li>
</ul>
</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AF%B9%E8%B1%A1%E6%9C%BA%E5%88%B6%E7%BB%83%E4%B9%A0.png" alt></p>
<ul>
<li>
<p>方法调用机制</p>
<ul>
<li>当类中方法或main方法执行完毕后，在栈中的空间将会被释放。</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E6%9C%BA%E5%88%B6.jpg" alt></p>
<ul>
<li><code>return</code>语句不是必须的</li>
<li>方法定义时的参数称为形式参数，简称为形参；方法调用时的参数称为实际参数，简称为实参。</li>
<li>方法不能嵌套定义</li>
<li>同类中的方法直接调用即可；跨类中的方法Student类调用Person类方法，需要通过对象名调用。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">(Person p)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 跨类中的方法Student类调用Person类方法，需要通过对象名调用</span></span><br><span class="line">		p.speak();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;我是一名学生!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我叫&quot;</span> + name + <span class="string">&quot;,我的年龄是&quot;</span> + age + <span class="string">&quot;,我是一个好人!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> salary,<span class="type">int</span> allowance)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 同类中的方法直接调用即可</span></span><br><span class="line">		speak();</span><br><span class="line">		<span class="keyword">return</span> salary + allowance;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">cat_class</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">		person.name = <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line">		person.age = <span class="number">20</span>;</span><br><span class="line">		</span><br><span class="line">		person.speak(); <span class="comment">// 调用方法</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;薪水为&quot;</span> + person.sum(<span class="number">2000</span>, <span class="number">0</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		stu.speak(person);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">我叫XinWanna,我的年龄是<span class="number">20</span>,我是一个好人!</span><br><span class="line">我叫XinWanna,我的年龄是<span class="number">20</span>,我是一个好人!</span><br><span class="line">薪水为<span class="number">2000</span></span><br><span class="line">我叫XinWanna,我的年龄是<span class="number">20</span>,我是一个好人!</span><br><span class="line">我是一名学生!</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>方法传参机制</p>
<ul>
<li>
<p>基本数据类型，传递的时值（值拷贝），形参的任何改变不影响实参。</p>
<p><code>main</code>函数与<code>swapA</code>函数分别是两个独立空间，两个函数的<code>a</code>和<code>b</code>不一样。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">swapA</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;a和b交换前的值: a = &quot;</span> + a + <span class="string">&quot;, b = &quot;</span> + b);</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">tmp</span> <span class="operator">=</span> a;</span><br><span class="line">		a = b;</span><br><span class="line">		b = tmp;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;a和b交换后的值: a = &quot;</span> + a + <span class="string">&quot;, b = &quot;</span> + b);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">class_pass</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">swapA</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">swapA</span>();</span><br><span class="line">		s.swap(a, b);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;main方法: a = &quot;</span> + a + <span class="string">&quot;, b = &quot;</span> + b);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>引用类型传递的是地址（传递的也是值，但值是地址），可以通过形参影响实参。</p>
</li>
<li>
<p>练习</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">(Person p)</span></span><br><span class="line">	&#123;</span><br><span class="line">		p = <span class="literal">null</span>;</span><br><span class="line">		System.out.println(<span class="string">&quot;已置空！&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我叫&quot;</span> + name + <span class="string">&quot;,我的年龄是&quot;</span> + age + <span class="string">&quot;,我是一个好人!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">cat_class</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">		person.name = <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line">		person.age = <span class="number">20</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		stu.speak(person);</span><br><span class="line">		</span><br><span class="line">		person.speak();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">已置空！</span><br><span class="line">我叫XinWanna,我的年龄是<span class="number">20</span>,我是一个好人!</span><br></pre></td></tr></table></figure>
<p>原理：在<code>Student</code>对象中的<code>speak</code>方法里，将<code>p</code>置空后，并不会影响<code>main</code>函数中的指向。</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%96%B9%E6%B3%95%E4%BC%A0%E5%8F%82%E6%9C%BA%E5%88%B6.png" alt></p>
</li>
</ul>
</li>
</ul>
<h2 id="19递归"><a class="markdownIt-Anchor" href="#19递归"></a> 19.递归</h2>
<ul>
<li>递归运行机制</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%80%92%E5%BD%92%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6_1.jpg" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">T</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(n &gt; <span class="number">2</span>)</span><br><span class="line">			test(n - <span class="number">1</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;n = &quot;</span> + n);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">recursion</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">		t.test(<span class="number">4</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">2</span></span><br><span class="line">n = <span class="number">3</span></span><br><span class="line">n = <span class="number">4</span></span><br></pre></td></tr></table></figure>
<ul>
<li>斐波那契数列</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">T</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(n &lt;= <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;n = &quot;</span> + n + <span class="string">&quot;,输入非法&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(n == <span class="number">1</span> || n == <span class="number">2</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 公式也是错的</span></span><br><span class="line">		<span class="comment">// test(n) 会陷入无限循环中，导致报错 : Exception in thread &quot;main&quot; java.lang.StackOverflowError</span></span><br><span class="line">		<span class="comment">// return test(n) + test(n - 1);</span></span><br><span class="line">		<span class="keyword">return</span> test(n - <span class="number">1</span>) + test(n - <span class="number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">recursion</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">T</span>();</span><br><span class="line">		System.out.println(<span class="string">&quot;结果为: &quot;</span> + t.test(<span class="number">4</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>猴子吃桃问题：有一堆桃子，猴子第一天吃了其中的一半，并再多吃了一个！以后每天猴子都吃其中的一半，然后再多吃一个。当第十天的时候，发现只有一个桃子。问：最初共有多少个桃子？</p>
<ul>
<li>解法一</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Peach</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> cnt)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(n &lt;= <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> cnt;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> sum(--n,(cnt + <span class="number">1</span>) * <span class="number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">monkey_peach</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Peach</span> <span class="variable">peach</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Peach</span>();</span><br><span class="line">		System.out.println(<span class="string">&quot;一共有 &quot;</span> + peach.sum(<span class="number">10</span>, <span class="number">1</span>) + <span class="string">&quot;个桃子&quot;</span>); <span class="comment">// 1534</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>解法二 : 不需要额外定义变量计算</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Peach</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> day)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(day == <span class="number">10</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(day &gt;= <span class="number">1</span> &amp;&amp; day &lt;= <span class="number">9</span>)</span><br><span class="line">			<span class="keyword">return</span> (sum(day + <span class="number">1</span>) + <span class="number">1</span>) * <span class="number">2</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">monkey_peach</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Peach</span> <span class="variable">peach</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Peach</span>();</span><br><span class="line">		System.out.println(<span class="string">&quot;一共有 &quot;</span> + peach.sum(<span class="number">1</span>) + <span class="string">&quot;个桃子&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>老鼠出迷宫</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> </span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>求最短路径 : 使用<code>bfs</code>求最短路径</p>
<ul>
<li>
<p>队列</p>
<ul>
<li>创建队列</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Queue&lt;Pair&gt; qu = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>
<ul>
<li>向队列中插入元素</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qu.offer(start); </span><br></pre></td></tr></table></figure>
<ul>
<li>队列判空</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qu.isEmpty()</span><br></pre></td></tr></table></figure>
<ul>
<li>返回队列中的第一个元素，并在队列中删除</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qu.poll()</span><br></pre></td></tr></table></figure>
<ul>
<li>返回队列中的第一个元素</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qu.element(),qu.peek()</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>数组初始化为统一值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Arrays.fill(st[i], <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> first;</span><br><span class="line">	<span class="type">int</span> second;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BFS</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 表征移动方向</span></span><br><span class="line">	<span class="type">int</span> dx[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,-<span class="number">1</span>&#125;;</span><br><span class="line">	<span class="type">int</span> dy[] = &#123;<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> dist[][] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">8</span>][<span class="number">7</span>];</span><br><span class="line">	<span class="type">boolean</span>[][] st = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">8</span>][<span class="number">7</span>];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">bfs</span><span class="params">(<span class="type">int</span>[][] map,Pair start,Pair end)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 定义队列</span></span><br><span class="line">		Queue&lt;Pair&gt; qu = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">		qu.offer(start); <span class="comment">// 向队列中插入元素</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 初始化数组中的数值</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">8</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			Arrays.fill(dist[i], -<span class="number">1</span>);</span><br><span class="line">			Arrays.fill(st[i], <span class="literal">false</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		dist[start.first][start.second] = <span class="number">0</span>;</span><br><span class="line">		st[start.first][start.second] = <span class="literal">true</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(!qu.isEmpty())</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// 返回第一个元素 : qu.element(),qu.peek()</span></span><br><span class="line">			<span class="type">Pair</span> <span class="variable">p</span> <span class="operator">=</span> qu.poll(); <span class="comment">// 返回第一个元素，并在队列中删除</span></span><br><span class="line">			</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">4</span>;i++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> p.first + dx[i];</span><br><span class="line">				<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> p.second + dy[i];</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(x &lt; <span class="number">0</span> || x &gt;= <span class="number">8</span> || y &lt; <span class="number">0</span> || y &gt;= <span class="number">7</span>)</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(dist[x][y] != -<span class="number">1</span>)</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(st[x][y])</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(map[x][y] == <span class="number">1</span>)</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				</span><br><span class="line">				dist[x][y] = dist[p.first][p.second] + <span class="number">1</span>;</span><br><span class="line">				st[x][y] = <span class="literal">true</span>;</span><br><span class="line">				</span><br><span class="line">				<span class="type">Pair</span> <span class="variable">pp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pair</span>();</span><br><span class="line">				</span><br><span class="line">				pp.first = x;</span><br><span class="line">				pp.second = y;</span><br><span class="line">				</span><br><span class="line">				qu.offer(pp);</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(x == end.first &amp;&amp; y == end.second)</span><br><span class="line">					<span class="keyword">return</span> dist[x][y];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">maze</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span>[][] map = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">8</span>][<span class="number">7</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">7</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			map[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">			map[<span class="number">7</span>][i] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">8</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			map[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			map[i][<span class="number">6</span>] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="comment">//		map[3][1] = 1,map[3][2] = 1;</span></span><br><span class="line">		</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">4</span>][<span class="number">4</span>] = <span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">8</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; <span class="number">7</span>;j++)</span><br><span class="line">				System.out.print(map[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Pair</span> <span class="variable">start</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pair</span>();</span><br><span class="line">		<span class="type">Pair</span> <span class="variable">end</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pair</span>();</span><br><span class="line">		</span><br><span class="line">		start.first = <span class="number">1</span>;</span><br><span class="line">		start.second = <span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		end.first = <span class="number">6</span>;</span><br><span class="line">		end.second = <span class="number">5</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">BFS</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BFS</span>();</span><br><span class="line">		System.out.println(<span class="string">&quot;最短路径的步数为 : &quot;</span> + b.bfs(map, start, end));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果：最短路径的步数为 : 9</p>
<ul>
<li>
<p>递归判断是否能否走通</p>
<p>最终找到的路径与枚举的方向有关</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MazeClass</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 0 : 表示尚未走过，无障碍物</span></span><br><span class="line">	<span class="comment">// 1 : 有障碍物</span></span><br><span class="line">	<span class="comment">// 2 : 走过，可以走通</span></span><br><span class="line">	<span class="comment">// 3 : 走过，不可以走通</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">find_maze</span><span class="params">(<span class="type">int</span>[][] map,<span class="type">int</span> i,<span class="type">int</span> j)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(map[<span class="number">6</span>][<span class="number">5</span>] == <span class="number">2</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 尚未走过，且不是障碍物</span></span><br><span class="line">		<span class="keyword">if</span>(map[i][j] == <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			map[i][j] = <span class="number">2</span>;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 下 -&gt; 右 -&gt; 上 -&gt; 左</span></span><br><span class="line">			<span class="keyword">if</span>(find_maze(map,i + <span class="number">1</span>,j))</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(find_maze(map,i,j + <span class="number">1</span>))</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(find_maze(map,i - <span class="number">1</span>,j))</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(find_maze(map,i,j - <span class="number">1</span>))</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				map[i][j] = <span class="number">3</span>;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">rec_maze</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span>[][] map = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">8</span>][<span class="number">7</span>];</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">7</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			map[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">			map[<span class="number">7</span>][i] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">8</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			map[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			map[i][<span class="number">6</span>] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">3</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">		map[<span class="number">4</span>][<span class="number">3</span>] = <span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">8</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; <span class="number">7</span>;j++)</span><br><span class="line">				System.out.print(map[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">MazeClass</span> <span class="variable">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MazeClass</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;是否能走通:&quot;</span> + m.find_maze(map, <span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;路线为 : &quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">8</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; <span class="number">7</span>;j++)</span><br><span class="line">				System.out.print(map[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最终结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> </span><br><span class="line">是否能走通:<span class="literal">true</span></span><br><span class="line">路线为 : </span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2</span> <span class="number">2</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>汉诺塔问题</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Tower</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">(<span class="type">int</span> num,<span class="type">char</span> a,<span class="type">char</span> b,<span class="type">char</span> c)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(num == <span class="number">1</span>)</span><br><span class="line">			System.out.println(a + <span class="string">&quot;-&gt;&quot;</span> + c);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// (1) 将上面所有盘移动到b盘</span></span><br><span class="line">			move(num - <span class="number">1</span>,a,c,b);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// (2) 把最下面的盘移动到c盘</span></span><br><span class="line">			System.out.println(a + <span class="string">&quot;-&gt;&quot;</span> + c);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// (3) 把b塔的所有盘，移动到c，借助a</span></span><br><span class="line">			move(num - <span class="number">1</span>,b,a,c);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hanluota</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Tower</span> <span class="variable">tower</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tower</span>();</span><br><span class="line">		</span><br><span class="line">		tower.move(<span class="number">5</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>八皇后问题</p>
<ul>
<li>题目描述：在 8×8 的国际象棋棋盘上，放置 8 个皇后，要求每个皇后不能攻击到其他任何一个皇后。具体来说，皇后能够在横行、纵行以及两个对角线上攻击其他皇后。因此，问题可以归结为如何在棋盘上放置这 8 个皇后，使得任意两个皇后都不在同一行、同一列或同一对角线上。</li>
</ul>
</li>
</ul>
<h2 id="20重载"><a class="markdownIt-Anchor" href="#20重载"></a> 20.重载</h2>
<ul>
<li>概念：在同一个类中，多个同名方法存在，但要求 <strong>形参列表</strong> 不一致（形参类型、个数或者顺序不一样，参数名没有要求），返回类型不要求。</li>
<li>当调用重载函数的时候，会先选择<strong>形参类型与实参类型一致</strong>的函数，然后再考虑<strong>形参类型可以兼容实参类型</strong>的函数。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Over</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">caculate</span><span class="params">(<span class="type">int</span> n1,<span class="type">int</span> n2)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> n1 + n2;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">caculate</span><span class="params">(<span class="type">int</span> n1,<span class="type">double</span> n2)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> n1 / n2;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">caculate</span><span class="params">(<span class="type">double</span> n1,<span class="type">double</span> n2)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> n1 * n2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">overload</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Over</span> <span class="variable">over</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Over</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;计算结果为 : &quot;</span> + over.caculate(<span class="number">4</span>, <span class="number">2</span>)); <span class="comment">// 6</span></span><br><span class="line">		System.out.println(<span class="string">&quot;计算结果为 : &quot;</span> + over.caculate(<span class="number">4.0</span>, <span class="number">2</span>)); <span class="comment">// 8.0</span></span><br><span class="line">		System.out.println(<span class="string">&quot;计算结果为 : &quot;</span> + over.caculate(<span class="number">4</span>, <span class="number">2.0</span>)); <span class="comment">// 2.0</span></span><br><span class="line">		System.out.println(<span class="string">&quot;计算结果为 : &quot;</span> + over.caculate(<span class="number">4.0</span>, <span class="number">2.0</span>)); <span class="comment">// 8.0</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="21可变参数"><a class="markdownIt-Anchor" href="#21可变参数"></a> 21.可变参数</h2>
<ul>
<li>允许将同一个类中多个<strong>同名同功能</strong>但<strong>参数个数不同</strong>的方法，封装成一个方法。</li>
<li>可变参数的实参可以为0或者多个。</li>
<li>可变参数的实参可以为数组。</li>
<li>可变参数的本质是数组。</li>
<li>可变参数可以和普通类型的参数一起放在形参列表，但必须保证<strong>可变参数在最后</strong>。</li>
<li>一个形参列表中只能出现一个可变参数。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Caculate</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 相当于数组</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// The variable argument type Student of the method variableMethod must be the last parameter</span></span><br><span class="line">	<span class="comment">// public void variableMethod(Student... nums,int val)</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">variableMethod</span><span class="params">(<span class="type">int</span> val,Student... nums)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;一共输入 &quot;</span> + nums.length + <span class="string">&quot; 个学生!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">variableMethod</span><span class="params">(<span class="type">int</span>[]... nums)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; nums.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; nums[i].length;j++)</span><br><span class="line">				System.out.print(nums[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">			</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">variableParameters</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		<span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		<span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		<span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Caculate</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Caculate</span>();</span><br><span class="line">		</span><br><span class="line">		c.variableMethod(<span class="number">2</span>, s1,s2,s3,s4);</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span>[] arr1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">		<span class="type">int</span>[] arr2 = &#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;;</span><br><span class="line">		</span><br><span class="line">		c.variableMethod(arr1,arr2);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="22作用域"><a class="markdownIt-Anchor" href="#22作用域"></a> 22.作用域</h2>
<ul>
<li>全局变量：即属性，作用域为整个类体。</li>
<li>局部变量：即除了属性之外的其他变量，作用域为定义它的代码块中。</li>
<li>全局变量（属性）可以不赋值，直接使用，因为有默认值；局部变量必须赋值后，才能使用，因为没有默认值。</li>
<li>属性和局部变量可以重名，访问时遵循就近原则。</li>
<li>全局变量/属性可以加修饰符，局部变量不可以加修饰符。</li>
</ul>
<h2 id="23构造方法构造器"><a class="markdownIt-Anchor" href="#23构造方法构造器"></a> 23.构造方法/构造器</h2>
<ul>
<li>
<p>构造器的修饰符可以默认，也可以是 <code>public</code>、<code>protected</code>、<code>private</code>。</p>
</li>
<li>
<p>构造器是类的一种特殊的方法，主要作用是完成对<strong>新对象的初始化</strong>。</p>
</li>
<li>
<p>构造器没有返回值</p>
</li>
<li>
<p>方法名 和 类名字必须一样</p>
</li>
<li>
<p>参数列表 和 成员方法一样的规则</p>
</li>
<li>
<p>构造器的调用由系统完成</p>
</li>
<li>
<p>一个类可以定义多个不同的构造器，即构造器重载。</p>
</li>
<li>
<p>this</p>
<ul>
<li>java虚拟机货给每个对象分配<code>this</code>。</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/this%E5%85%B3%E9%94%AE%E5%AD%97.jpg" alt></p>
<ul>
<li>
<p><code>this.hashCode()</code>：针对不同的对象返回不同的整数，通过将该地想的内部地址转换成一个整数来实现的。</p>
</li>
<li>
<p><code>this</code>关键字可以用来访问本类的属性、方法、构造器</p>
</li>
<li>
<p>访问成员方法的语法：<code>this.方法名(参数列表)</code></p>
</li>
<li>
<p>访问构造器语法：<code>this(参数列表)</code>  <strong>只能在构造器中使用</strong>    <strong>必须放在第一句话</strong> <strong>只能用一个构造器</strong></p>
<p>只有当构造器无传参的时候，才会调用默认构造器，否则还是调用自定义的构造器。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cons</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Cons</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// this(name,age); error</span></span><br><span class="line">		<span class="built_in">this</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;访问第一个构造器!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Cons</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;访问第二个构造器!&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">constructorClass</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Cons</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cons</span>();</span><br><span class="line">		System.out.println(<span class="string">&quot;姓名是&quot;</span> + c1.name + <span class="string">&quot;,年龄是&quot;</span> + c1.age);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Cons</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cons</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;姓名是&quot;</span> + c2.name + <span class="string">&quot;,年龄是&quot;</span> + c2.age);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">访问第二个构造器!</span><br><span class="line">访问第一个构造器!</span><br><span class="line">姓名是XinWanna,年龄是<span class="number">20</span></span><br><span class="line">访问第二个构造器!</span><br><span class="line">姓名是XinWanna,年龄是<span class="number">20</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>this</code>不能在类定义的外部使用，只能在类定义的方法中使用。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stu</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Stu</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;this.hashCode = &quot;</span> + <span class="built_in">this</span>.hashCode()); <span class="comment">// 366712642</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Stu</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		System.out.println(<span class="string">&quot;this.hashCode = &quot;</span> + <span class="built_in">this</span>.hashCode()); <span class="comment">// 1829164700</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Stu</span><span class="params">(<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">		System.out.println(<span class="string">&quot;this.hashCode = &quot;</span> + <span class="built_in">this</span>.hashCode()); <span class="comment">// 2018699554</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getOut</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;学生的姓名是: &quot;</span> + name + <span class="string">&quot; ,学生的年龄是 &quot;</span> + age);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">constructor</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Stu</span> <span class="variable">stu1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>);</span><br><span class="line">		stu1.getOut(); <span class="comment">// 学生的姓名是: XinWanna ,学生的年龄是 20</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;第一个学生的hashCode值为:&quot;</span> + stu1.hashCode()); <span class="comment">// 366712642</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Stu</span> <span class="variable">stu2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		stu2.getOut();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;第二个学生的hashCode值为:&quot;</span> + stu2.hashCode()); <span class="comment">// 1829164700</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Stu</span> <span class="variable">stu3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="number">20</span>);</span><br><span class="line">		stu3.getOut();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;第三个学生的hashCode值为:&quot;</span> + stu3.hashCode()); <span class="comment">// 2018699554</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>如果没有定义构造器，系统会自动给类生成一个默认无参构造器。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">类型 ()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>一旦定义了自己的构造器，默认的构造器就覆盖了，就不能再使用无参构造器，除非显示的定义一下无参构造器。</li>
<li>对象创建的流程分析
<ul>
<li>加载类信息，只会加载一次</li>
<li>在堆中分配空间（地址）</li>
<li>完成对象初始化
<ul>
<li>默认初始化（即按照类型给每个属性分配默认值）</li>
<li>显示初始哈（即给属性显式的赋值）</li>
<li>构造器的初始化</li>
<li>把对象在堆中的地址返回给 对象名 或 对象的引用</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="24包"><a class="markdownIt-Anchor" href="#24包"></a> 24.包</h2>
<ul>
<li>包的本质实际上就是创建不同的文件夹/目录来保存类文件</li>
<li>包名命名规则：只能包含数字、字母、下划线、小圆点，不能以数字开头，不能是关键字或保留字。</li>
<li>Java中常用的包
<ul>
<li><code>java.lang.*</code>: 基本包，默认引入，不需要再引入。</li>
<li><code>java.util.*</code>: 系统提供的工具包，使用 <code>Scanner</code></li>
<li><code>java.net.*</code>: 网络包，网络开发</li>
<li><code>java.awt.*</code>: java的界面开发 <code>GUI</code></li>
</ul>
</li>
<li><code>package 包名</code>
<ul>
<li><code>package</code>的作用是声明当前类所在的包，需要放在类（文件）的最上面。</li>
<li>一个类中最多只有一句 <code>package</code></li>
</ul>
</li>
</ul>
<h2 id="25访问修饰符"><a class="markdownIt-Anchor" href="#25访问修饰符"></a> 25.访问修饰符</h2>
<ul>
<li>公开级别：用 <code>public</code>修饰，对外公开  <strong>同类、同包、子类、不同包</strong></li>
<li>受保护级别：用<code>protected</code>修饰，对子类和同一个包中的类公开。 <strong>同类、同包、子类</strong></li>
<li>默认级别：没有修饰符号，向同一个包的类公开。 <strong>同类、同包</strong></li>
<li>私有级别：用<code>private</code>修饰，只有类本身可以访问，不对外公开。  <strong>同类</strong></li>
<li>只有 <code>默认</code>和<code>public</code>才能修饰类</li>
</ul>
<h2 id="26面向对象编程的三大特征"><a class="markdownIt-Anchor" href="#26面向对象编程的三大特征"></a> 26.面向对象编程的三大特征</h2>
<ul>
<li>
<p>封装、继承、多态</p>
</li>
<li>
<p>封装</p>
<ul>
<li>概念：把抽象出的数据（属性）和对数据的操作（方法）封装在一起，数据被保护在内部，程序的其他部分只有通过被授权的操作（方法），才能对数据进行操作。</li>
<li>实现步骤：
<ul>
<li>将属性私有化<code>private</code>(不能直接修改属性)</li>
<li>提供一个公共的(<code>public</code>) set 方法，用于对属性判断并赋值</li>
<li>提供一个公共的(<code>public</code>) get方法，用于获取属性的值</li>
</ul>
</li>
<li>构造器与set函数结合（将set方法写在构造器中，防止直接调用构造器，越过set方法直接访问属性）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.modifier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name,<span class="type">int</span> age,<span class="type">double</span> salary)</span></span><br><span class="line">	&#123;</span><br><span class="line">		setName(name);</span><br><span class="line">		setAge(age);</span><br><span class="line">		setSalary(salary);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(name.length() &gt;= <span class="number">2</span> &amp;&amp; name.length() &lt;= <span class="number">10</span>)</span><br><span class="line">			<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			System.out.println(<span class="string">&quot;输入名字不合法!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(age &gt;= <span class="number">1</span> &amp;&amp; age &lt;= <span class="number">120</span>)</span><br><span class="line">			<span class="built_in">this</span>.age = age;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			System.out.println(<span class="string">&quot;输入年龄不合法!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSalary</span><span class="params">(<span class="type">double</span> salary)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(salary &gt; <span class="number">30000</span>)</span><br><span class="line">			System.out.println(<span class="string">&quot;输入薪水不合法!&quot;</span>);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="built_in">this</span>.salary = salary;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSalary</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> salary;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">modifierExample</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Employee</span> <span class="variable">e</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>,<span class="number">10000</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 姓名: XinWanna 年龄: 20 薪水: 10000.0</span></span><br><span class="line">		System.out.println(<span class="string">&quot;姓名: &quot;</span> + e.getName() + <span class="string">&quot; 年龄: &quot;</span> + e.getAge() + <span class="string">&quot; 薪水: &quot;</span> + e.getSalary());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>继承</p>
<ul>
<li>概念：继承可以解决代码复用。当多个类存在相同的属性和方法时，可以从这些类中抽象出父类，在父类中定义这些相同的属性和方法，所有的子类不需要重新定义这些属性和方法，只需要通过<code>extends</code>来声明继承父类即可。</li>
<li>继承原理图</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%BB%A7%E6%89%BF.jpg" alt></p>
<ul>
<li>
<p>子类继承了所有的属性和方法，但是私有属性和方法不能在子类直接访问，要通过父类提供的公共的方法去访问。</p>
</li>
<li>
<p>子类调用父类的属性的方法</p>
<ul>
<li>直接调用：不能调用 <code>默认级别</code> 和 <code>private</code></li>
<li><code>super</code>关键字调用: 不能调用 <code>默认级别</code> 和 <code>private</code>
<ul>
<li>当子类中有和父类中的成员（属性和方法）重名时，为了访问父类的成员，必须通过<code>super</code>。如果没有重名，使用<code>super</code>、<code>this</code>和直接访问是一样的。</li>
<li>使用 <code>super</code> 访问遵循就近原则</li>
</ul>
</li>
<li>使用方法调用</li>
</ul>
</li>
<li>
<p>子类必须调用父类的构造器，完成父类的初始化。</p>
</li>
<li>
<p>当创建子类对象时，不管使用子类的哪个构造器，默认情况下总会去调用父类的无参构造器。如果父类没有提供无参构造器，则必须在子类构造器中用<code>super</code>去指定使用父类的哪个构造器完成对父类的初始化工作，否则，编译不通过。</p>
</li>
<li>
<p>如果希望指定去调用父类的某个构造器，则显式的调用一下。</p>
</li>
<li>
<p><code>super()</code>和<code>this()</code>都只能放在构造器第一行，因此这两个方法不能共存在一个构造器。</p>
</li>
<li>
<p><code>super</code>  VS  <code>this</code></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/super%E5%92%8Cthis%E5%AF%B9%E6%AF%94.png" alt></p>
</li>
<li>
<p>查看下列子类和父类中，通过 <code>this</code> 和 <code>super</code> 都可以调用哪些属性和方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Grand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;AA&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">g1</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> <span class="keyword">extends</span> <span class="title class_">Grand</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> <span class="string">&quot;001&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> score;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f1</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// super 可以访问哪些成员（属性和方法）？</span></span><br><span class="line">        <span class="built_in">super</span>.name;</span><br><span class="line">        <span class="comment">// super.age; 不可以，age是私有属性</span></span><br><span class="line">        <span class="built_in">super</span>.g1();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// this 可以访问哪些成员？</span></span><br><span class="line">        <span class="built_in">this</span>.id;</span><br><span class="line">        <span class="built_in">this</span>.score;</span><br><span class="line">        <span class="built_in">this</span>.f1();</span><br><span class="line">        <span class="built_in">this</span>.name;</span><br><span class="line">        <span class="built_in">this</span>.g1();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> extedns Father</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;BB&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">g1</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// super 可以访问哪些成员（属性和方法）？</span></span><br><span class="line">        <span class="built_in">super</span>.id;</span><br><span class="line">        <span class="built_in">super</span>.f1();</span><br><span class="line">        <span class="built_in">super</span>.name;</span><br><span class="line">        <span class="built_in">super</span>.g1();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// this 可以访问哪些成员？</span></span><br><span class="line">        <span class="built_in">this</span>.name;</span><br><span class="line">        <span class="built_in">this</span>.g1();</span><br><span class="line">        <span class="built_in">this</span>.show();</span><br><span class="line">        <span class="built_in">this</span>.id;</span><br><span class="line">        <span class="built_in">this</span>.f1();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 不可以调用Grand中的name和g1，因为Son类中已有</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Object</code>是所有类的父类</p>
</li>
<li>
<p>子类最多只能继承一个父类（直接继承，即为单继承机制）</p>
<p>父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> extend_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String name;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> score;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;父类无参构造器被调用!!!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 当写了有参构造器的时候，无参构造器将会被覆盖</span></span><br><span class="line">	<span class="comment">// 此时子类中的无参构造器将会报错，必须使用super关键字指定构造器</span></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;父类 Student(String name,int age) 构造器被调用!!!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setScore</span><span class="params">(<span class="type">int</span> score)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.score = score;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getScore</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> score;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showInfo</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;学生名 : &quot;</span> + name + <span class="string">&quot; 年龄 : &quot;</span> + age + <span class="string">&quot; 成绩 : &quot;</span>+score);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> extend_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pupil</span> <span class="keyword">extends</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Pupil</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 默认调用父类的无参构造器</span></span><br><span class="line">		<span class="comment">// super();</span></span><br><span class="line">		System.out.println(<span class="string">&quot;子类无参构造器被调用!!!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Pupil</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;子类 Pupil(String name) 构造器被调用!!!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Pupil</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name,age);</span><br><span class="line">		System.out.println(<span class="string">&quot;子类 Pupil(String name,int age) 构造器被调用!!!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testing</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;小学生 &quot;</span> + name + <span class="string">&quot; 正在考试!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getAtt</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;=======直接调用========&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Name = &quot;</span> + name);</span><br><span class="line">		System.out.println(<span class="string">&quot;Age = &quot;</span> + age);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 子类不可直接调用父类的 private 属性（只能在同类中调用）</span></span><br><span class="line">		<span class="comment">// System.out.println(&quot;Score = &quot; + score);</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=======super关键字=======&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Name = &quot;</span> + <span class="built_in">super</span>.name);</span><br><span class="line">		System.out.println(<span class="string">&quot;Age = &quot;</span> + <span class="built_in">super</span>.age);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// super 关键字可以用来调用父类的构造方法、非私有方法或受保护的属性，但不能用于访问父类的私有属性。</span></span><br><span class="line">		<span class="comment">// super 只能访问父类中具有 protected、public 或包级别访问权限的成员。</span></span><br><span class="line">		<span class="comment">// System.out.println(&quot;Score = &quot; + super.score);</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=======方法调用=======&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Name = &quot;</span> + getName());</span><br><span class="line">		System.out.println(<span class="string">&quot;Age = &quot;</span> + getAge());</span><br><span class="line">		System.out.println(<span class="string">&quot;Score = &quot;</span> + getScore());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主方法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> extend_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Pupil</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pupil</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// public 可以直接通过对象名.属性名直接访问</span></span><br><span class="line">		p.name = <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line">		p.age = <span class="number">20</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 类中的私有属性不能通过 对象名.属性名 直接访问</span></span><br><span class="line">		<span class="comment">// private 只能在类内被访问，无法通过对象直接访问</span></span><br><span class="line">		<span class="comment">// p.score = 60;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// private属性值只能通过调用方法来实现</span></span><br><span class="line">		p.setScore(<span class="number">60</span>);</span><br><span class="line">		</span><br><span class="line">		p.showInfo();</span><br><span class="line">		p.testing();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Pupil</span> <span class="variable">pp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pupil</span>(<span class="string">&quot;嘻嘻嘻&quot;</span>);</span><br><span class="line">		<span class="type">Pupil</span> <span class="variable">ppp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Pupil</span>(<span class="string">&quot;哈哈哈&quot;</span>,<span class="number">20</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">父类无参构造器被调用!!!</span><br><span class="line">子类无参构造器被调用!!!</span><br><span class="line">学生名 : XinWanna 年龄 : <span class="number">20</span> 成绩 : <span class="number">60</span></span><br><span class="line">小学生 XinWanna 正在考试!</span><br><span class="line">父类无参构造器被调用!!!</span><br><span class="line">子类 Pupil(String name) 构造器被调用!!!</span><br><span class="line">父类 Student(String name,<span class="type">int</span> age) 构造器被调用!!!</span><br><span class="line">子类 Pupil(String name,<span class="type">int</span> age) 构造器被调用!!!</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">A</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我是A类!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">B</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我是B类的无参构造!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">B</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 隐藏了 super();</span></span><br><span class="line">		System.out.println(name + <span class="string">&quot;我是B类的有参构造!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> <span class="keyword">extends</span> <span class="title class_">B</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">C</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;我是C类的无参构造!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">C</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(<span class="string">&quot;hahaha&quot;</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;我是C类的有参构造!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">C</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">C</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">我是A类!</span><br><span class="line">hahaha我是B类的有参构造!</span><br><span class="line">我是C类的有参构造!</span><br><span class="line">我是C类的无参构造!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>继承的本质</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%BB%A7%E6%89%BF%E7%9A%84%E6%9C%AC%E8%B4%A8.png" alt></p>
<p>按照查找关系来返回信息：</p>
<ul>
<li>首先看子类是否有该属性/方法，如果子类有这个属性/方法，并且可以访问，则返回信息。</li>
<li>如果子类没有这个属性/方法，就看父类有没有这个属性/方法（如果父类有该属性/方法，并且可以访问，就返回信息）</li>
<li>如果父类没有，就继续查找上级父类，直到<code>Object</code></li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> extend_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GrandPa</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;大头爷爷&quot;</span>;</span><br><span class="line">	<span class="type">String</span> <span class="variable">hobby</span> <span class="operator">=</span> <span class="string">&quot;旅游&quot;</span>;</span><br><span class="line">	<span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">70</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> <span class="keyword">extends</span> <span class="title class_">GrandPa</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;大头爸爸&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">39</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;大头儿子&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">bigHead</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(son.name);  <span class="comment">// 大头儿子</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 在内存中有 age，但不能直接使用，可以使用父类提供的方法访问。</span></span><br><span class="line">		<span class="comment">// The field Father.age is not visible</span></span><br><span class="line">		<span class="comment">// 若 爷爷类 中有age属性，且可以访问，但此处不会访问爷爷类中的age属性</span></span><br><span class="line">		<span class="comment">// 只要是父类中有不可访问的属性，直接报错，而不是继续向上查找</span></span><br><span class="line">		<span class="comment">// System.out.println(son.age);   </span></span><br><span class="line">		System.out.println(son.hobby); <span class="comment">// 旅游</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>练习</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    A()</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    A(String name)</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;a name&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">    B()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 本构造器中已经有了this，因此不会再使用super调用父类中默认的构造器</span></span><br><span class="line">        <span class="built_in">this</span>(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;b&quot;</span>); <span class="comment">// ③</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    B(String name)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 隐含 super();  ①</span></span><br><span class="line">        System.out.println(<span class="string">&quot;b name&quot;</span>); <span class="comment">// ②</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>方法重写/覆盖</p>
<ul>
<li>概念：子类中的方法和父类中的某个方法的 <strong>名称、返回类型、参数</strong>一样，就说子类的这个方法覆盖率父类的方法。
<ul>
<li><strong>名称、参数</strong> 子类和父类必须一样，但返回类型可以不一样，子类方法的返回类型可以是父类返回类型的子类。</li>
</ul>
</li>
<li>子类方法不能缩小父类方法的访问权限</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> override;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// return后的返回类型可以是返回类型的子类</span></span><br><span class="line">	<span class="keyword">public</span> Object <span class="title function_">cry</span><span class="params">(Animal animal)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;动物在叫!!!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> animal;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">cry</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;小狗在叫!!!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">overrideDetail</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">		dog.cry(); <span class="comment">// 小狗在叫!!!</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line">		animal.cry(dog); <span class="comment">// 动物在叫!!!</span></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>重写 vs 重载</li>
</ul>
<p>![](./Java学习/重写 vs 重载.png)</p>
<ul>
<li>
<p>练习</p>
<p>父类:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> override;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		setName(name);</span><br><span class="line">		setAge(age);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">say</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;大家好，我叫&quot;</span> + name + <span class="string">&quot; ,我的年龄是 &quot;</span> + age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> override;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> score;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name,<span class="type">int</span> age,<span class="type">int</span> id,<span class="type">int</span> score)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name,age);</span><br><span class="line">		</span><br><span class="line">		setId(id);</span><br><span class="line">		setScore(score);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setScore</span><span class="params">(<span class="type">int</span> score)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.score = score;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">say</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">super</span>.say() + <span class="string">&quot; ,我的id是 &quot;</span> + id + <span class="string">&quot; ,我的得分是 &quot;</span> + score;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> override;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>);</span><br><span class="line">		System.out.println(person.say());</span><br><span class="line">		</span><br><span class="line">		<span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>,<span class="number">1</span>,<span class="number">60</span>);</span><br><span class="line">		System.out.println(stu.say());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">大家好，我叫XinWanna ,我的年龄是 <span class="number">20</span></span><br><span class="line">大家好，我叫XinWanna ,我的年龄是 <span class="number">20</span> ,我的id是 <span class="number">1</span> ,我的得分是 <span class="number">60</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>多态</p>
<ul>
<li>概念：方法或对象具有多种形态。</li>
<li>方法的多态：重载和重写体现多态</li>
<li>对象的多态
<ul>
<li>一个对象的编译类型和运行类型可以不一致</li>
<li>编译类型在定义对象时，就确定了，不能改变</li>
<li>允许类型是可以变化的</li>
<li>编译类型看定义时 <strong>=</strong> 的左边，运行类型看 <strong>=</strong> 的右边。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将子类 Dog 赋值给 animal引用</span></span><br><span class="line"><span class="comment">// animal的编译类型是Animal，运行类型是Dog</span></span><br><span class="line"><span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// animal的编译类型是Animal，运行类型是Cat</span></span><br><span class="line">animal = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br></pre></td></tr></table></figure>
<p>父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Food</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Master</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// animal 编译类型是 Animal，可以指向（接收）Animal子类的对象</span></span><br><span class="line">	<span class="comment">// food 编译类型是 Food，可以指向（接收）Food子类的对象</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">feed</span><span class="params">(Animal animal,Food food)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;主人 &quot;</span> + name + <span class="string">&quot; 给 &quot;</span> + animal.getName() + <span class="string">&quot; 吃 &quot;</span> + food.getName());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Animal</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">		<span class="type">Animal</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">		</span><br><span class="line">		dog.setName(<span class="string">&quot;小狗&quot;</span>);</span><br><span class="line">		cat.setName(<span class="string">&quot;小猫&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Food</span> <span class="variable">bone</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Food</span>();</span><br><span class="line">		<span class="type">Food</span> <span class="variable">fish</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Food</span>();</span><br><span class="line">		</span><br><span class="line">		bone.setName(<span class="string">&quot;骨头&quot;</span>);</span><br><span class="line">		fish.setName(<span class="string">&quot;鱼&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Master</span> <span class="variable">master</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Master</span>();</span><br><span class="line">		</span><br><span class="line">		master.setName(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		master.feed(dog, bone);</span><br><span class="line">		master.feed(cat, fish);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">主人 XinWanna 给 小狗 吃 骨头</span><br><span class="line">主人 XinWanna 给 小猫 吃 鱼</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>多态的前提：两个对象（类）存在继承关系</p>
</li>
<li>
<p>多态的向上转型</p>
<ul>
<li>本质：父类的引用指向子类的对象</li>
<li>语法：父类类型   <code>引用名 = new 子类类型（）</code></li>
<li>特点：可以调用父类中的所有成员（需遵守访问权限），不能调用子类中特有成员(在编译阶段，能调用哪些成员，是由编译类型决定的)，最终的运行效果看子类的具体实现（从子类开始找）。</li>
</ul>
<p>父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_detail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;睡&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;吃&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;跑&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我叫 &quot;</span> + name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_detail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;小猫吃鱼&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">catchmouse</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;小猫捉老鼠&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_detail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">		</span><br><span class="line">		animal.setName(<span class="string">&quot;呆呆&quot;</span>);</span><br><span class="line">		animal.setAge(<span class="number">3</span>);</span><br><span class="line">		</span><br><span class="line">		animal.eat(); <span class="comment">// 小猫吃鱼 public</span></span><br><span class="line">		animal.run(); <span class="comment">// 跑 protected</span></span><br><span class="line">		animal.show();<span class="comment">// 我叫 呆呆 public</span></span><br><span class="line">		<span class="comment">// animal.sleep(); private</span></span><br><span class="line">		<span class="comment">// animal.catchmouse(); 不可以调用子类特有的成员</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>多态的向下转型</p>
<ul>
<li>语法：子类类型   <code>引用名 = （子类类型）父类引用</code></li>
<li>只能强转父类的引用，不能强转父类的对象</li>
<li>要求父类的引用必须指向的是当前目标类型的对象
<ul>
<li>即要求原来的 <code>animal</code> 指向 <code>Cat</code></li>
</ul>
</li>
<li>当向下转型后，可以调用子类类型中所有成员</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 多态的向下转型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译类型 和 运行类型 都是 Cat</span></span><br><span class="line"><span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> (Cat)animal;</span><br><span class="line">cat.catchmouse(); <span class="comment">// 小猫捉老鼠</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>向上转型和向下转型</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;person run&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;person eat&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;student run&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;student study..&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">upAndDown</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 调用的是 Student 的run，因为Student重写了run方法</span></span><br><span class="line">		p.run(); <span class="comment">// student run</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 调用的是 Person 的eat</span></span><br><span class="line">		p.eat(); <span class="comment">// person eat</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 不可以调用 p.study()</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> (Student)p;</span><br><span class="line">		</span><br><span class="line">		s.run(); <span class="comment">// student run</span></span><br><span class="line">		s.study(); <span class="comment">// student study..</span></span><br><span class="line">		s.eat(); <span class="comment">// person eat</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>属性没有重写，属性的值看编译类型。</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_attribute;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sub</span> <span class="keyword">extends</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 向上转型</span></span><br><span class="line">		<span class="type">Base</span> <span class="variable">base</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">		System.out.println(base.count); <span class="comment">// 10</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Sub</span> <span class="variable">sub</span> <span class="operator">=</span> (Sub)base;</span><br><span class="line">		System.out.println(sub.count); <span class="comment">// 20</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>instanceOf</code>比较操作符，用于判断对象的<strong>运行类型</strong>是否为 XX 类型 或 XX 类型的子类型</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(base <span class="keyword">instanceof</span> Base); <span class="comment">// true</span></span><br><span class="line">System.out.println(sub <span class="keyword">instanceof</span> Base); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>动态绑定机制</p>
<ul>
<li>当调用对象方法的时候，该方法会和该对象的<strong>内存地址/运行类型</strong>绑定。</li>
<li>当调用对象属性时，没有动态绑定机制，哪里声明，哪里使用。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 对象方法与运行类型绑定，因此，此处的 getI() 调用的是子类的方法</span></span><br><span class="line">		<span class="keyword">return</span> getI() + <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum1</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 属性没有动态绑定机制，因此 count = 10</span></span><br><span class="line">		<span class="keyword">return</span> count + <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getI</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sub</span> <span class="keyword">extends</span> <span class="title class_">Base</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getI</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> count;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Base</span> <span class="variable">base</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(base.sum()); <span class="comment">// 30</span></span><br><span class="line">		System.out.println(base.sum1()); <span class="comment">// 20</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>多态数组</p>
<p>父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getInt</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">say</span><span class="params">(Person person)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;我的名字叫&quot;</span> + person.name + <span class="string">&quot;,我的年龄是&quot;</span> + person.age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> score;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setScore</span><span class="params">(<span class="type">int</span> score)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.score = score;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getScore</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> score;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;学生&quot;</span> + getName() + <span class="string">&quot;正在学JAVA！&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> salary;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSalary</span><span class="params">(<span class="type">int</span> salary)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.salary = salary;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSalary</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> salary;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">say</span><span class="params">(Person t)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">super</span>.say(t) + <span class="string">&quot;,薪水是&quot;</span> + salary;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">teach</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;老师&quot;</span> + getName() + <span class="string">&quot;正在讲课!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">polyArr</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">		person.setName(<span class="string">&quot;王XX&quot;</span>);</span><br><span class="line">		person.setAge(<span class="number">40</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Student</span> <span class="variable">stu1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		stu1.setName(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		stu1.setAge(<span class="number">20</span>);</span><br><span class="line">		stu1.setScore(<span class="number">18</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Student</span> <span class="variable">stu2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">		stu2.setName(<span class="string">&quot;XinXin&quot;</span>);</span><br><span class="line">		stu2.setAge(<span class="number">18</span>);</span><br><span class="line">		stu2.setScore(<span class="number">80</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Teacher</span> <span class="variable">teacher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">		teacher.setName(<span class="string">&quot;王老师&quot;</span>);</span><br><span class="line">		teacher.setAge(<span class="number">45</span>);</span><br><span class="line">		teacher.setSalary(<span class="number">5000</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 数组中的对象全都转换成了Person类型</span></span><br><span class="line">		Person[] p = &#123;person,stu1,stu2,teacher&#125;;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; p.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(p[i].say(p[i]));</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 判断运行类型，然后向下转换，调用子类特有的方法</span></span><br><span class="line">			<span class="keyword">if</span>(p[i] <span class="keyword">instanceof</span> Student)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">// The method study() is undefined for the type Person</span></span><br><span class="line">				<span class="comment">// p[i].study();</span></span><br><span class="line">				<span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> (Student) p[i];</span><br><span class="line">				s.study();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(p[i] <span class="keyword">instanceof</span> Teacher)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">// The method teach() is undefined for the type Person</span></span><br><span class="line">				<span class="comment">// p[i].teach();</span></span><br><span class="line">				</span><br><span class="line">				<span class="type">Teacher</span> <span class="variable">t</span> <span class="operator">=</span> (Teacher) p[i];</span><br><span class="line">				t.teach();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">我的名字叫王XX,我的年龄是<span class="number">40</span></span><br><span class="line">我的名字叫XinWanna,我的年龄是<span class="number">20</span></span><br><span class="line">学生XinWanna正在学JAVA！</span><br><span class="line">我的名字叫XinXin,我的年龄是<span class="number">18</span></span><br><span class="line">学生XinXin正在学JAVA！</span><br><span class="line">我的名字叫王老师,我的年龄是<span class="number">45</span>,薪水是<span class="number">5000</span></span><br><span class="line">老师王老师正在讲课!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>多态参数</p>
<ul>
<li>
<p>方法定义的形参类型为父类类型，实参类型允许为子类类型。</p>
<p>父类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> poly_paramter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name,<span class="type">double</span> salary)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.salary = salary;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSalary</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> salary;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getAnnual</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> salary * <span class="number">12</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>子类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Worker</span> <span class="keyword">extends</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 不能不重载Worker的构造器</span></span><br><span class="line">	<span class="comment">// 因此Employee中已经使用有参构造器，无参构造器已经被取代。</span></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Worker</span><span class="params">(String name,<span class="type">double</span> salary)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name,salary);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;普通工人 &quot;</span> + getName() + <span class="string">&quot; 正在工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Manager</span> <span class="keyword">extends</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> bonus;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Manager</span><span class="params">(String name,<span class="type">double</span> salary,<span class="type">double</span> bonus)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name,salary);</span><br><span class="line">		<span class="built_in">this</span>.bonus = bonus;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">manage</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;经理 &quot;</span> + getName() + <span class="string">&quot; 正在管理!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getAnnual</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">super</span>.getAnnual() + bonus;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Worker</span> <span class="variable">worker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Worker</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">5000</span>);</span><br><span class="line">		<span class="type">Manager</span> <span class="variable">manager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Manager</span>(<span class="string">&quot;XinXin&quot;</span>,<span class="number">7000</span>,<span class="number">10000</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">		</span><br><span class="line">		test.showEmpAnnual(worker);</span><br><span class="line">		test.showEmpAnnual(manager);</span><br><span class="line">		</span><br><span class="line">		test.testWork(worker);</span><br><span class="line">		test.testWork(manager);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showEmpAnnual</span><span class="params">(Employee e)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;该员工的工资为 &quot;</span> + e.getAnnual());</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWork</span><span class="params">(Employee e)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(e <span class="keyword">instanceof</span> Worker)</span><br><span class="line">			((Worker) e).work();</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(e <span class="keyword">instanceof</span> Manager)</span><br><span class="line">			((Manager) e).manage();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">该员工的工资为 <span class="number">60000.0</span></span><br><span class="line">该员工的工资为 <span class="number">94000.0</span></span><br><span class="line">普通工人 XinWanna 正在工作!</span><br><span class="line">经理 XinXin 正在管理!</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="27object类"><a class="markdownIt-Anchor" href="#27object类"></a> 27.Object类</h2>
<ul>
<li>
<p><code>==</code> VS <code>equals</code></p>
<ul>
<li><code>==</code>是一个比较运算符
<ul>
<li>既可以判断基本类型，又可以判断引用类型。</li>
<li>如果判断基本类型，判断的是值是否相等。</li>
<li>如果判断引用类型，判断的是地址是否相等，即判断是不是同一个对象。</li>
</ul>
</li>
<li><code>equals</code>是<code>Object</code>类中的方法，只能判断引用类型。
<ul>
<li><code>equals</code>的实现：默认判断地址是否相等，子类中往往重写该方法，用于判断内容是否相等。</li>
</ul>
</li>
<li>练习一</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> object_class;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">char</span> gender;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name,<span class="type">int</span> age,<span class="type">char</span> gender)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">		<span class="built_in">this</span>.gender = gender;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">char</span> <span class="title function_">getGender</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> gender;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 当两个对象完全一样，直接返回 true</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span> == obj)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(obj <span class="keyword">instanceof</span> Person)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// 进行 向下转换,因为需要得到Object的各个属性</span></span><br><span class="line">			<span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> (Person)obj;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span> p.name.equals(name) &amp;&amp; p.age == age &amp;&amp; p.gender == gender;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">overWriteEquals</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>,<span class="string">&#x27;女&#x27;</span>);</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>,<span class="string">&#x27;女&#x27;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// Person类中尚未重写 equals 方法，此时的 equals 还默认为判断地址是否相同</span></span><br><span class="line">		<span class="comment">// System.out.println(person1.equals(person2)); // false</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 重写后为 true</span></span><br><span class="line">		System.out.println(person1.equals(person2)); <span class="comment">// true</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;XinXin&quot;</span>,<span class="number">20</span>,<span class="string">&#x27;女&#x27;</span>);</span><br><span class="line">		System.out.println(person1.equals(person3)); <span class="comment">// false</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(person1.getName().equals(person2.getName())); <span class="comment">// true</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>练习二</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">it</span> <span class="operator">=</span> <span class="number">65</span>;</span><br><span class="line"><span class="type">float</span> <span class="variable">fl</span> <span class="operator">=</span> <span class="number">65.0f</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 基本数据类型比较，只比较数值</span></span><br><span class="line">System.out.println(<span class="string">&quot;65 和 65.0f 是否相等? &quot;</span> + (it == fl)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="variable">ch1</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">ch2</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 基本数据类型比较，只比较数值</span></span><br><span class="line">System.out.println(<span class="string">&quot;65 和 &#x27;A&#x27; 是否相等? &quot;</span> + (it == ch1)); <span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="string">&quot;12 和 ch2 是否相等? &quot;</span> + (<span class="number">12</span> == ch2)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;str1 和 str2 是否相等? &quot;</span> + (str1 == str2)); <span class="comment">// false</span></span><br><span class="line">System.out.println(<span class="string">&quot;str1 是否 equals str2? &quot;</span> + (str1.equals(str2))); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Incompatible operand types String and Date</span></span><br><span class="line"><span class="comment">// System.out.println(&quot;hello&quot; == new java.sql.Date()); </span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>hashCode</code></p>
<ul>
<li>两个引用，如果指向的是同一对象，则哈希值肯定是一样的。</li>
<li>两个引用，如果指向的是不同对象，则哈希值是不一样的。</li>
<li>哈希值主要是根据地址号，但哈希值不等于地址。</li>
</ul>
</li>
<li>
<p><code>toString</code></p>
<ul>
<li>
<p>默认返回: <code>全类名(包名 + 类名， getClass().getName()) + @ —— 哈希值的十六进制(toHexString(hashCode()))</code></p>
</li>
<li>
<p>当直接输出一个对象时，<code>toString()</code>方法会被默认的调用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> object_class;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Monster</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String job;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Monster</span><span class="params">(String name,String job,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.job = job;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;Monster&#123;&quot;</span> + </span><br><span class="line">				<span class="string">&quot;name = &#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> + </span><br><span class="line">				<span class="string">&quot;, job = &#x27;&quot;</span> + job + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">				<span class="string">&quot;, age = &#x27;&quot;</span> + age + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">				<span class="string">&#x27;&#125;&#x27;</span>;		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test_toStrig</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Monster</span> <span class="variable">monster</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Monster</span>(<span class="string">&quot;红孩儿&quot;</span>,<span class="string">&quot;巡山&quot;</span>,<span class="number">20</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 未重载的时候，返回默认的 包名+类名+哈希值 =&gt; object_class.Monster@15db9742</span></span><br><span class="line">		<span class="comment">// 重载后，输出转换后的字符串 =&gt; Monster&#123;name = &#x27;红孩儿&#x27;, job = &#x27;巡山&#x27;, age = &#x27;20&#x27;&#125;</span></span><br><span class="line">		System.out.println(monster.toString()); </span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 输出对象，默认调用toString</span></span><br><span class="line">		System.out.println(monster); <span class="comment">// Monster&#123;name = &#x27;红孩儿&#x27;, job = &#x27;巡山&#x27;, age = &#x27;20&#x27;&#125;</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>finalize</code></p>
<ul>
<li>当对象被回收时，系统自动调用该对象的 <code>finalize</code>方法。子类可以重写该方法，做一些释放资源的操作。</li>
<li>什么时候被回收：当某个对象没有任何引用时，则 JVM 就认为这个对象是一个垃圾对象，就会使用垃圾回收机制来销毁该对象。在销毁该对象前，会先调用 <code>finalize</code> 方法。</li>
<li>垃圾回收机制的调用，是由系统来决定，也可以通过 <code>System.gc()</code> 主动触发垃圾回收机制。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String name)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我们销毁 汽车&quot;</span> + name);</span><br><span class="line">		System.out.println(<span class="string">&quot;释放了某些资源...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Finalize</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// bmw置为null后，原来的对象就成为了垃圾，但此时并不会立即回收，不会调用finalize方法</span></span><br><span class="line">		<span class="comment">// 垃圾回收有自己的回收机制</span></span><br><span class="line">		<span class="type">Car</span> <span class="variable">bmw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;问界&quot;</span>);</span><br><span class="line">		bmw = <span class="literal">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 主动调用垃圾回收</span></span><br><span class="line">		<span class="comment">// 先往下执行完，然后再进行来及回收</span></span><br><span class="line">		System.gc();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;程序退出了...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">程序退出了...</span><br><span class="line">我们销毁 汽车问界</span><br><span class="line">释放了某些资源...</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>getClass</code>: 查看运行类型</p>
</li>
</ul>
<h2 id="28断点调试"><a class="markdownIt-Anchor" href="#28断点调试"></a> 28.断点调试</h2>
<p>​	在 断点调试 过程中，是运行状态，是以对象的 <strong>运行类型</strong> 来执行的。</p>
<hr>
<h2 id="29类变量"><a class="markdownIt-Anchor" href="#29类变量"></a> 29.类变量</h2>
<ul>
<li>
<p>类变量也叫静态变量/静态属性，是该类所有对象共享的变量。任何一个该类的对象去访问它时，取到的都是相同的值，同样任何一个该类的对象去修改它时，修改的也是同一个变量。</p>
</li>
<li>
<p>类变量被同一个类的所有对象共享</p>
</li>
<li>
<p>类变量在类加载的时候就生成了</p>
</li>
<li>
<p>类变量原理</p>
<ul>
<li>JDK8之后</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%B1%BB%E5%8F%98%E9%87%8F%E2%80%94%E2%80%94JDK8%E4%B9%8B%E5%90%8E.png" alt></p>
<ul>
<li>JDK8之前</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%B1%BB%E5%8F%98%E9%87%8F%E2%80%94%E2%80%94JDK8%E4%B9%8B%E5%89%8D.png" alt></p>
</li>
<li>
<p>定义语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 <span class="keyword">static</span> 数据类型 变量名;</span><br><span class="line"><span class="keyword">static</span> 访问修饰符 数据类型 变量名;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 <span class="keyword">static</span> 数据返回类型 方法名() &#123;&#125;</span><br><span class="line"><span class="keyword">static</span> 访问修饰符 数据返回类型 方法名() &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>如何访问类变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类名.类变量名</span><br><span class="line">对象名.类变量名</span><br></pre></td></tr></table></figure>
<ul>
<li>普通属性/普通成员变量/非静态属性/非静态成员变量/实例变量：不可以使用 <code>类名.变量名</code>访问</li>
</ul>
</li>
<li>
<p>调用类方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类名.类方法名</span><br><span class="line">对象名.类方法名</span><br></pre></td></tr></table></figure>
<p>普通方法：不可以使用<code>类名.变量名</code>访问</p>
</li>
<li>
<p><code>static</code>不能修饰构造器</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/static%E4%B8%8D%E8%83%BD%E4%BF%AE%E9%A5%B0%E6%9E%84%E9%80%A0%E5%99%A8.png" alt></p>
</li>
<li>
<p>静态变量的访问修饰符的访问权限和范围和普通属性是一样的。</p>
</li>
<li>
<p>类变量在类加载时就初始化了，即使没有创建对象，只要类加载了，就可以使用类变量了。</p>
</li>
<li>
<p>类变量的生命周期是随类的加载开始，随着类消亡而销毁（不是对象没了，就不能用了）。</p>
</li>
<li>
<p>类方法只能调用<strong>类变量和类方法</strong>，类变量和类方法在类方法或者非类方法中都可以使用。</p>
</li>
<li>
<p>类方法中不允许使用和对象有关的关键字，不能用<code>this 和 super</code>参数</p>
</li>
<li>
<p>类方法和普通方法一样，将结构信息存储在方法区。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> staticParameter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Child</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(name + <span class="string">&quot; 加入了游戏...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">modifyCount</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 类方法只能调用类变量</span></span><br><span class="line">		count++;</span><br><span class="line">        System.out.println(<span class="string">&quot;count = &quot;</span> + Child.count);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Child</span> <span class="variable">child1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Child</span>(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		child1.join(); <span class="comment">// XinWanna 加入了游戏...</span></span><br><span class="line">		child1.count++;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Child</span> <span class="variable">child2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Child</span>(<span class="string">&quot;XinXin&quot;</span>);</span><br><span class="line">		child2.join(); <span class="comment">// XinXin 加入了游戏...</span></span><br><span class="line">		child2.count++;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Child.count = &quot;</span> + Child.count); <span class="comment">// 2</span></span><br><span class="line">		System.out.println(<span class="string">&quot;child1.count = &quot;</span> + child1.count); <span class="comment">// 2</span></span><br><span class="line">		System.out.println(<span class="string">&quot;child2.count = &quot;</span> + child2.count); <span class="comment">// 2</span></span><br><span class="line">		</span><br><span class="line">		Child.modifyCount();</span><br><span class="line">		child1.modifyCount();</span><br><span class="line">		child2.modifyCount();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;Child.count = &quot;</span> + Child.count);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>类方法可以被子类继承，可以被子类重写。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Usb</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 写属性</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;接口中的静态方法调用成功!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span> <span class="keyword">extends</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;手机开始工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;手机停止工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;重写类方法!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Phone</span> <span class="variable">phone</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br><span class="line">		phone.cal();  <span class="comment">// 接口中的静态方法调用成功!</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="type">double</span> <span class="variable">price</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">String</span> <span class="variable">color</span> <span class="operator">=</span> <span class="string">&quot;white&quot;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Car</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.price = <span class="number">9</span>;</span><br><span class="line">		<span class="built_in">this</span>.color = <span class="string">&quot;red&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(<span class="type">double</span> price)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.price = price;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> price + <span class="string">&quot;\t&quot;</span> + color;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test_1</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Car</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>();</span><br><span class="line">		<span class="type">Car</span> <span class="variable">c_</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="number">100</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(c);</span><br><span class="line">		System.out.println(c_);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9.0</span>	red</span><br><span class="line"><span class="number">100.0</span>	red</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="30main方法"><a class="markdownIt-Anchor" href="#30main方法"></a> 30.main方法</h2>
<ul>
<li><code>main</code>方法是Java虚拟机在调用，所以该方法的访问权限必须是<code>public</code></li>
<li>Java虚拟机在执行<code>main</code>方法时，不必创建对象，所以该方法必须是<code>static</code></li>
<li>该方法接收<code>String</code>类型的数组参数，该数组中保存执行java命令时传递给所运行的类的参数。</li>
<li><code>main</code>中，只能直接访问静态变量和静态方法。但是，不能直接访问非静态成员，必须创建该类的一个实例对象后，才能通过这个对象去访问类中的非静态成员。</li>
</ul>
<h2 id="31代码块"><a class="markdownIt-Anchor" href="#31代码块"></a> 31.代码块</h2>
<ul>
<li>
<p>代码块又称为初始化块，属于类中的成员。与方法不同，没有方法名，没有返回，没有参数，只有方法体。不用通过对象或类显示调用，而是加载类时，或创建对象时隐式调用。</p>
</li>
<li>
<p>基本语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符]&#123;</span><br><span class="line">	代码</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>修饰符可选，要写，只能写<code>static</code></li>
<li>使用<code>static</code>修饰的叫静态代码块，否则为普通代码块/非静态代码块。</li>
<li>分号可以写上，也可以省略。</li>
</ul>
</li>
<li>
<p>多个构造器重复部分，可以放在代码块中。</p>
</li>
<li>
<p>先调用代码块，再调用构造器。</p>
</li>
<li>
<p><code>static</code>代码块也叫静态代码块，作用是对类进行初始化，随着<strong>类的加载</strong>而执行，并且只会执行一次。如果是普通代码块，每创建一个对象就执行一次（如果只是使用类的静态成员时，普通代码块并不会执行）。</p>
</li>
<li>
<p>类什么时候加载</p>
<ul>
<li>
<p>创建对象实例时（<code>new</code>）</p>
</li>
<li>
<p>创建子类对象实例，父类也会被加载。（父类先加载，子类再被加载）</p>
</li>
<li>
<p>使用类的静态成员时（静态属性，静态方法）</p>
</li>
<li>
<p>普通代码块</p>
<ul>
<li>父类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> CodeBlock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;person类的代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;人正在学习!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>子类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Student类的代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name,age);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;学生正在学习!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>主类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=====创建Person类=====&quot;</span>);</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=====创建Student类=====&quot;</span>);</span><br><span class="line">		<span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">18</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=====调用Teacher类的静态方法=====&quot;</span>);</span><br><span class="line">		Teacher.teaching();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>输出结果</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">=====创建Person类=====</span><br><span class="line">person类的代码块被调用!</span><br><span class="line">=====创建Student类=====</span><br><span class="line">person类的代码块被调用!</span><br><span class="line">Student类的代码块被调用!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>静态代码块</p>
<ul>
<li>父类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> CodeBlock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Employee类的代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>子类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="variable">salary</span> <span class="operator">=</span> <span class="number">8000</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Teacher类的静态代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Teacher类的普通代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name,age);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">teaching</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;老师在教学!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>主类</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 如果没有前面的 Teacher.teaching(),这里将会输出：</span></span><br><span class="line">		<span class="comment">// Employee类的代码块被调用!</span></span><br><span class="line">		<span class="comment">// Teacher类的静态代码块被调用!</span></span><br><span class="line">		<span class="comment">// 8000.0</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 这里直接会输出 8000.0,因为前面已经调用静态方法了,静态代码块只会执行一次</span></span><br><span class="line">		System.out.println(<span class="string">&quot;=====调用Teacher类的静态方法=====&quot;</span>);</span><br><span class="line">		System.out.println(Teacher.salary);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 下面 Employee 的静态代码块将不会会被执行，因为前面已经执行过了6</span></span><br><span class="line">		System.out.println(<span class="string">&quot;=====创建Employee类 - 1=====&quot;</span>);</span><br><span class="line">		<span class="type">Employee</span> <span class="variable">e1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=====创建Employee类 - 2=====&quot;</span>);</span><br><span class="line">		<span class="type">Employee</span> <span class="variable">e2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">18</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>输出结果</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">=====调用Teacher类的静态方法=====</span><br><span class="line">Employee类的代码块被调用!</span><br><span class="line">Teacher类的静态代码块被调用!</span><br><span class="line">老师在教学!</span><br><span class="line">=====调用Teacher类的静态方法=====</span><br><span class="line"><span class="number">8000.0</span></span><br><span class="line">=====创建Employee类 - <span class="number">1</span>=====</span><br><span class="line">=====创建Employee类 - <span class="number">2</span>=====</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>创建一个对象时，在一个类调用顺序是:</p>
<ul>
<li>调用静态代码块和静态属性初始化（静态代码块和静态属性初始化调用的优先级一样，如果有多个静态代码块和多个静态变量初始化，则按他们定义的顺序调用）。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> getA();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用A类的代码块!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getA</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用getA()方法&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">callArr</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果: 静态属性在静态代码块前面，因此，先输出静态属性部分。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">调用getA()方法</span><br><span class="line">调用A类的代码块!</span><br></pre></td></tr></table></figure>
<ul>
<li>调用普通代码快和普通属性的初始化（普通代码块和普通属性初始化调用的优先级一样，如果有多个普通代码快和多个普通属性初始化，则按定义顺序调用）。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> getB();</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用A类的普通代码块!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> getA();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用A类的静态代码块!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getA</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用getA()方法&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getB</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用getB()方法&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">callArr</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">调用getA()方法</span><br><span class="line">调用A类的静态代码块!</span><br><span class="line">调用getB()方法</span><br><span class="line">调用A类的普通代码块!</span><br></pre></td></tr></table></figure>
<ul>
<li>构造方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> getB();</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用A类的普通代码块!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> getA();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用A类的静态代码块!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">A</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用A类的无参构造器!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getA</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用getA()方法&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getB</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;调用getB()方法&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">调用getA()方法</span><br><span class="line">调用A类的静态代码块!</span><br><span class="line">调用getB()方法</span><br><span class="line">调用A类的普通代码块!</span><br><span class="line">调用A类的无参构造器!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>构造器的最前面隐含了<code>super()</code>和普通代码块。</p>
</li>
<li>
<p>创建一个子类对象时（继承关系），静态代码块、静态属性初始化、普通代码块、普通属性初始化、构造方法的调用顺序：</p>
<ul>
<li>父类的静态代码块和静态属性（优先级一样，按定义顺序执行）</li>
<li>子类的静态代码块和静态属性（优先级一样，按定义顺序执行）</li>
<li>父类的普通代码块和普通属性初始化（优先级一样，按定义顺序执行）</li>
<li>父类的构造方法</li>
<li>子类的普通代码快和普通属性初始化（优先级一样，按定义顺序执行）</li>
<li>子类的构造方法</li>
</ul>
<p>子类不重写父类普通方法:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> CodeBlock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AAA</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="variable">val1</span> <span class="operator">=</span> getVal1();</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAA的普通代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">val2</span> <span class="operator">=</span> getVal2();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAA的静态代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getVal1</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAA类的getVal1()方法被调用!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getVal2</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAA类的getVal2()方法被调用!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">AAA</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// (1) super()</span></span><br><span class="line">		<span class="comment">// (2) 普通代码块</span></span><br><span class="line">		System.out.println(<span class="string">&quot;AAA的无参构造器被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">AAA</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// (1) super()</span></span><br><span class="line">		<span class="comment">// (2) 普通代码块</span></span><br><span class="line">		System.out.println(<span class="string">&quot;AAA的有参构造器被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BBB</span> <span class="keyword">extends</span> <span class="title class_">AAA</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="variable">val3</span> <span class="operator">=</span> getVal3();</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB的普通代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">val4</span> <span class="operator">=</span> getVal4();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB的静态代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getVal3</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB类的getVal3()方法被调用!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getVal4</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB类的getVal4()方法被调用!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">BBB</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// (1) super()</span></span><br><span class="line">		<span class="comment">// (2) 普通代码块</span></span><br><span class="line">		System.out.println(<span class="string">&quot;BBB的无参构造器被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">BBB</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name);</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB的有参构造器被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeBlockDetail</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">BBB</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BBB</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;================&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">BBB</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BBB</span>(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：符合上面结论</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">AAA类的getVal2()方法被调用!</span><br><span class="line">AAA的静态代码块被调用!</span><br><span class="line">BBB类的getVal4()方法被调用!</span><br><span class="line">BBB的静态代码块被调用!</span><br><span class="line">AAA类的getVal1()方法被调用!</span><br><span class="line">AAA的普通代码块被调用!</span><br><span class="line">AAA的无参构造器被调用!</span><br><span class="line">BBB类的getVal3()方法被调用!</span><br><span class="line">BBB的普通代码块被调用!</span><br><span class="line">BBB的无参构造器被调用!</span><br><span class="line">================</span><br><span class="line">AAA类的getVal1()方法被调用!</span><br><span class="line">AAA的普通代码块被调用!</span><br><span class="line">AAA的有参构造器被调用!</span><br><span class="line">BBB类的getVal3()方法被调用!</span><br><span class="line">BBB的普通代码块被调用!</span><br><span class="line">BBB的有参构造器被调用!</span><br></pre></td></tr></table></figure>
<p>子类重写父类的普通方法: 此时AAA调用的getVal1方法是子类重写后的放啊（<strong>动态绑定</strong>）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> CodeBlock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AAA</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="variable">val1</span> <span class="operator">=</span> getVal1();</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAA的普通代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">val2</span> <span class="operator">=</span> getVal2();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAA的静态代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getVal1</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAA类的getVal1()方法被调用!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getVal2</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;AAA类的getVal2()方法被调用!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">AAA</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// (1) super()</span></span><br><span class="line">		<span class="comment">// (2) 普通代码块</span></span><br><span class="line">		System.out.println(<span class="string">&quot;AAA的无参构造器被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">AAA</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// (1) super()</span></span><br><span class="line">		<span class="comment">// (2) 普通代码块</span></span><br><span class="line">		System.out.println(<span class="string">&quot;AAA的有参构造器被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BBB</span> <span class="keyword">extends</span> <span class="title class_">AAA</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="variable">val1</span> <span class="operator">=</span> getVal1();</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB的普通代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">val2</span> <span class="operator">=</span> getVal2();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB的静态代码块被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getVal1</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB类的getVal1()方法被调用!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getVal2</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB类的getVal2()方法被调用!&quot;</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">BBB</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// (1) super()</span></span><br><span class="line">		<span class="comment">// (2) 普通代码块</span></span><br><span class="line">		System.out.println(<span class="string">&quot;BBB的无参构造器被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">BBB</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name);</span><br><span class="line">		System.out.println(<span class="string">&quot;BBB的有参构造器被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeBlockDetail</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">BBB</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BBB</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;================&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">BBB</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BBB</span>(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">AAA类的getVal2()方法被调用!</span><br><span class="line">AAA的静态代码块被调用!</span><br><span class="line">BBB类的getVal2()方法被调用!</span><br><span class="line">BBB的静态代码块被调用!</span><br><span class="line">BBB类的getVal1()方法被调用!</span><br><span class="line">AAA的普通代码块被调用!</span><br><span class="line">AAA的无参构造器被调用!</span><br><span class="line">BBB类的getVal1()方法被调用!</span><br><span class="line">BBB的普通代码块被调用!</span><br><span class="line">BBB的无参构造器被调用!</span><br><span class="line">================</span><br><span class="line">BBB类的getVal1()方法被调用!</span><br><span class="line">AAA的普通代码块被调用!</span><br><span class="line">AAA的有参构造器被调用!</span><br><span class="line">BBB类的getVal1()方法被调用!</span><br><span class="line">BBB的普通代码块被调用!</span><br><span class="line">BBB的有参构造器被调用!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>静态代码块只能直接调用静态成员（静态属性和方法），普通代码块可以调用任意成员。</p>
</li>
</ul>
<h2 id="32设计模式"><a class="markdownIt-Anchor" href="#32设计模式"></a> 32.设计模式</h2>
<p>设计模式的ocp原则(开闭原则):不修改源码,扩容功能.</p>
<ul>
<li>
<p>单例设计模式</p>
<ul>
<li>
<p>采取一定的方法保证在整个的软件系统中，对某个类只能存在一个对象实例，并且该类只提供一个取得其对象实例的方法。</p>
</li>
<li>
<p>两种模式</p>
<ul>
<li>
<p>实现步骤：</p>
<p>① 构造器私有化   =&gt;  防止直接 <code>new</code></p>
<p>② 类的内部创建对象(静态对象，否则公共方法不是静态的)</p>
<p>③ 向外暴露一个静态的公共方法</p>
<p>④ 代码实现</p>
</li>
<li>
<p>饿汉式</p>
<ul>
<li>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BoyFriend</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">BoyFriend</span> <span class="variable">bf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BoyFriend</span>(<span class="string">&quot;王嵩嵩&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">BoyFriend</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name= name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> BoyFriend <span class="title function_">getInstance</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> bf;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">hunger</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">BoyFriend</span> <span class="variable">bf</span> <span class="operator">=</span> BoyFriend.getInstance();</span><br><span class="line">		System.out.println(bf.getName()); <span class="comment">// 王嵩嵩</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>饿汉式的原因：就算未使用到对象，也会在类加载的时候创建。</p>
<p>下面示例中，只是使用到了静态变量，但使用静态变量会导致类加载，就间接导致对象也被创建。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BoyFriend</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">BoyFriend</span> <span class="variable">bf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BoyFriend</span>(<span class="string">&quot;王嵩嵩&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">BoyFriend</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;BoyFriend的构造器被调用!&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="built_in">this</span>.name= name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> BoyFriend <span class="title function_">getInstance</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> bf;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">hunger</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		System.out.println(BoyFriend.n);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BoyFriend的构造器被调用!</span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>饿汉式的缺陷：可能创建了对象，但不使用对象。</p>
</li>
<li>
<p>练习</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> interfaceTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Vehicles</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Horse</span> <span class="keyword">implements</span> <span class="title class_">Vehicles</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;马在工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Boat</span> <span class="keyword">implements</span> <span class="title class_">Vehicles</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;船在工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Transport</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 假设多次乘坐的马是同一匹马,采用饿汉式</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Horse</span> <span class="variable">horse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Horse</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Transport</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> Horse <span class="title function_">getHorse</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> horse;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> Boat <span class="title function_">getBoat</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Boat</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> Vehicles vehicles;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name,Vehicles vehicles)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.vehicles = vehicles;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">passRiver</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(!(vehicles <span class="keyword">instanceof</span> Boat))</span><br><span class="line">			vehicles = Transport.getBoat();</span><br><span class="line">		</span><br><span class="line">		vehicles.work();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">common</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(vehicles == <span class="literal">null</span>)</span><br><span class="line">			vehicles = Transport.getHorse();</span><br><span class="line">		</span><br><span class="line">		vehicles.work();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;唐僧&quot;</span>,<span class="keyword">new</span> <span class="title class_">Horse</span>());</span><br><span class="line">		person.common();</span><br><span class="line">		person.passRiver();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">马在工作!</span><br><span class="line">船在工作!</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>懒汉式</p>
<ul>
<li>只有用户使用了<code>getInstance</code>时，才会返回对象。从而再次调用时，会返回上次创建的对象。</li>
<li>示例</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Cat cat;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Cat</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;构造器被调用...&quot;</span>);</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> Cat <span class="title function_">getInstance</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cat == <span class="literal">null</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			cat = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;英短蓝&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> cat;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">lazy</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">Cat</span> <span class="variable">cat1</span> <span class="operator">=</span> Cat.getInstance();</span><br><span class="line">		System.out.println(cat1.getName());</span><br><span class="line">		</span><br><span class="line">		<span class="type">Cat</span> <span class="variable">cat2</span> <span class="operator">=</span> Cat.getInstance();</span><br><span class="line">		System.out.println(cat2.getName());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">构造器被调用...</span><br><span class="line">英短蓝</span><br><span class="line">英短蓝</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>饿汉式 VS 懒汉式</p>
<p>①  饿汉式是在类加载就创建了对象实例，懒汉式是在使用时才创建。</p>
<p>②  饿汉式不存在线程安全问题，懒汉式存在线程安全问题。</p>
<p>③  饿汉式存在浪费资源的可能。如果程序员一个对象实例都没有使用，那么饿汉式创建的对象就浪费了，懒汉式是使用时才创建，就不存在这个问题。</p>
</li>
</ul>
</li>
<li>
<p><code>java.lang.Runtime</code>就是一个单例式的饿汉式模式。</p>
</li>
</ul>
</li>
<li>
<p>模板设计模式</p>
<p>将公共部分提取成方法，将不同的部分提取成抽象类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Template</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">code</span><span class="params">()</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">caleTime</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 统计当前时间距离1970-1-1的时间差，单位为毫秒</span></span><br><span class="line">		<span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">		</span><br><span class="line">		code(); <span class="comment">// 会遵循动态绑定，即取决于运行类型</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;耗时: &quot;</span> + (end - start));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sub</span> <span class="keyword">extends</span> <span class="title class_">Template</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">code</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">long</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i &lt;= <span class="number">1000000</span>;i++)</span><br><span class="line">			num += i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">Sub</span> <span class="variable">sub</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Sub</span>();</span><br><span class="line">		sub.caleTime();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>代理模式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tiger</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;老虎叫……&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ThreadProxy</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">ThreadProxy</span><span class="params">(Runnable target)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.target = target;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(target != <span class="literal">null</span>)</span><br><span class="line">			target.run(); <span class="comment">// 动态绑定，运行类型是 Dog</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		start0();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start0</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		run();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_03</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">ThreadProxy</span> <span class="variable">threadProxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadProxy</span>(<span class="keyword">new</span> <span class="title class_">Tiger</span>());</span><br><span class="line">		threadProxy.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">老虎叫……</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>修饰器设计模式</p>
</li>
</ul>
<h2 id="33final关键字"><a class="markdownIt-Anchor" href="#33final关键字"></a> 33.<code>final</code>关键字</h2>
<ul>
<li>
<p><code>final</code>可以修饰类、属性、方法和局部变量。</p>
</li>
<li>
<p><code>final</code>的使用场景：</p>
<ul>
<li>
<p>当不希望类被继承时，使用<code>final</code>修饰。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">A</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>当不希望父类的某个方法被子类覆盖/重写时，可以用<code>final</code>关键字修饰。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span> &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>当不希望类的某个<strong>属性</strong>的值被修改，可以用<code>final</code>修饰。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">TAX</span> <span class="operator">=</span> <span class="number">0.08</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>当不希望某个局部变量被修改，可以使用<code>final</code>修饰。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// 局部变量不允许修改</span></span><br><span class="line">		<span class="keyword">final</span> <span class="type">double</span> <span class="variable">NUM</span> <span class="operator">=</span> <span class="number">0.01</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>final</code>修饰的属性在定义时，必须赋初值，并且以后不能再修改。赋值可以在如下位置之一：</p>
<p>①  定义时</p>
<p>② 在构造器中</p>
<p>③ 在代码块中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 定义时赋值</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">TAX1</span> <span class="operator">=</span> <span class="number">0.08</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="type">double</span> TAX2;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="type">double</span> TAX3;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="type">double</span> TAX4;</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 代码块中赋值</span></span><br><span class="line">		TAX3 = <span class="number">0.5</span>;</span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		TAX4 = <span class="number">0.9</span>;  <span class="comment">// error 只能使用静态属性</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">A</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 构造器里面赋值</span></span><br><span class="line">		TAX2 = <span class="number">0.01</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>如果<code>final</code>修饰的属性是静态的，则初始化的位置只能是：</p>
</li>
</ul>
<p>​	① 定义时</p>
<p>​	② 在静态代码块</p>
<p>​	不能在构造器中赋值（构造器是在创建对象的时候就被调用，而静态变量是在类加载的时候就被调用）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> TAX4;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义时赋值</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">TAX5</span> <span class="operator">=</span> <span class="number">0.09</span>;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> TAX6;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		<span class="comment">// 静态变量在静态代码块中初始化</span></span><br><span class="line">		TAX4 = <span class="number">0.9</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// static 不能修饰构造器</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">A</span><span class="params">(<span class="type">double</span> num)</span></span><br><span class="line">	&#123;</span><br><span class="line">		TAX6 = num;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>final</code>类不能继承，但是可以实例化对象。</li>
</ul>
<p>​	示例：上面的类可以实例化：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">class_final</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>如果类不是<code>final</code>类，但是含有<code>final</code>方法，则该方法虽然不能重写，但是可以被继承。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Animal类中的cal()方法被调用!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;动物在哭!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// final 方法不能被重写</span></span><br><span class="line">	<span class="comment">// 报错：java.lang.VerifyError: class final_.Dog overrides final method cal.()</span></span><br><span class="line"><span class="comment">//	public final void cal()</span></span><br><span class="line"><span class="comment">//	&#123;</span></span><br><span class="line"><span class="comment">//		System.out.println(&quot;Dog类中的cal()方法被调用!&quot;);</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">class_final</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line">		animal.cal(); <span class="comment">// Animal类中的cal()方法被调用!</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">		dog.cal(); <span class="comment">// Animal类中的cal()方法被调用!</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>如果一个类已经是<code>final</code>类了，就没有必要再将方法修饰为<code>final</code>方法（因为<code>final</code>类无法继承）。</p>
</li>
<li>
<p><code>final</code>和<code>static</code>搭配使用，效率更高，因为不会导致类加载（底层编译器做优化）。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num2</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num3</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Cat 代码块被执行!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Cat 静态代码块被执行!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">()</span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Cat 构造器被执行!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">class_final</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * Cat 静态代码块被执行!</span></span><br><span class="line"><span class="comment">		 * Cat 代码块被执行!</span></span><br><span class="line"><span class="comment">		 * Cat 构造器被执行!</span></span><br><span class="line"><span class="comment">		 * 10</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		System.out.println(<span class="keyword">new</span> <span class="title class_">Cat</span>().num1);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// Cat 静态代码块被执行!</span></span><br><span class="line">		<span class="comment">// 100</span></span><br><span class="line">		System.out.println(Cat.num2);</span><br><span class="line">		System.out.println(Cat.num3); <span class="comment">// 1000</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>包装类(<code>Integer,Double,Float,Boolean</code>等都是<code>final</code>)，<code>String</code>也是<code>final</code>类。</li>
</ul>
<h2 id="34抽象类"><a class="markdownIt-Anchor" href="#34抽象类"></a> 34.抽象类</h2>
<ul>
<li>
<p>解决 父类方法不确定性的问题</p>
</li>
<li>
<p>抽象方法就是没有实现的方法（没有实现，指的就是没有方法体）</p>
</li>
<li>
<p>当一个类中存在抽象方法时，需要将该类声明为抽象类。</p>
</li>
<li>
<p>抽象类的定义</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 <span class="keyword">abstract</span> 类名&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>抽象类主要是让子类继承实现</p>
</li>
<li>
<p>抽象类不能实例化</p>
</li>
<li>
<p>抽象类可以没有抽象方法，还可以有实现的方法。抽象类本质还是类，可以有类的任意成员。</p>
</li>
<li>
<p>如果一个类继承了抽象类，则它必须实现抽象类的<strong>所有抽象方法</strong>（实现就是要有方法体），除非他自己也声明为抽象类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义为抽象类就可以不用实现父类的抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span></span><br><span class="line">&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dai</span> <span class="keyword">extends</span> <span class="title class_">Dog</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 必须要实现超类的抽象类，否则报错</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>抽象方法的定义</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">访问修饰符 <span class="keyword">abstract</span> 返回类型 方法名（参数列表）;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>抽象方法不能有主题，即不能实现。</p>
</li>
<li>
<p><code>abstract</code>只能修饰类和方法，不能修饰属性和其他的。</p>
</li>
<li>
<p>抽象方法不能使用<code>private、final和static</code>来修饰，因为这些关键字都是和重写相违背的（因为会导致子类无法重写）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> abstract_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Employee</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name,<span class="type">int</span> id,<span class="type">double</span> salary)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.id = id;</span><br><span class="line">		<span class="built_in">this</span>.salary = salary;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Manager</span> <span class="keyword">extends</span> <span class="title class_">Employee</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> bonus;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Manager</span><span class="params">(String name,<span class="type">int</span> id,<span class="type">double</span> salary,<span class="type">double</span> bonus)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name,id,salary);</span><br><span class="line">		<span class="built_in">this</span>.bonus = bonus;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;经理 &quot;</span> + getName() + <span class="string">&quot;工作中....&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CommonEmployee</span> <span class="keyword">extends</span> <span class="title class_">Employee</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">CommonEmployee</span><span class="params">(String name,<span class="type">int</span> id,<span class="type">double</span> salary)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(name,id,salary);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;普通员工 &quot;</span> + getName() + <span class="string">&quot;工作中....&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">Manager</span> <span class="variable">manager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Manager</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">1</span>,<span class="number">2000</span>,<span class="number">20</span>);</span><br><span class="line">		manager.work(); <span class="comment">// 经理 XinWanna工作中....</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">CommonEmployee</span> <span class="variable">commonEmployee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CommonEmployee</span>(<span class="string">&quot;XiXiXi&quot;</span>,<span class="number">2</span>,<span class="number">100</span>);</span><br><span class="line">		commonEmployee.work(); <span class="comment">// 普通员工 XiXiXi工作中....</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="35接口"><a class="markdownIt-Anchor" href="#35接口"></a> 35.接口</h2>
<ul>
<li>
<p>接口的概念：将一些没有实现的方法封装到一起，到某个类要使用的时候，根据具体情况把这些方法写出来。</p>
</li>
<li>
<p>定义</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">interface 接口名&#123;</span><br><span class="line">	<span class="comment">// 属性</span></span><br><span class="line">	<span class="comment">// 方法 (1.抽象方法 2.默认实现方法 3.静态方法)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class 类名 implements 接口&#123;</span><br><span class="line">	自己属性;</span><br><span class="line">	自己方法;</span><br><span class="line">	必须实现接口的抽象方法;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在JDK7.0前，接口里的所有方法都没有方法体。</p>
</li>
<li>
<p>JDK8.0后接口类可以有静态方法、默认方法，即接口中可以有方法的具体实现（前提：需要使用 <code>default</code> 关键字修饰）。</p>
</li>
<li>
<p>在接口中，抽象方法可以省略 <code>abstract</code> 关键字。</p>
</li>
<li>
<p>接口的多态特性</p>
<ul>
<li>
<p>多态参数</p>
<p>接口类型的变量可以指向 实现了该接口的对象实例</p>
<p>下面案例中，在<code>Compute</code>类中，既可以接收<code>Phone</code>,也可以接收<code>Camera</code>,因为两者都继承了<code>Usb</code>接口，体现了 接口的多态。</p>
</li>
</ul>
<p>接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Usb</span> &#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 写属性</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 写方法</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 可以实现具体方法</span></span><br><span class="line">	<span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ok</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;接入成功!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;接口中的静态方法调用成功!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Phone</span> <span class="keyword">implements</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;手机开始工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;手机停止工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Camera</span> <span class="keyword">implements</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;相机开始工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;相机停止工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Computer</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">working</span><span class="params">(Usb usb)</span></span><br><span class="line">	&#123;</span><br><span class="line">		usb.start();</span><br><span class="line">		usb.stop();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">Computer</span> <span class="variable">computer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Computer</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Camera</span> <span class="variable">camera</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Camera</span>();</span><br><span class="line">		<span class="type">Phone</span> <span class="variable">phone</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br><span class="line">		</span><br><span class="line">		computer.working(camera);</span><br><span class="line">		computer.working(phone);</span><br><span class="line">		</span><br><span class="line">		camera.ok();</span><br><span class="line">		phone.ok();</span><br><span class="line">		</span><br><span class="line">		Usb.cal();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 接口中的静态方法和继承了该接口的类没有关系 </span></span><br><span class="line">		<span class="comment">// java.lang.Error: Unresolved compilation problem: </span></span><br><span class="line">		<span class="comment">// The method cal() is undefined for the type Phone</span></span><br><span class="line"><span class="comment">//		Camera.cal();</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">相机开始工作!</span><br><span class="line">相机停止工作!</span><br><span class="line">手机开始工作!</span><br><span class="line">手机停止工作!</span><br><span class="line">接入成功!</span><br><span class="line">接入成功!</span><br><span class="line">接口中的静态方法调用成功!</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>多态数组</p>
<p>基于上面的案例，实现下面代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Phone</span> <span class="keyword">implements</span> <span class="title class_">Usb</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;手机开始工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;手机停止工作!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">call</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;手机在打电话!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">Computer</span> <span class="variable">computer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Computer</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Camera</span> <span class="variable">camera</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Camera</span>();</span><br><span class="line">		<span class="type">Phone</span> <span class="variable">phone</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 接口类型的变量可以指向 实现了该接口的对象实例</span></span><br><span class="line">		<span class="comment">// 由于遵守动态绑定机制，前两个方法都是调用的是Phone所实现的方法</span></span><br><span class="line">		<span class="type">Usb</span> <span class="variable">u</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Phone</span>();</span><br><span class="line">		u.start();</span><br><span class="line">		u.stop();</span><br><span class="line">		u.ok();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 只能调用编译类型确定的方法</span></span><br><span class="line">		<span class="comment">// u.call();</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;==========&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 向上转型</span></span><br><span class="line">		Usb[] usb= &#123;camera,phone&#125;;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; usb.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			computer.working(usb[i]);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 判断的是运行类型</span></span><br><span class="line">			<span class="keyword">if</span>(usb[i] <span class="keyword">instanceof</span> Phone)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">// 向下转型</span></span><br><span class="line">				((Phone)usb[i]).call();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">手机开始工作!</span><br><span class="line">手机停止工作!</span><br><span class="line">接入成功!</span><br><span class="line">==========</span><br><span class="line">相机开始工作!</span><br><span class="line">相机停止工作!</span><br><span class="line">手机开始工作!</span><br><span class="line">手机停止工作!</span><br><span class="line">手机在打电话!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>接口存在 <strong>多态传递</strong> 的现象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Employee</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">implements</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我是名老师!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我的工作是教书!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">interface_pass</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">		<span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%8E%A5%E5%8F%A3%E2%80%94%E2%80%94%E5%A4%9A%E6%80%81%E4%BC%A0%E9%80%92.png" alt></p>
</li>
</ul>
</li>
<li>
<p>接口不能被实例化</p>
</li>
<li>
<p>接口中所有的方法是<code>public</code>方法，接口中抽象方法，可以不用<code>abstract</code>修饰。</p>
</li>
<li>
<p>一个普通类实现接口，就必须将该接口的所有方法都实现。抽象类实现接口，可以不用实现接口的方法。</p>
</li>
<li>
<p>一个类可以同时实现多个接口</p>
</li>
<li>
<p>接口中的属性，只能是<code>final</code>的，而且是<code>public static final</code>修饰符，且必须<strong>赋值</strong>。</p>
</li>
<li>
<p>接口中属性的访问形式：<code>接口名.属性名</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> interface_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">23</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">implements</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test_1</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;b.a = &quot;</span> + b.a); <span class="comment">// 23</span></span><br><span class="line">		System.out.println(<span class="string">&quot;A.a = &quot;</span> + A.a); <span class="comment">// 23</span></span><br><span class="line">		System.out.println(<span class="string">&quot;B.a = &quot;</span> + B.a); <span class="comment">// 23</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>接口不能继承其他的类，但是可以继承多个别的接口。 关键字：<code>extends</code></p>
</li>
<li>
<p>子接口无需写父接口的抽象方法，若子接口中有和父接口重名的方法，也只是写成<strong>默认方法</strong>,继承该接口的类可以直接通过对象名调用该默认方法。</p>
</li>
<li>
<p>接口的修饰符只能是<code>public</code>和默认，这点和类的修饰符是一样的。</p>
</li>
<li>
<p>类在实现接口的抽象方法的时候，必须加上<code>public</code>修饰符，因为类中不加修饰符，默认的修饰符是默认，而接口中的抽象方法的修饰符是<code>public</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> interface_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;动物&quot;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">cal</span><span class="params">()</span>;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接口继承接口，不需要实现父接口的抽象方法</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;小狗在跑!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dai</span> <span class="keyword">implements</span> <span class="title class_">Animal</span>,Dog&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 类在重写接口方法的时候，必须加上 public </span></span><br><span class="line">	<span class="comment">// 因为在类中不写修饰符，默认的修饰符是默认，而接口中的修饰符必须是 public</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cal</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;小狗在往往叫!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;小狗吃骨头!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">interface_extends</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">Dai</span> <span class="variable">dai</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dai</span>();</span><br><span class="line">		dai.cal(); <span class="comment">// 小狗在往往叫!</span></span><br><span class="line">		dai.eat(); <span class="comment">// 小狗吃骨头!</span></span><br><span class="line">		dai.run(); <span class="comment">// 小狗在跑!</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>实现接口 VS 继承类</p>
<ul>
<li>实现接口是对 java 单继承机制的一种补充</li>
<li>接口和继承解决的问题不同
<ul>
<li>继承的价值：解决代码的复用性和可维护性</li>
<li>接口的价值：设计各种规范（方法），让其它类去实现这些方法。</li>
</ul>
</li>
<li>接口在一定程度上实现代码解耦 [即：接口规范性 + 动态绑定机制]</li>
</ul>
</li>
<li>
<p>练习</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">AA</span>&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BB</span>&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test_2</span> <span class="keyword">extends</span> <span class="title class_">BB</span> <span class="keyword">implements</span> <span class="title class_">AA</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pX</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// error:不明确x</span></span><br><span class="line">		<span class="comment">// System.out.println(x);</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 访问接口属性</span></span><br><span class="line">		System.out.println(<span class="string">&quot;AA.x = &quot;</span> + AA.x); <span class="comment">// 0</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 访问父类属性</span></span><br><span class="line">		System.out.println(<span class="string">&quot;super.x = &quot;</span> + <span class="built_in">super</span>.x); <span class="comment">// 1</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Test_2</span>().pX();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="36内部类"><a class="markdownIt-Anchor" href="#36内部类"></a> 36.内部类</h2>
<ul>
<li>
<p>定义：一个类的内部又完整的嵌套类另一个类结构，被嵌套的类称为内部类，嵌套其他类的类称为外部类。</p>
</li>
<li>
<p>类的五大成员：属性、方法、构造器、代码块、内部类。</p>
</li>
<li>
<p>内部类的最大特点是可以直接访问私有属性，并且可以体现类与类之间的包含关系。</p>
</li>
<li>
<p>基本语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span>&#123; <span class="comment">// 外部类</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">Inner</span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Other</span>&#123; <span class="comment">// 外部其他类</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>内部类的分类</p>
<ol>
<li>
<p>定义在外部类局部位置上（比如方法内）</p>
<p>(1) 局部内部类（有类名）</p>
<ul>
<li>
<p>局部内部类定义在外部类的局部位置，且有类名。</p>
</li>
<li>
<p>可以直接访问外部类的所有成员，包含私有的。</p>
</li>
<li>
<p>不能在类前面添加访问修饰符，因为它的地位就是一个局部变量。局部变量不能使用修饰符，但可以使用<code>final</code>修饰。</p>
</li>
<li>
<p>作用域：仅仅在定义它的方法或代码块中。</p>
</li>
<li>
<p>局部内部类  访问  外部类的成员：直接访问</p>
</li>
<li>
<p>外部类  访问  局部内部类的成员：创建对象再访问（必须在作用域内）</p>
</li>
<li>
<p>当局部内部类与外层类重名，默认遵循就近原则。若想要访问外部类的成员，使用 <code>外部类名.this.成员</code>  访问</p>
<figure class="highlight plaintext"><figcaption><span>局部内部类 ，```外部类名.this```就是哪个对象。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">class Person&#123;</span><br><span class="line">	</span><br><span class="line">	private String name;</span><br><span class="line">	private int age;</span><br><span class="line">	</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;这是Person类的代码块!&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public Person()</span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public Person(String name,int age)</span><br><span class="line">	&#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	private String info()</span><br><span class="line">	&#123;</span><br><span class="line">		return &quot;名字: &quot; + name + &quot;  &quot; + &quot;年龄: &quot; +age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void sort()</span><br><span class="line">	&#123;</span><br><span class="line">		class Student&#123;</span><br><span class="line">			</span><br><span class="line">			private String gender;</span><br><span class="line">			</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(&quot;这是局部内部类Student的代码块!&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			public Student(String name,int age,String gender)</span><br><span class="line">			&#123;</span><br><span class="line">				// 不可以直接访问构造器！！！</span><br><span class="line">				// Person(name,age);</span><br><span class="line">				</span><br><span class="line">				// 当局部内部类与外层类重名，使用 外层类名.this.属性名 访问</span><br><span class="line">				Person.this.name = name;</span><br><span class="line">				Person.this.age = age;</span><br><span class="line">				</span><br><span class="line">				this.gender = gender;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			public String sayInfo()</span><br><span class="line">			&#123;</span><br><span class="line">				// 直接调用外部类的方法</span><br><span class="line">				return info() + &quot;  &quot; +&quot;性别: &quot; + gender;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		class Graduate extends Student&#123;</span><br><span class="line">			</span><br><span class="line">			private int grade;</span><br><span class="line">			</span><br><span class="line">			public Graduate(int grade,String name,int age,String gender)</span><br><span class="line">			&#123;</span><br><span class="line">				super(name,age,gender);</span><br><span class="line">				this.grade = grade;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			public String sayInfo()</span><br><span class="line">			&#123;</span><br><span class="line">				return &quot;年级: &quot; + grade + &quot;  &quot; + super.sayInfo();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		Graduate gra = new Graduate(2025,&quot;XinWanna&quot;,20,&quot;女&quot;);</span><br><span class="line">		System.out.println(gra.sayInfo());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class localInner &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		new Person().sort();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是Person类的代码块!</span><br><span class="line">这是局部内部类Student的代码块!</span><br><span class="line">年级: <span class="number">2025</span>  名字: XinWanna  年龄: <span class="number">20</span>  性别: 女</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>外部其他类 不能访问 局部内部类（局部内部类地位时一个局部变量）</p>
</li>
</ul>
<p>(2) 匿名内部类（没有类名）</p>
<ul>
<li>
<p>本质是类，是内部类，该类没有名字，同时还是一个对象。</p>
</li>
<li>
<p>基本语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 类或接口（参数列表）&#123;</span><br><span class="line">	类体</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>某个类只使用一次，后面再不使用  =&gt;  使用匿名内部类来简化开发</p>
</li>
<li>
<p>匿名内部类两种使用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Method</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 1. 创建后返回</span></span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;匿名内部类重写 hi 方法 - 1&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		person.hi();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 2. 直接调用，匿名内部类本身也是返回对象</span></span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Person</span>() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;匿名内部类重写 hi 方法 - 2&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;.hi();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">anonymous_use</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Student</span>().Method();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">匿名内部类重写 hi 方法 - <span class="number">1</span></span><br><span class="line">匿名内部类重写 hi 方法 - <span class="number">2</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>可以直接访问外部类的所有成员，包括私有的。</p>
</li>
<li>
<p>不能添加访问修饰符，因为它的低位就是一个局部变量。</p>
</li>
<li>
<p>作用域：仅仅在定义它的方法或代码块中。</p>
</li>
<li>
<p>匿名内部类   访问   外部成员：直接访问</p>
</li>
<li>
<p>外部其他类   不能访问  匿名内部类（匿名内部类地位是一个局部变量）</p>
</li>
<li>
<p>当局部内部类与外层类重名，默认遵循就近原则。若想要访问外部类的成员，使用 <code>外部类名.this.成员</code>  访问</p>
<figure class="highlight plaintext"><figcaption><span>局部内部类 ，```外部类名.this```就是哪个对象。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">interface IA</span><br><span class="line">&#123;</span><br><span class="line">	void cry();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Tiger implements IA</span><br><span class="line">&#123;</span><br><span class="line">	public void cry()</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;老虎叫唤...&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Father&#123;</span><br><span class="line">	</span><br><span class="line">	public String name;</span><br><span class="line">	</span><br><span class="line">	public Father(String name)</span><br><span class="line">	&#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void test()</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;创建 Father 成功!&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abstract class Animal&#123;</span><br><span class="line">	</span><br><span class="line">	public abstract void eat();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Outer&#123;</span><br><span class="line">	</span><br><span class="line">	public void method() &#123;</span><br><span class="line">		</span><br><span class="line">		// 使用匿名内部类</span><br><span class="line">		</span><br><span class="line">		System.out.println(&quot;=========基于接口的匿名内部类实现==========&quot;);</span><br><span class="line">		</span><br><span class="line">		// tiger_1的编译类型是IA</span><br><span class="line">		// tiger_1的运行类型是匿名内部类</span><br><span class="line">		</span><br><span class="line">		/*</span><br><span class="line">		 * 底层创建了一个类</span><br><span class="line">		 * 类名：XXX  =&gt;  外部类名$1</span><br><span class="line">		 * class XXX implements IA()</span><br><span class="line">		 * &#123;</span><br><span class="line">			 	public void cry()</span><br><span class="line">				&#123;</span><br><span class="line">					System.out.println(&quot;老虎叫唤...&quot;);</span><br><span class="line">				&#125;</span><br><span class="line">		 * &#125;</span><br><span class="line">		 */</span><br><span class="line">		</span><br><span class="line">		// jdk底层在创建匿名内部类 Outer$1，立即马上就创建了 Outer$1 实例，并把地址返回给 tiger_1</span><br><span class="line">		// 匿名内部类使用一次，就不能再使用</span><br><span class="line">		// tiger_1 可以再使用</span><br><span class="line">		IA tiger_1 = new IA() &#123;</span><br><span class="line">			public void cry()</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(&quot;老虎叫唤...&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		tiger_1.cry(); // 老虎叫唤...</span><br><span class="line">		tiger_1.cry(); // 老虎叫唤...</span><br><span class="line">		</span><br><span class="line">		// 传统方法  =&gt;  硬编码</span><br><span class="line">		IA tiger_2 = new Tiger();</span><br><span class="line">		tiger_2.cry(); // 老虎叫唤...</span><br><span class="line">		</span><br><span class="line">		// class anonimous_class.Outer$1</span><br><span class="line">		System.out.println(&quot;tiger_1 的运行类型 = &quot; + tiger_1.getClass());</span><br><span class="line">	</span><br><span class="line">		System.out.println(&quot;=========基于类的匿名内部类实现==========&quot;);</span><br><span class="line">		</span><br><span class="line">		// father 编译类型是 Father</span><br><span class="line">		// father 运行类型是 Outer$2</span><br><span class="line">		</span><br><span class="line">		/*</span><br><span class="line">		 * class Outer$2 extends Father&#123;</span><br><span class="line">		 * 		public void test()</span><br><span class="line">				&#123;</span><br><span class="line">					System.out.println(&quot;重写 Father 中的方法!&quot;);</span><br><span class="line">				&#125;</span><br><span class="line">		 * &#125;</span><br><span class="line">		 */</span><br><span class="line">		</span><br><span class="line">		// (&quot;jack&quot;) 参数列表会传递给构造器，即会将 &quot;jack&quot; 传递给 Father 的构造器</span><br><span class="line">		Father father = new Father(&quot;jack&quot;) &#123;</span><br><span class="line">			</span><br><span class="line">			public void test()</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(&quot;重写 Father 中的方法!&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		// class anonimous_class.Outer$2</span><br><span class="line">		System.out.println(&quot;father 的运行类型 = &quot; + father.getClass());</span><br><span class="line">	</span><br><span class="line">		father.test(); // 重写 Father 中的方法!</span><br><span class="line">		</span><br><span class="line">		Father f = new Father(&quot;jack&quot;);</span><br><span class="line">		</span><br><span class="line">		// class anonimous_class.Father</span><br><span class="line">		System.out.println(&quot;f 的运行类型 = &quot; + f.getClass());</span><br><span class="line">		</span><br><span class="line">		f.test(); // 创建 Father 成功!</span><br><span class="line">		</span><br><span class="line">		System.out.println(&quot;=========基于抽象类的匿名内部类实现==========&quot;);</span><br><span class="line">		</span><br><span class="line">		// 必须实现抽象类的方法</span><br><span class="line">		Animal animal = new Animal() &#123;</span><br><span class="line">			public void eat()&#123;</span><br><span class="line">				System.out.println(&quot;小狗吃骨头!&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		animal.eat(); // 小狗吃骨头!</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class anonymous_class &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		</span><br><span class="line">		new Outer().method();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">=========基于接口的匿名内部类实现==========</span><br><span class="line">老虎叫唤...</span><br><span class="line">老虎叫唤...</span><br><span class="line">老虎叫唤...</span><br><span class="line">tiger_1 的运行类型 = <span class="keyword">class</span> <span class="title class_">anonimous_class</span>.Outer$<span class="number">1</span></span><br><span class="line">=========基于类的匿名内部类实现==========</span><br><span class="line">father 的运行类型 = <span class="keyword">class</span> <span class="title class_">anonimous_class</span>.Outer$<span class="number">2</span></span><br><span class="line">重写 Father 中的方法!</span><br><span class="line">f 的运行类型 = <span class="keyword">class</span> <span class="title class_">anonimous_class</span>.Father</span><br><span class="line">创建 Father 成功!</span><br><span class="line">=========基于抽象类的匿名内部类实现==========</span><br><span class="line">小狗吃骨头!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习-1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Bell</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">ring</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CellPhone</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">alarmclock</span><span class="params">(Bell bell)</span></span><br><span class="line">	&#123;</span><br><span class="line">		bell.ring();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">CellPhone</span> <span class="variable">cell</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CellPhone</span>();</span><br><span class="line">		cell.alarmclock(<span class="keyword">new</span> <span class="title class_">Bell</span>() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ring</span><span class="params">()</span></span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;懒猪起床了!&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		cell.alarmclock(<span class="keyword">new</span> <span class="title class_">Bell</span>() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ring</span><span class="params">()</span></span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;小伙伴上课了!&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">懒猪起床了!</span><br><span class="line">小伙伴上课了!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习-2</p>
<ol>
<li>计算器接口具有<code>work</code>方法，功能是运算。有一个手机类<code>Cellphone</code>,定义方法<code>testWork</code>测试计算功能，调用计算接口的<code>work</code>方法。</li>
<li>要求调用<code>CellPhone</code>对象的<code>testWork</code>方法，使用上匿名内部类。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> anonimous_class;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Calculate</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">work</span><span class="params">(<span class="type">double</span> n1,<span class="type">double</span> n2)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CellPhone_</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWork</span><span class="params">(Calculate calculate,<span class="type">double</span> n1,<span class="type">double</span> n2)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">double</span> <span class="variable">result</span> <span class="operator">=</span> calculate.work(n1,n2);</span><br><span class="line">		System.out.println(<span class="string">&quot;计算后的结果是 &quot;</span> + result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">anonymousTest</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">CellPhone_</span> <span class="variable">cellphone</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CellPhone_</span>();</span><br><span class="line">		cellphone.testWork(<span class="keyword">new</span> <span class="title class_">Calculate</span>()&#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">work</span><span class="params">(<span class="type">double</span> n1,<span class="type">double</span> n2)</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> n1 + n2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;, <span class="number">8</span>, <span class="number">10</span>); <span class="comment">// 18.0</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>定义在外部类的成员位置上（比如属性、方法位置上）</p>
<p>(1) 成员内部类（没有 <code>static</code>修饰）</p>
<ul>
<li>
<p>定义在外部类的成员位置，并且没有 <code>static</code>位置。</p>
</li>
<li>
<p>可以直接访问外部类的所有成员，包括私有的。</p>
</li>
<li>
<p>可以添加任何访问修饰符（<code>publi、protected、默认、private</code>）,因为它的低位就是一个成员。</p>
</li>
<li>
<p>作用域：为整个类体</p>
</li>
<li>
<p>成员内部类    访问    外部类成员：直接访问</p>
</li>
<li>
<p>外部类  访问  成员内部类：创建对象，再访问</p>
</li>
<li>
<p>外部其他类  访问  成员内部类：</p>
<p>​	①    <code>外部类名.new 成员内部类名()</code></p>
<p>​	②    在外部类中编写一个方法，可以返回成员内部类对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Inner</span>&#123;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span></span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;Outer 的 n = &quot;</span> + n + <span class="string">&quot;,Outer 的 name = &quot;</span> + name);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">t</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">	    inner.say();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 返回一个Inner的实例</span></span><br><span class="line">	<span class="keyword">public</span> Inner <span class="title function_">getInnerInstance</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">inner_class</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Outer</span>().t();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 外部其他类，使用成员内部类的三种方式</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 *  第一种方式：外部类名.new 成员内部类名()</span></span><br><span class="line"><span class="comment">		 *  1. 要求成员内部类不能是 private,否则会报错，私有的外部无法访问。</span></span><br><span class="line"><span class="comment">		 *  2. 相当于把 new Inner() 当作是 Outer 的成员</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">	</span><br><span class="line">		<span class="type">Outer</span> <span class="variable">outer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>();</span><br><span class="line">		Outer.<span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> outer.<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">		inner.say();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 *  第二种方式：编写一个方法，可以返回成员内部类对象</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		Outer.<span class="type">Inner</span> <span class="variable">innerInstance</span> <span class="operator">=</span> outer.getInnerInstance();</span><br><span class="line">		innerInstance.say();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Outer 的 n = <span class="number">10</span>,Outer 的 name = XinWanna</span><br><span class="line">Outer 的 n = <span class="number">10</span>,Outer 的 name = XinWanna</span><br><span class="line">Outer 的 n = <span class="number">10</span>,Outer 的 name = XinWanna</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>当局部内部类与外层类重名，默认遵循就近原则。若想要访问外部类的成员，使用 <code>外部类名.this.成员</code>  访问</p>
<figure class="highlight plaintext"><figcaption><span>局部内部类 ，```外部类名.this```就是哪个对象.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"> (2) 静态内部类（使用 ```static```修饰）</span><br><span class="line">  </span><br><span class="line">- 定义在外部类的成员位置，并且有```static```修饰</span><br><span class="line">  </span><br><span class="line">- 可以直接访问外部类的所有静态成员，包括私有的，但不能直接访问非静态成员。</span><br><span class="line">  </span><br><span class="line">- 可以添加任意访问修饰符（```publi、protected、默认、private```）,因为它的低位就是一个成员。</span><br><span class="line">  </span><br><span class="line">- 作用域：为整个类体</span><br><span class="line">  </span><br><span class="line">- 静态内部类  访问  外部类（比如：静态属性）：直接访问所有静态成员</span><br><span class="line">  </span><br><span class="line">- 外部类  访问  静态内部类：创建对象再访问</span><br><span class="line">  </span><br><span class="line">- 外部其他类  访问  静态内部类：</span><br><span class="line">  </span><br><span class="line">  ①  通过类名直接访问（前提是满足访问权限）```外部类名.静态内部类名```</span><br><span class="line">  </span><br><span class="line">  ②  在外部类中，编写一个非静态方法，可以返回静态内部类对象。然后创建外部类，调用这个非静态方法获得静态内部类对象。</span><br><span class="line">  </span><br><span class="line">  ③  在外部类中，编写一个静态方法，可以返回静态内部类对象。此时不需要再创建外部类，直接通过外部类类名获取即可。</span><br><span class="line">  </span><br><span class="line">- 如果外部类和静态内部类的成员重名时，静态内部类访问的时候，默认遵循就近原则，如果想访问外部类的成员，则可以使用 ```外部类名.成员``` 去访问。</span><br><span class="line">  </span><br><span class="line">  ```java</span><br><span class="line">  class OuterStatic&#123;</span><br><span class="line">  	</span><br><span class="line">  	private int n = 10;</span><br><span class="line">  	public static String name = &quot;XinWanna&quot;;</span><br><span class="line">  	</span><br><span class="line">  	public static class Inner&#123;</span><br><span class="line">  		</span><br><span class="line">  		public static String name = &quot;XinXin&quot;;</span><br><span class="line">  		</span><br><span class="line">  		public void say()</span><br><span class="line">  		&#123;</span><br><span class="line">  			System.out.println(&quot;Outer 的 name = &quot; + OuterStatic.name + &quot;,Inner 的 name = &quot; + name);</span><br><span class="line">  		&#125;</span><br><span class="line">  	&#125;</span><br><span class="line">  	</span><br><span class="line">  	// 外部类访问静态类</span><br><span class="line">  	public void t()</span><br><span class="line">  	&#123;</span><br><span class="line">  		Inner inner = new Inner();</span><br><span class="line">  	    inner.say();</span><br><span class="line">  	&#125;</span><br><span class="line">  	</span><br><span class="line">  	// 返回一个Inner的实例</span><br><span class="line">  	public static Inner getInnerInstance()</span><br><span class="line">  	&#123;</span><br><span class="line">  		return new Inner();</span><br><span class="line">  	&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  public class static_inner_class &#123;</span><br><span class="line">  </span><br><span class="line">  	public static void main(String[] args) &#123;</span><br><span class="line">  		</span><br><span class="line">  		// TODO Auto-generated method stub</span><br><span class="line">  </span><br><span class="line">  		// 外部其他类，使用静态内部类的三种方式</span><br><span class="line">  		</span><br><span class="line">  		/*</span><br><span class="line">  		 *  第一种方式：通过类名直接访问（前提是满足访问权限）</span><br><span class="line">  		 *  </span><br><span class="line">  		 */</span><br><span class="line">  		</span><br><span class="line">  		OuterStatic.Inner inner = new OuterStatic.Inner();</span><br><span class="line">  		inner.say();</span><br><span class="line">  		</span><br><span class="line">  		/*</span><br><span class="line">  		 *  第二种方式：在外部类中，编写一个非静态方法，可以返回静态内部类对象。</span><br><span class="line">  		 *  		   然后创建外部类，调用这个非静态方法获得静态内部类对象。</span><br><span class="line">  		 */</span><br><span class="line">  		OuterStatic outerStatic = new OuterStatic();</span><br><span class="line">  		OuterStatic.Inner innerInstance = outerStatic.getInnerInstance();</span><br><span class="line">  		innerInstance.say();</span><br><span class="line">  		</span><br><span class="line">  		/*</span><br><span class="line">  		 *  第三种方式：在外部类中，编写一个静态方法，可以返回静态内部类对象。</span><br><span class="line">  		 *             此时不需要再创建外部类，直接通过外部类类名获取即可。</span><br><span class="line">  		 */</span><br><span class="line">  		</span><br><span class="line">  		OuterStatic.Inner inner_ = OuterStatic.getInnerInstance();</span><br><span class="line">  		inner_.say();</span><br><span class="line">  	&#125;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Outer 的 name = XinWanna,Inner 的 name = XinXin</span><br><span class="line">Outer 的 name = XinWanna,Inner 的 name = XinXin</span><br><span class="line">Outer 的 name = XinWanna,Inner 的 name = XinXin</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
</li>
</ul>
<hr>
<h2 id="37枚举类"><a class="markdownIt-Anchor" href="#37枚举类"></a> 37.枚举类</h2>
<ul>
<li>
<p>枚举类是一种特殊的类，里面只包含一组有限的特定的对象。</p>
</li>
<li>
<p>枚举的两种实现方式</p>
<ul>
<li>
<p>自定义类实现枚举</p>
<p>实现步骤：</p>
<ol>
<li>将构造器私有化，目的是防止 直接 new</li>
<li>去掉 set 相关的方法，防止属性被修改（枚举对象通常为只读）</li>
<li>在类内，直接创建固定的对象/属性，并用 <code>final 和 static</code> 修饰。</li>
<li>枚举对象根据需要，也可以有多个属性。</li>
</ol>
<p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Season</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String dec;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">SPRING</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;春天&quot;</span>,<span class="string">&quot;温暖&quot;</span>);</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">SUMMER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;夏天&quot;</span>,<span class="string">&quot;炎热&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Season</span><span class="params">(String name,String dec)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.dec = dec;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name + <span class="string">&#x27;\t&#x27;</span> + dec;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">personal_enumertation</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(Season.SPRING);</span><br><span class="line">		System.out.println(Season.SUMMER);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">春天	温暖</span><br><span class="line">夏天	炎热</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用 enum 关键字实现枚举</p>
<p>实现步骤：</p>
<ol>
<li><code>enum</code> 代替 <code>class</code></li>
<li>常量名(实参列表),常量名(实参列表),…</li>
<li>如果使用 <code>enum</code> 来实现枚举，要求将定义常量对象写在前面</li>
</ol>
<p>注意事项：</p>
<ol>
<li>
<p>当使用 <code>enum</code> 关键字开发一个没聚了时，默认会继承 <code>Enum</code> 类。</p>
</li>
<li>
<p>如果使用无参构造器创建枚举对象，则实参列表和小括号都可以省略。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span>&#123;</span><br><span class="line">    BOY,GIRL;  <span class="comment">// 调用 Gender 类的无参构造器</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Season</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 1. enum 代替 class</span></span><br><span class="line">	<span class="comment">// 2. 常量名(实参列表),常量名(实参列表),.......</span></span><br><span class="line">	<span class="comment">// 3. 如果使用 enum 来实现枚举，要求将定义常量对象写在前面</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 调用有参构造器</span></span><br><span class="line">	SPRING(<span class="string">&quot;春天&quot;</span>,<span class="string">&quot;温暖&quot;</span>),WINTER(<span class="string">&quot;冬天&quot;</span>,<span class="string">&quot;寒冷&quot;</span>),</span><br><span class="line">	AUTUMN(<span class="string">&quot;秋天&quot;</span>,<span class="string">&quot;凉爽&quot;</span>),SUMMER(<span class="string">&quot;夏天&quot;</span>,<span class="string">&quot;炎热&quot;</span>),</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 调用无参构造器</span></span><br><span class="line">	What(),Why;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String dec;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Season</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 要求构造器必须是私有的 </span></span><br><span class="line">	<span class="comment">// Illegal modifier for the enum constructor; only private is permitted.</span></span><br><span class="line">	<span class="comment">// public Season(String name,String dec)</span></span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Season</span><span class="params">(String name,String dec)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.dec = dec;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name + <span class="string">&#x27;\t&#x27;</span> + dec;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">enum_enumertation</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		System.out.println(Season.SPRING);</span><br><span class="line">		System.out.println(Season.SUMMER);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">春天	温暖</span><br><span class="line">夏天	炎热</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span>&#123;</span><br><span class="line">	BOY,GIRL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">enum_Test</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Gender</span> <span class="variable">boy</span> <span class="operator">=</span> Gender.BOY;</span><br><span class="line">		<span class="type">Gender</span> <span class="variable">boy_</span> <span class="operator">=</span> Gender.BOY;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 本质就是调用 Gender 的父类 Enum 的 toString()</span></span><br><span class="line"><span class="comment">		 * </span></span><br><span class="line"><span class="comment">		 * public String toString()&#123;</span></span><br><span class="line"><span class="comment">		 * 		return name;</span></span><br><span class="line"><span class="comment">		 * &#125;</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		System.out.println(boy); <span class="comment">// BOY</span></span><br><span class="line">		System.out.println(boy == boy_); <span class="comment">// true</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>枚举类的使用细节</p>
<ul>
<li>不能继承其他类（<code>enum</code>会隐式继承<code>Enum</code>）</li>
<li>可以实现接口</li>
</ul>
</li>
<li>
<p><code>enum</code>常用方法</p>
<ul>
<li><code>toString</code>：返回当前对象名，子类可以重写该方法，用于返回对象的属性信息。</li>
<li><code>name</code>：返回当前对象名（常量名），子类中不能重写</li>
<li><code>ordinal</code>：返回当前对象的位置号，默认从0开始</li>
<li><code>values</code>：返回当前枚举类中所有的常量</li>
<li><code>valueOf</code>：将字符串转换成枚举对象，要求字符串必须为已有的常量名，否则报异常！</li>
<li><code>compareTo</code>：比较两个枚举常量，比较的就是位置编号。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Seasons</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 1. enum 代替 class</span></span><br><span class="line">	<span class="comment">// 2. 常量名(实参列表),常量名(实参列表),.......</span></span><br><span class="line">	<span class="comment">// 3. 如果使用 enum 来实现枚举，要求将定义常量对象写在前面</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 调用有参构造器</span></span><br><span class="line">	SPRING(<span class="string">&quot;春天&quot;</span>,<span class="string">&quot;温暖&quot;</span>),WINTER(<span class="string">&quot;冬天&quot;</span>,<span class="string">&quot;寒冷&quot;</span>),</span><br><span class="line">	AUTUMN(<span class="string">&quot;秋天&quot;</span>,<span class="string">&quot;凉爽&quot;</span>),SUMMER(<span class="string">&quot;夏天&quot;</span>,<span class="string">&quot;炎热&quot;</span>),</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 调用无参构造器</span></span><br><span class="line">	What(),Why;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String dec;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Seasons</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 要求构造器必须是私有的 </span></span><br><span class="line">	<span class="comment">// Illegal modifier for the enum constructor; only private is permitted.</span></span><br><span class="line">	<span class="comment">// public Seasons(String name,String dec)</span></span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Seasons</span><span class="params">(String name,String dec)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.dec = dec;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name + <span class="string">&#x27;\t&#x27;</span> + dec;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">enum_enumertation</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 1. 调用重写后的 toString()方法</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;------调用重写后的 toString()方法------&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(Seasons.SPRING);</span><br><span class="line">		System.out.println(Seasons.SUMMER);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 2. 调用 name() 方法</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------调用 name()方法------&quot;</span>);</span><br><span class="line">		System.out.println(Seasons.AUTUMN.name());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 3. 调用 ordinal() 方法</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------调用 ordinal()方法------&quot;</span>);</span><br><span class="line">		System.out.println(Seasons.AUTUMN.ordinal());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 4. 调用 values() 方法</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------调用 values()方法------&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		Seasons[] season = Seasons.values();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=====普通方法遍历=====&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; season.length;i++)</span><br><span class="line">			System.out.println(season[i]);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=====增强方法遍历=====&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Seasons s:season)</span><br><span class="line">			System.out.println(s);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 5. 调用 valueOf() 方法</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------调用 valueOf()方法------&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 执行流程</span></span><br><span class="line"><span class="comment">		 * 	1. 根据输入的 &quot;AUTUMN&quot; 到 Season 的枚举对象中去找</span></span><br><span class="line"><span class="comment">		 *  2. 如果找到，就返回；否则报错</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="type">Seasons</span> <span class="variable">autumn</span> <span class="operator">=</span> Seasons.valueOf(<span class="string">&quot;AUTUMN&quot;</span>);</span><br><span class="line">		System.out.println(autumn);</span><br><span class="line">		System.out.println(autumn == Seasons.AUTUMN);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 6. 调用 compareTo() 方法</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;------调用 compareTo()方法------&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 执行流程：</span></span><br><span class="line"><span class="comment">		 * 	1. 将 Season.AUTUMN 编号 和 Season.SUMMER 编号进行对比</span></span><br><span class="line"><span class="comment">		 *  2. 返回的是 self.ordinal - other.ordinal,</span></span><br><span class="line"><span class="comment">		 *     即 Season.AUTUMN 编号 - Season.SUMMER 编号 = 2 - 3 = -1</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(Seasons.AUTUMN == Seasons.SUMMER);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-----调用重写后的 toString()方法------</span><br><span class="line">春天	温暖</span><br><span class="line">夏天	炎热</span><br><span class="line">------调用 name()方法------</span><br><span class="line">AUTUMN</span><br><span class="line">------调用 ordinal()方法------</span><br><span class="line"><span class="number">2</span></span><br><span class="line">------调用 values()方法------</span><br><span class="line">=====普通方法遍历=====</span><br><span class="line">春天	温暖</span><br><span class="line">冬天	寒冷</span><br><span class="line">秋天	凉爽</span><br><span class="line">夏天	炎热</span><br><span class="line"><span class="literal">null</span>	<span class="literal">null</span></span><br><span class="line"><span class="literal">null</span>	<span class="literal">null</span></span><br><span class="line">=====增强方法遍历=====</span><br><span class="line">春天	温暖</span><br><span class="line">冬天	寒冷</span><br><span class="line">秋天	凉爽</span><br><span class="line">夏天	炎热</span><br><span class="line"><span class="literal">null</span>	<span class="literal">null</span></span><br><span class="line"><span class="literal">null</span>	<span class="literal">null</span></span><br><span class="line">------调用 valueOf()方法------</span><br><span class="line">秋天	凉爽</span><br><span class="line"><span class="literal">true</span></span><br><span class="line">------调用 compareTo()方法------</span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> enumeration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Week</span>&#123;</span><br><span class="line">	</span><br><span class="line">	MONDAY(<span class="string">&quot;星期一&quot;</span>),TUESDAY(<span class="string">&quot;星期二&quot;</span>),WEDNESDAY(<span class="string">&quot;星期三&quot;</span>),</span><br><span class="line">	THURSDAY(<span class="string">&quot;星期四&quot;</span>),FRIDAY(<span class="string">&quot;星期五&quot;</span>),SATURDAY(<span class="string">&quot;星期六&quot;</span>),</span><br><span class="line">	SUNDAY(<span class="string">&quot;星期日&quot;</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 构造器必须是 private</span></span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Week</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test_week</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		Week[] week = Week.values();</span><br><span class="line">		<span class="keyword">for</span>(Week w : week)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(w);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">星期一</span><br><span class="line">星期二</span><br><span class="line">星期三</span><br><span class="line">星期四</span><br><span class="line">星期五</span><br><span class="line">星期六</span><br><span class="line">星期日</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IShow</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> <span class="keyword">implements</span> <span class="title class_">IShow</span>&#123;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	private int RED,BLUE,BLACK,YELLOW,GREEN;</span></span><br><span class="line">	</span><br><span class="line">	RED(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>),BLUE(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),BLACK(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),YELLOW(<span class="number">255</span>,<span class="number">255</span>,<span class="number">0</span>),GREEN(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> redValue,greenValue,blueValue;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Color</span><span class="params">(<span class="type">int</span> redValue,<span class="type">int</span> greenValue,<span class="type">int</span> blueValue)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.redValue = redValue;</span><br><span class="line">		<span class="built_in">this</span>.greenValue = greenValue;</span><br><span class="line">		<span class="built_in">this</span>.blueValue = blueValue;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(redValue + <span class="string">&quot;,&quot;</span> + greenValue + <span class="string">&quot;,&quot;</span> + blueValue);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">enumTest</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Color</span> <span class="variable">color</span> <span class="operator">=</span> Color.RED;</span><br><span class="line">		color.show();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 1. switch()中，放入枚举对象</span></span><br><span class="line"><span class="comment">		 * 2. 在每个case后，直接写上在枚举中，定义的枚举对象即可</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">switch</span>(color)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// error</span></span><br><span class="line">			<span class="comment">// case Color.RED:</span></span><br><span class="line">		</span><br><span class="line">			<span class="keyword">case</span> RED:</span><br><span class="line">				System.out.println(<span class="string">&quot;匹配到红色!&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> BLUE:</span><br><span class="line">				System.out.println(<span class="string">&quot;匹配到蓝色!&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> BLACK:</span><br><span class="line">				System.out.println(<span class="string">&quot;匹配到黑色!&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> YELLOW:</span><br><span class="line">				System.out.println(<span class="string">&quot;匹配到黄色!&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> GREEN:</span><br><span class="line">				System.out.println(<span class="string">&quot;匹配到绿色!&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				System.out.println(<span class="string">&quot;输入出错!&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">匹配到红色!</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="38注解"><a class="markdownIt-Anchor" href="#38注解"></a> 38.注解</h2>
<ul>
<li>
<p>注解也被称为元数据，用于修饰解释 包、类、方法、属性、构造器、局部变量等数据信息。</p>
</li>
<li>
<p>注解不影响程序逻辑，但注解可以被编译或运行，相当于嵌入在代码中的补充信息。</p>
</li>
<li>
<p>三个基本注解</p>
<ul>
<li>
<p><code>@Override</code>: 限定某个方法，是重写父类方法，该注解只能用于方法。</p>
<ul>
<li>重写时，有没有<code>@Override</code>都可以。但是，如果写了<code>@Override</code>注释，编译器就会去检查该方法是否真的重写了父类的方法。如果的确重写了，则编译通过；如果没有构成重写，则编译错误。</li>
<li><code>@Override</code>只能修饰方法，不能修饰其他类、包、属性等等。</li>
<li><code>Override</code> 的作用域在 <code>SOURCE</code>，当编译器编译时生效，不会写到<code>.class</code>文件，也不会在运行时生效。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;Son fly...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>@interface</code>: 表示一个注解类</p>
</li>
<li>
<p>元注解的种类       <em>了解</em></p>
<ol>
<li><code>Retention</code>: 指定注解的作用范围，三种：<code>SOURCE、CLASS、RUNTIME</code></li>
<li><code>Target</code>: 指定注解可以在哪些地方使用</li>
<li><code>Documented</code>: 指定该注解是否会在<code>javadoc</code>体现</li>
<li><code>Inherited</code>: 子类会继承父类注释</li>
</ol>
<ul>
<li><code>@Retention</code></li>
</ul>
<p>1）<code>RetentionPolicy.SOURCE</code>: 编译器使用后，直接丢弃这种策略的注释。</p>
<p>2）<code>RetentionPolicy.CLASS</code>: 编译器将把注解记录在<code>class</code>文件中，当运行Java程序时，JVM不会保留注释。</p>
<p>3）<code>RetentionPolicy.RUNTIME</code>: 编译器将把注解记录在<code>class</code>文件中，当运行Java程序时，JVM会保留注释，程序可以通过反射获取该注释。</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%85%83%E6%B3%A8%E8%A7%A3-1.png" alt></p>
<ul>
<li>
<p><code>@Target</code></p>
<p>用于修饰注解定义，指定被修饰的注解能用于修饰哪些程序元素。</p>
</li>
<li>
<p><code>Documented</code></p>
<p>用于指定被该元注解修饰的注解类将被javadoc工具提取成文档，即在生成文档时，可以看到该注解。</p>
</li>
<li></li>
</ul>
</li>
<li>
<p><code>@Deprecated</code>: 用于表示某个程序元素（类，方法等）已过时。</p>
<ul>
<li>过时 是不再推荐使用，但是仍然可以使用。</li>
<li>可以修饰方法、类、字段、包、参数 等等</li>
<li><code>@Deprecated</code>可以用于新旧版本过渡使用</li>
</ul>
</li>
<li>
<p><code>@SuppressWarnings</code>: 抑制编译器警告</p>
<ul>
<li>各种值
<ol>
<li><code>unchecked</code>: 忽略没有检查的警告</li>
<li><code>rawtypes</code>: 忽略没有指定泛型的警告（传参时没有指定泛型的警告错误）</li>
<li><code>unused</code>: 忽略没有使用某个变量的警告错误</li>
</ol>
</li>
<li><code>@SuppressWarnings</code>具体的作用范围，和<code>@SuppressWarnings</code>具体放的位置有关。</li>
<li>通常放置具体的语句、方法、类等。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Override_</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 1. 结尾没有分号</span></span><br><span class="line">	<span class="comment">// 2. 若需要抑制多种类型的警告，用分号间隔开</span></span><br><span class="line">	<span class="comment">// 3. &quot;all&quot; 可以一劳永逸</span></span><br><span class="line">	<span class="comment">// 4. 现在的 SuppressWarnings 的作用范围是在 main 方法范围内</span></span><br><span class="line">	<span class="meta">@SuppressWarnings(&#123;&quot;all&quot;&#125;)</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 警告：The value of the local variable son is not used</span></span><br><span class="line">		<span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="meta">@SuppressWarnings(&#123;&quot;unused&quot;&#125;)</span></span><br><span class="line">		<span class="type">int</span> i;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="39异常"><a class="markdownIt-Anchor" href="#39异常"></a> 39.异常</h2>
<ul>
<li>
<p>将程序执行中发生的不正常情况称为“异常”（开发过程中的语法错误和逻辑错误不是异常）</p>
</li>
<li>
<p>执行过程中所发生的异常事件可分为两大类</p>
<ul>
<li><code>Error(错误)</code>：<code>java</code>虚拟机无法解决的严重问题。如：JVM系统内部错误、栈溢出等。<code>Error</code>是严重错误，程序会崩溃。</li>
<li><code>Exception</code>: 其他因编程错误或偶然的外在因素导致的一般性问题，可以使用针对性的代码进行处理。如：空指针访问，试图读取不存在的文件等。<code>Exception</code>分为两大类：运行时异常[程序运行时，发生的异常]和编译时异常[编程时，编译器检查出的异常]。
<ul>
<li>运行时异常，编译器检查不出来，一般是指编程时的逻辑错误，是程序员应该避免其出现的异常。<code>java.lang.RuntimeException</code>类及它的子类都是运行时异常。</li>
<li>运行时异常可以不作处理，但编译时异常，是编译器要求必须处置的异常。</li>
</ul>
</li>
<li>运行时异常
<ul>
<li><code>NullPointerException</code>空指针异常</li>
<li><code>ArithmeticException</code>数学运算异常</li>
<li><code>ArrayIndexOutOfBoundsException</code>数组下标越界异常</li>
<li><code>ClassCastException</code>类型转换异常：当试图将对象强制转换为不是实例的子类时，抛出异常。</li>
<li><code>NumberFormatException</code>数字格式不正确异常：当应用程序试图将字符串转换成一种数值类型，但该字符串不能转换为适当格式时，抛出该异常 =&gt; 使用异常可以确保输入是满足条件数字。</li>
</ul>
</li>
<li>编译时异常
<ul>
<li>发生在网络数据库和操作文件的时候</li>
<li><code>SQLException</code>: 操作数据库时，查询表可能发生异常。</li>
<li><code>IOException</code>: 操作文件时，发生异常。</li>
<li><code>FileNotFoundException</code>: 当操作一个不存在的文件时，发生异常。</li>
<li><code>ClassNotFoundException</code>: 加载类，而该类不存在时，异常。</li>
<li><code>EOFException</code>: 操作文件，到文件末尾，发生异常。</li>
<li><code>ILLegalArguementException</code>: 参数异常</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>try-catch</code>异常处理</p>
<ul>
<li>
<p>基本语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">// 可以代码</span></span><br><span class="line">    <span class="comment">// 将异常生成对应的异常对象，传递给catch块</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(异常)&#123;</span><br><span class="line">    <span class="comment">// 对异常的处理</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">// 释放资源等...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果没有finally，语法是可以通过的</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>如果异常发生了，则异常发生后面的代码不会执行（<strong>只是 <code>try</code> 中的不会再执行，<code>try-catch</code>之外的语句正常执行。</strong>），直接进入到<code>catch</code>块。</p>
</li>
<li>
<p>如果异常没有发生，则顺序执行<code>try</code>的代码块，不会进入到<code>catch</code>。</p>
</li>
<li>
<p>如果希望不管是否发生异常，都指向某段代码，则使用<code>finally</code>。</p>
</li>
<li>
<p>可以有多个<code>catch</code>语句，捕获不同的异常（进行不同的业务处理）。要求父类异常在后（<code>Exception</code>），子类异常在前。如果发生异常，只会匹配到一个<code>catch</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	</span><br><span class="line">	String name;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">tyrCatch</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">			person = <span class="literal">null</span>;</span><br><span class="line">			</span><br><span class="line">			System.out.println(person.getName());</span><br><span class="line">			</span><br><span class="line">			<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line">			<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> Integer.parseInt(str);</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">&quot;数字: &quot;</span> + a);</span><br><span class="line">			</span><br><span class="line">		&#125;<span class="keyword">catch</span>(NullPointerException e) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;空指针异常 = &quot;</span> + e.getMessage());</span><br><span class="line">		&#125;<span class="keyword">catch</span>(ArithmeticException e) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;算术异常 = &quot;</span> + e.getMessage());</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			System.out.println(e.getMessage());</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;不管是否发生异常，始终执行!&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">空指针异常 = <span class="literal">null</span></span><br><span class="line">不管是否发生异常，始终执行!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>可以进行<code>try-finally</code>配合使用，这种方法相当于没有捕获异常，因此程序会直接崩掉/退出。</p>
<p>应用场景：执行一段代码，不管是否异常，都必须执行某个业务逻辑。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    System.out.println(n1/ n2);</span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;执行了finally...&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;程序继续执行...&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">执行了<span class="keyword">finally</span>...</span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.ArithmeticException: / by zero</span><br><span class="line">	at abnormal.tryFinally.main(tryFinally.java:<span class="number">14</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">tryCatchTest</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">method</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			</span><br><span class="line">			String[] names = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">3</span>];</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(names[<span class="number">1</span>].equals(<span class="string">&quot;tom&quot;</span>))</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(names[<span class="number">1</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				names[<span class="number">3</span>] = <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(ArrayIndexOutOfBoundsException e)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(NullPointerException e)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">finally</span> <span class="comment">// finally 一定会执行</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		System.out.println(method()); <span class="comment">// 4</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>throws</code>异常处理</p>
<ul>
<li>
<p>如果一个方法（中的语句执行时）可能生成某种异常，但是并不能确定如何处理这种异常，则此方法应显示地声明抛出异常，表明该方法将不对这些异常进行处理，而由该方法地调用者负责处理。</p>
</li>
<li>
<p>在方法声明中，用<code>throws</code>语句可以声明抛出异常的列表，<code>throws</code>后面的异常类型可以是方法中产生的异常类型，也可以是它的父类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException&#123;</span><br><span class="line">		</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\Git\\XinWanna.txt&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以直接写成父类:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f2</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">		</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\Git\\XinWanna.txt&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以是多个异常:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException,NullPointerException,ArithmeticException&#123;</span><br><span class="line">		</span><br><span class="line">	<span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\Git\\XinWanna.txt&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>对于编译异常，程序中必须处理，比如<code>try_catch</code>或者<code>throws</code></p>
</li>
<li>
<p>对于运行时异常，程序中如果没有处理，默认就是<code>throws</code>的方式处理。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Throw</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		f2();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">f2</span><span class="params">()</span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span><span class="number">10</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">double</span> <span class="variable">res</span> <span class="operator">=</span> n1 / n2;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面运行时异常不显式地用<code>throws</code>处理，等价于<code>throws</code>异常处理。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Throw</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ArithmeticException&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		f2();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">f2</span><span class="params">()</span> <span class="keyword">throws</span> ArithmeticException&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span><span class="number">10</span>;</span><br><span class="line">		<span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">double</span> <span class="variable">res</span> <span class="operator">=</span> n1 / n2;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">f2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException&#123;</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\Git\\XinWanna.txt&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">f3</span><span class="params">()</span> <span class="keyword">throws</span> ArithmeticException&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. f2 所抛出的异常 FileNotFoundException 为 编译时异常，调用该方法的方法必须进行处理（try-catch 或 throws）</span></span><br><span class="line"><span class="comment">// 2. f3 所抛出的异常 ArithmeticException 为 运行时异常，调用该方法的方法可以不显式地进行处理（默认为 throws）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">f4</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException&#123;</span><br><span class="line">    f2();</span><br><span class="line">    f3();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>子类重写父类的方法时，对抛出异常的规定：子类重写的方法，所抛出的异常类型要么和父类抛出的异常一致，要么为父类抛出的异常的类型的子类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> <span class="keyword">throws</span> RuntimeException</span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 子类抛出的异常，要么和父类一致，要么是父类的子类</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> <span class="keyword">throws</span> NullPointerException</span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>在<code>throws</code>过程中，如果有方法<code>try_catch</code>，就相当于处理异常，就可以不必<code>throws</code>。</p>
</li>
</ul>
</li>
<li>
<p>自定义异常</p>
<ul>
<li>
<p>定义类：自定义异常类名继承 <code>Exception</code>（属于编译异常）或 <code>RuntimeException</code>（属于运行时异常）。</p>
</li>
<li>
<p>一般情况下，自定义异常定义为 运行时异常。好处是，可以使用默认的处理机制。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AgeException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">AgeException</span><span class="params">(String message)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">super</span>(message);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">personalAbnormal</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">800</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!(age &gt;= <span class="number">18</span> &amp;&amp; age &lt;= <span class="number">120</span>))</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AgeException</span>(<span class="string">&quot;年龄需要在18 ~ 120 之间!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> throwClass.AgeException: 年龄需要在<span class="number">18</span> ~ <span class="number">120</span> 之间!</span><br><span class="line">	at throwClass.personalAbnormal.main(personalAbnormal.java:<span class="number">19</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>throw</code>与<code>throws</code>的区别</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/throwVSthrows.png" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ReturnExceptionDemo</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">methodA</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;进入方法A!&quot;</span>);</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;制造异常!&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;用A方法的finally!&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">methodB</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;进入方法B!&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;调用B方法的finally!&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThrowException</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ReturnExceptionDemo.methodA();</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			System.out.println(e.getMessage());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 还是会执行!</span></span><br><span class="line">		ReturnExceptionDemo.methodB();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">进入方法A!</span><br><span class="line">用A方法的<span class="keyword">finally</span>!</span><br><span class="line">制造异常!</span><br><span class="line">进入方法B!</span><br><span class="line">调用B方法的<span class="keyword">finally</span>!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习</p>
<figure class="highlight plaintext"><figcaption><span>-> Run as -> Run Configurations -> Arguments</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">// ArithmeticException 是运行时异常，就算不明显写出，也会自己报错</span><br><span class="line">public static int cal(int a,int b)</span><br><span class="line">&#123;</span><br><span class="line">        return a/b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">    // TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">    try &#123;</span><br><span class="line"></span><br><span class="line">        if(args.length != 2)</span><br><span class="line">            throw new ArrayIndexOutOfBoundsException(&quot;参数个数不对!&quot;);</span><br><span class="line"></span><br><span class="line">        int n1 = Integer.parseInt(args[0]);</span><br><span class="line">        int n2 = Integer.parseInt(args[1]);</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;输出结果: &quot; + cal(n1,n2));</span><br><span class="line">    &#125;</span><br><span class="line">    catch(ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">        System.out.println(e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">    catch(NumberFormatException e) &#123;</span><br><span class="line">        System.out.println(e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">    catch(ArithmeticException e) &#123;</span><br><span class="line">        System.out.println(e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="40常用类"><a class="markdownIt-Anchor" href="#40常用类"></a> 40.常用类</h2>
<ul>
<li>
<p>包装类</p>
<ul>
<li>
<p>针对八种基本数据类型相应的引用类型——包装类</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%85%AB%E5%A4%A7Wrapper%E7%B1%BB.png" alt></p>
</li>
<li>
<p>包装类和基本数据据的转换</p>
<ul>
<li><code>jdk5</code>前的手动装箱和拆箱方式，装箱：基本类型 -&gt; 包装类型，反之，拆箱。</li>
<li><code>jdk5</code>以后的自动装箱和拆箱方式（底层调用的是<code>valueOf</code>方法）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">		</span><br><span class="line"><span class="comment">// 手动装箱 int -&gt; Integer</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(n1);</span><br><span class="line"><span class="type">Integer</span> <span class="variable">integer_1</span> <span class="operator">=</span> Integer.valueOf(n1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 手动拆箱 Integer -&gt; int</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> integer.intValue();</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">n3</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自动装箱 int -&gt; Integer</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">integer_2</span> <span class="operator">=</span> n3; <span class="comment">// 底层使用 Integer.valueOf(n2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 自动拆箱 Integer -&gt; int</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n4</span> <span class="operator">=</span> integer_2;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">100d</span>; <span class="comment">// 自动装箱 Double.valueOf(100d)</span></span><br><span class="line"><span class="type">Float</span> <span class="variable">f</span> <span class="operator">=</span> <span class="number">1.5f</span>; <span class="comment">// 自动装箱 Float.valueOf(1.5f)</span></span><br><span class="line"></span><br><span class="line"><span class="type">Object</span> <span class="variable">obj1</span> <span class="operator">=</span> <span class="literal">true</span>?<span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>):<span class="keyword">new</span> <span class="title class_">Double</span>(<span class="number">2.0</span>);</span><br><span class="line">System.out.println(obj1); <span class="comment">// 1.0</span></span><br><span class="line"></span><br><span class="line">Object obj2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)</span><br><span class="line">    obj2 = <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    obj2 = <span class="keyword">new</span> <span class="title class_">Double</span>(<span class="number">2.0</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(obj2); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建的是两个对象，比较的是两个对象的地址</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line"><span class="type">Integer</span> <span class="variable">j</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(i == j); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 底层 Integer.valueOf()</span></span><br><span class="line"><span class="comment">// 当数字范围在-128~127时，直接返回数值</span></span><br><span class="line"><span class="comment">// 否则返回对象</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">m</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(m == n); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">Integer</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(x == y); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 只要有基本数据类型，判断的是值是否相同</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">i11</span> <span class="operator">=</span> <span class="number">127</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i12</span> <span class="operator">=</span> <span class="number">127</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(i11 == i12); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">Integer</span> <span class="variable">i13</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i14</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(i13 == i14); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>包装类和 <code>String</code> 的转换</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 包装类(Integer) -&gt; String</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式1</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> i + <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式2</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> i.toString();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式3</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> String.valueOf(i);</span><br><span class="line"></span><br><span class="line"><span class="comment">// String -&gt; 包装类(Integer)</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str4</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">Integer</span> <span class="variable">i_</span> <span class="operator">=</span> Integer.parseInt(str4);</span><br><span class="line"><span class="type">Integer</span> <span class="variable">i__</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(str4);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>包装类常用方法</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%8C%85%E8%A3%85%E7%B1%BB%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-1.jpg" alt></p>
</li>
</ul>
</li>
<li>
<p><code>String</code>类</p>
<ul>
<li>
<p>字符串的字符使用<code>Unicode</code>字符编码，一个字符（不区分字母还是汉字）占两个字节。</p>
</li>
<li>
<p><code>String</code>实现了<code>Serializable</code>,说明<code>String</code>可以串行化，即可以在网络中传输。</p>
</li>
<li>
<p><code>String</code>实现了<code>Comparable</code>接口，说明<code>String</code>对象可以比较。</p>
</li>
<li>
<p><code>String</code>实现了<code>CharSequence</code>接口，说明<code>String</code>也是一组字符序列。</p>
</li>
<li>
<p><code>String</code>是<code>final</code>类，不能被其他的类继承。</p>
</li>
<li>
<p><code>String</code>有属性<code>private final char value[]</code>，用于存放字符串内容。<code>value</code>是一个<code>final</code>类型，不可以修改（指的是地址不可修改，字符可以修改）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">char</span>[] value = &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>&#125;;</span><br><span class="line">value[<span class="number">0</span>] = <span class="string">&#x27;H&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span>[] v2 = &#123;<span class="string">&#x27;t&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;m&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 报错：The final local variable value cannot be assigned. </span></span><br><span class="line"><span class="comment">//      It must be blank and not using a compound assignment</span></span><br><span class="line">value = v2;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>两种创建<code>String</code>对象的区别</p>
<ul>
<li>
<p>直接赋值 <code>String s = &quot;hsp&quot;;</code></p>
<p>先从常量池查看是否有<code>hsp</code>数据空间，如果有，直接指向；如果没有，则重新创建，然后指向。<code>s</code>最终指向的是<strong>常量池的空间地址</strong>。</p>
</li>
<li>
<p>调用构造器 <code>String s = new String(&quot;hsp&quot;);</code></p>
<p>现在堆中创建空间，里面维护了<code>value</code>属性，指向常量池中的hsp空间。如果常量池没有hsp，重新创建；如果有，直接通过value指向。最终指向的是<strong>堆中的空间地址</strong>。</p>
</li>
<li>
<p>两种创建<code>String</code>对象内存分布</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F.jpg" alt></p>
</li>
<li>
<p>练习 - 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(a.equals(b)); <span class="comment">// true 比较字符串的内容</span></span><br><span class="line">System.out.println(a == b); <span class="comment">// true 比较两个字符串的地址</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * s1:指向常量池的 hsp</span></span><br><span class="line"><span class="comment"> * s2:指向堆中的对象，堆中的对象再指向常量池中的 hsp</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hsp&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(s1.equals(s2)); <span class="comment">// true</span></span><br><span class="line">System.out.println(s1 == s2); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * inter()方法：</span></span><br><span class="line"><span class="comment"> * 	  如果池中已经包含一个等于此String对象的字符串（用equals(Object)方法确定），则返回池中的字符串。</span></span><br><span class="line"><span class="comment"> * 否则，将此String对象添加到池中，并返回此String对象的引用。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * s2.intern(): 最终返回的是常量池的地址(对象)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">System.out.println(s1 == s2.intern()); <span class="comment">// true</span></span><br><span class="line">System.out.println(s2 == s2.intern()); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 2</p>
<p>p1 和 p2 所指向的地址不同，但是 <code>p1.name</code> 和  <code>p2.name</code> 所指向的都是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p1.name = <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p2.name = <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(p1.name.equals(p2.name));  <span class="comment">// T</span></span><br><span class="line">System.out.println(p1.name == p2.name);  <span class="comment">// T</span></span><br><span class="line">System.out.println(p1.name == <span class="string">&quot;XinWanna&quot;</span>);  <span class="comment">// T</span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E6%B5%8B%E8%AF%95%E9%A2%982.png" alt></p>
</li>
</ul>
</li>
<li>
<p><code>String</code>是一个<code>final</code>类，代表不可变的字符序列。</p>
</li>
<li>
<p>字符串是不可变的，一个字符串对象一旦被分配，其内容是不可变的。</p>
<ul>
<li>
<p>练习 - 1</p>
<p>创建了两个对象</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s_1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">s_1 = <span class="string">&quot;haha&quot;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%89%B9%E6%80%A7.png" alt></p>
<ul>
<li>
<p>练习 - 2</p>
<ol>
<li>
<p>编译器会做优化，判断创建的常量池对象，是否有引用指向。</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;abc&quot;</span>;  =&gt;  <span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;helloabc&quot;</span>;
&lt;!--code￼<span class="number">242</span>--&gt;

</code></pre>
</li>
</ol>
</li>
<li>
<p>练习 - 3</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	1. 先创建一个 StringBuilder sb = StringBuilder();</span></span><br><span class="line"><span class="comment">	2. 执行 sb.append(&quot;hello&quot;);</span></span><br><span class="line"><span class="comment">	3. sb.append(&quot;abc&quot;);</span></span><br><span class="line"><span class="comment">	4. String c = sb.toString() (sb是在堆中)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">String</span> <span class="variable">c</span> <span class="operator">=</span> a + b;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 与下面不同</span></span><br><span class="line"><span class="comment">// String c = &quot;hello&quot; + &quot;abc&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">d</span> <span class="operator">=</span> <span class="string">&quot;helloabc&quot;</span>;</span><br><span class="line">System.out.println(c == d); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">e</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">System.out.println(d == e); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">s_a</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s_b</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">s_d</span> <span class="operator">=</span> s_a + <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s_e</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(s_d == s_a); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>创建三个对象</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B5%8B%E8%AF%95%E9%A2%983.png" alt></p>
</li>
<li>
<p>练习 - 4</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hspedu&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;java&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s5</span> <span class="operator">=</span> <span class="string">&quot;hspedujava&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s6</span> <span class="operator">=</span> (s1 + s2).intern(); <span class="comment">// 指向池中的 &quot;hspedujava&quot;</span></span><br><span class="line"></span><br><span class="line">System.out.println(s5 == s6); <span class="comment">// T</span></span><br><span class="line">System.out.println(s5.equals(s6)); <span class="comment">// T</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 5</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">stringStore</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>);</span><br><span class="line">	<span class="keyword">final</span> <span class="type">char</span>[] ch = &#123;<span class="string">&#x27;j&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;v&#x27;</span>,<span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">change</span><span class="params">(String str,<span class="type">char</span> ch[])</span></span><br><span class="line">	&#123;</span><br><span class="line">		str = <span class="string">&quot;java&quot;</span>;</span><br><span class="line">		ch[<span class="number">0</span>] = <span class="string">&#x27;h&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">stringStore</span> <span class="variable">strS</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">stringStore</span>();</span><br><span class="line">		strS.change(strS.str, strS.ch);</span><br><span class="line">		</span><br><span class="line">        <span class="comment">// strS.ch 直接打印时，会输出地址；使用 System.out.println 输出时，会调用 toString() 方法</span></span><br><span class="line">		<span class="comment">// 输出结果: hsp and [C@15db9742</span></span><br><span class="line">		System.out.println(strS.str + <span class="string">&quot; and &quot;</span> + strS.ch);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 输出结果: hsp and hava</span></span><br><span class="line">		System.out.print(strS.str + <span class="string">&quot; and &quot;</span>);</span><br><span class="line">		System.out.print(strS.ch);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B5%8B%E8%AF%95%E9%A2%984.png" alt></p>
</li>
</ul>
</li>
<li>
<p><code>String</code>的常用方法</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.jpg" alt></p>
<ol>
<li>
<p><code>indexOf</code> 可以输入字符串，来获取子串在字符串中，第一次出现的位置。</p>
</li>
<li>
<p><code>lastIndexOf</code> 可以输入字符串，来获取子串在字符串中，最后一次出现的位置。</p>
</li>
</ol>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-2.jpg" alt></p>
<ol start="3">
<li>
<p><code>concat</code> 拼接字符串，将多个字符串拼接起来。</p>
</li>
<li>
<p><code>replace</code> 方法执行后，返回的结果才是被替换过的，对原来的对象没有任何影响。</p>
</li>
<li>
<p><code>split</code>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">poem</span> <span class="operator">=</span> <span class="string">&quot;锄禾日当午，汗滴禾下土，谁知盘中餐，粒粒皆辛苦&quot;</span>;</span><br><span class="line">String[] split = poem.split(<span class="string">&quot;，&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; split.length;i++)</span><br><span class="line">    System.out.println(split[i]);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;=======================&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;D:\\Git\\XinWanna\\source\\_posts&quot;</span>;</span><br><span class="line">split = path.split(<span class="string">&quot;\\\\&quot;</span>); <span class="comment">// 需要转义</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; split.length;i++)</span><br><span class="line">    System.out.println(split[i]);</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">锄禾日当午</span><br><span class="line">汗滴禾下土</span><br><span class="line">谁知盘中餐</span><br><span class="line">粒粒皆辛苦</span><br><span class="line">=======================</span><br><span class="line">D:</span><br><span class="line">Git</span><br><span class="line">XinWanna</span><br><span class="line">source</span><br><span class="line">_posts</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>compareTo</code> 当两个字符串的长度相同，但字符不相等时，用前面字符串的字符 - 相同位置后面字符串的字符；当两个字符串的长度不相等时，用前面字符串的长度减去后面字符串的长度。</p>
</li>
<li>
<p><code>format</code> 示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">score</span> <span class="operator">=</span> <span class="number">90.091</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">gender</span> <span class="operator">=</span> <span class="string">&#x27;女&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">formatStr</span> <span class="operator">=</span> <span class="string">&quot;我的名字是%s,年龄是%d,成绩是%.2f,性别是%c&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">info</span> <span class="operator">=</span> String.format(formatStr, name,age,score,gender);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 我的名字是XinWanna,年龄是20,成绩是90.09,性别是女</span></span><br><span class="line">System.out.println(info);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>substring</code>示例代码</p>
</li>
</ol>
  <figure class="highlight plaintext"><figcaption><span>[start,end)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">class Reported</span><br><span class="line">&#123;</span><br><span class="line">	private String title;</span><br><span class="line">	private String detail;</span><br><span class="line">	</span><br><span class="line">	public Reported(String title)</span><br><span class="line">	&#123;</span><br><span class="line">		this.title = title;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public String getTitle() &#123;</span><br><span class="line">		return title;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setTitle(String title) &#123;</span><br><span class="line">		this.title = title;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public String getDetail() &#123;</span><br><span class="line">		return detail;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setDetail(String detail) &#123;</span><br><span class="line">		this.detail = detail;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public String toString() &#123;</span><br><span class="line">		</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		</span><br><span class="line">		return title;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Test_1 &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">		ArrayList list = new ArrayList();</span><br><span class="line">		</span><br><span class="line">		list.add(new Reported(&quot;新馆确诊病例超千万，数百万印度信徒赴恒河“圣浴”引民众担忧&quot;));</span><br><span class="line">		list.add(new Reported(&quot;男子突然想起两个月前钓的鱼还在网兜里，捞起一看赶紧放生&quot;));</span><br><span class="line">		</span><br><span class="line">		for(int i = list.size() - 1;i &gt;= 0;i--)</span><br><span class="line">		&#123;</span><br><span class="line">			Reported reported = (Reported)list.get(i); // 获取到对象</span><br><span class="line">			String title = reported.getTitle();</span><br><span class="line">			</span><br><span class="line">			title = title.length() &gt; 15 ? title.substring(0,15) + &quot;...&quot; : title;</span><br><span class="line">			System.out.println(title);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">男子突然想起两个月前钓的鱼还在...</span><br><span class="line">新馆确诊病例超千万，数百万印度...</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>String</code>练习</p>
<ul>
<li>
<p>练习 - 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test_1</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">reverse</span><span class="params">(String str,<span class="type">int</span> start,<span class="type">int</span> end)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(!(str != <span class="literal">null</span> &amp;&amp; start &gt;= <span class="number">0</span> &amp;&amp; end &gt; start &amp;&amp; end &lt; str.length()))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;参数不正确!&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">char</span>[] s = str.toCharArray();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start,j = end;i &lt; j;i++,j--)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s[i];</span><br><span class="line">			s[i] = s[j];</span><br><span class="line">			s[j] = c;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// s.toString() 返回的并不是数组的内容，而是数组对象的地址。</span></span><br><span class="line">		<span class="comment">// 这是因为 toString() 在字符数组上调用时，并不会将数组转化为字符串，而是返回对象的内存地址。</span></span><br><span class="line">		<span class="comment">// return s.toString();</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(s);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;abcdef&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		System.out.println(reverse(str,<span class="number">1</span>,<span class="number">4</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(reverse(str,<span class="number">0</span>,<span class="number">0</span>));</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">			System.out.println(e.getMessage());</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aedcbf</span><br><span class="line">参数不正确!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test_2</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">userRegister</span><span class="params">(String name,String pwd,String email)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">nameLen</span> <span class="operator">=</span> name.length();</span><br><span class="line">		<span class="keyword">if</span>(!(nameLen &gt;= <span class="number">2</span> &amp;&amp; nameLen &lt;= <span class="number">4</span>))</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;用户名长度必须为2或3或4!&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">pwdLen</span> <span class="operator">=</span> pwd.length();</span><br><span class="line">		<span class="keyword">if</span>(!(pwd.length() == <span class="number">6</span> &amp;&amp; isDigital(pwd)))</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;密码必须为6位，且要求全部为数字!&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">id1</span> <span class="operator">=</span> email.indexOf(<span class="string">&quot;@&quot;</span>);</span><br><span class="line">		<span class="type">int</span> <span class="variable">id2</span> <span class="operator">=</span> email.indexOf(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!(id1 &gt; <span class="number">0</span> &amp;&amp; id2 &gt; <span class="number">0</span> &amp;&amp; id2 &gt; id1))</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;邮件必须包含 @ 和 . 符号，且 @ 要在 . 前面&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">		</span><br><span class="line">		<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">		<span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">		<span class="type">String</span> <span class="variable">mail</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			userRegister(name,pwd,mail);</span><br><span class="line">			System.out.println(<span class="string">&quot;注册成功!&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(e.getMessage());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isDigital</span><span class="params">(String pwd)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; pwd.length();i++)</span><br><span class="line">			<span class="keyword">if</span>(!Character.isDigit(pwd.charAt(i)))</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 3</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/String%E6%B5%8B%E8%AF%95%E9%A2%98_2.png" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;XinWanna&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span> + s1;</span><br><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;helloXinWanna&quot;</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(s2.intern() == s3); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>StringBuffer</code>类</p>
<ul>
<li>
<p><code>java.lang.StringBuffer</code> 代表可变的字符序列，可以对字符串内容进行增删。</p>
</li>
<li>
<p><code>StringBuffer</code>是可变长度的，<code>StringBuffer</code>是一个容器。</p>
</li>
<li>
<p><code>StringBuffer</code>实现了<code>Serializable</code>，即<code>StringBuffer</code>的对象可以串行化。</p>
</li>
<li>
<p>在父类中，<code>AbstractStrngBuilder</code> 有属性 <code>char[] value</code> ，不是<code>final</code>。该 <code>value</code>数组存放 字符串内容，存放在堆中。</p>
</li>
<li>
<p><code>StringBuffer</code> 是一个 <code>final</code> 类，不能被继承。</p>
</li>
<li>
<p><code>StringBuffer</code>构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建一个大小为 16 的char[],用于存放字符内容</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 通过构造器指定char[]大小</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 通过给一个String创建StringBuffer,char[]的大小就是 String.length() + 16</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;hello&quot;</span>); <span class="comment">// 大小是21</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>StringBuffer</code>的常用方法</p>
<ul>
<li>
<p>追加 <code>append</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">		</span><br><span class="line">s.append(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">s.append(<span class="string">&quot;XinWanna&quot;</span>).append(<span class="string">&quot;,&quot;</span>).append(<span class="number">20</span>).append(<span class="string">&quot;,&quot;</span>).append(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello,XinWanna,20,true</span></span><br><span class="line">System.out.println(s);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>删除 <code>delete</code></p>
<p>区间为  <strong>[)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [11,14)</span></span><br><span class="line">s.delete(<span class="number">11</span>, <span class="number">14</span>);</span><br><span class="line">System.out.println(s); <span class="comment">// hello,XinWa,20,true</span></span><br><span class="line"></span><br><span class="line">s.delete(<span class="number">1</span>, <span class="number">3</span>).delete(<span class="number">4</span>, <span class="number">6</span>);</span><br><span class="line">System.out.println(s); <span class="comment">// hlo,nWa,20,true</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>替换 <code>replace</code></p>
<p>区间为  <strong>[)</strong>,若给定的区间不足以插入给定的字符串，则相当于在给定区间后面插入剩余部分。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s.replace(<span class="number">4</span>, <span class="number">5</span>, <span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">System.out.println(s); <span class="comment">// hlo,欣坚强Wa,20,true</span></span><br><span class="line"></span><br><span class="line">s.replace(<span class="number">5</span>,<span class="number">6</span>,<span class="string">&quot;Xin&quot;</span>).replace(<span class="number">6</span>,<span class="number">9</span>,<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">System.out.println(s); <span class="comment">// hlo,欣XXinWannaWa,20,true</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查找指定子串在字符串 <code>indexOf</code></p>
<p>第一次出现的索引，如果找不到就返回 -1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">indexOf</span> <span class="operator">=</span> s.indexOf(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">System.out.println(indexOf); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>插入 <code>insert</code></p>
<p>插入位置后的元素自动后移</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s.insert(<span class="number">6</span>,<span class="string">&quot;inWanna&quot;</span>);</span><br><span class="line">System.out.println(s); <span class="comment">// hlo,欣XinWannaXinWannaWa,20,true</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>长度 <code>length</code></p>
<p>输出的是，字符串的实际长度</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(s.length());</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">		</span><br><span class="line"><span class="comment">// 底层会将null拆成四个字符存起来</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">sb.append(str);</span><br><span class="line"></span><br><span class="line">System.out.println(sb); <span class="comment">// null</span></span><br><span class="line">System.out.println(sb.length()); <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 抛出异常</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 底层为 super(str.length() + 16)</span></span><br><span class="line"><span class="comment">// 由于调用了 length() 方法，因此会抛出异常</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb_</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(str);</span><br><span class="line">System.out.println(sb_);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>String</code>  vs <code>StringBuffer</code></p>
<ul>
<li><code>String</code> 保存的是字符串常量，值不能更改，每次<code>String</code>类的更新实际上是更改地址，效率较低。</li>
<li><code>StringBuffer</code> 保存的是字符串变量，值可以更改，每次<code>StringBuffer</code>的更改实际上可以更新内容，不用每次更新地址（只有当空间不够的时候，才会更新地址），效率较高。</li>
</ul>
</li>
<li>
<p><code>String</code>  和 <code>StringBuffer</code> 的相互转换</p>
<ul>
<li>
<p><code>String</code> 转  <code>StringBuffer</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 使用构造器</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(str);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 使用append方法</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">stringBuffer = stringBuffer.append(str);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>StringBuffer</code>  转 <code>String</code></p>
</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 使用StringBuffer提供的toString方法</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> stringBuffer.toString();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 使用构造器</span></span><br><span class="line">String s= <span class="keyword">new</span> <span class="title class_">String</span>(stringBuffer);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>StringBuilder</code>类</p>
<ul>
<li>一个可变的字符序列，此类提供一个与<code>StringBuffer</code>兼容的API（和使用<code>StringBuffer</code>一样），但不保证同步（<code>StringBuilder</code>不是线程安全），<strong>在字符串缓冲区被单个线程使用的时候</strong>。优先使用<code>StringBuilder</code>，因为在大多数情况中，比<code>StringBuffer</code>块。</li>
<li><code>StringBuilder</code>上的主要操作是<code>append</code>和<code>insert</code>方法，可重载这些方法，以接受任意类型的数据。</li>
<li><code>StringBuilder</code>继承 <code>AbstractStringBuilder</code> 类</li>
<li>实现了 <code>Serializable</code>,说明 <code>StringBuilder</code> 对象是可以串行化（对象可以网络传输，可以保存到文件）。</li>
<li><code>StringBuilder</code>是<code>final</code>类，不能继承。</li>
<li><code>StringBuilder</code>对象字符序列仍然是存放在其父类<code>AbstractStringBuilder</code>的 <code>char[] value</code>。因此，字符序列是在堆中。</li>
<li><code>StringBuilder</code>的方法，没有做互斥的处理，即没有 <code>synchronized</code> 关键字，因此在单线程的情况下，使用<code>StringBuilder</code>.</li>
</ul>
</li>
<li>
<p><code>String</code>  vs <code>StringBuffer</code> vs <code>StringBuilder</code></p>
<p>![](./Java学习/String  vs StringBuffer vs StringBuilder.jpg)</p>
<ul>
<li>
<p>效率：<code>StringBuilder</code> &gt; <code>StringBuffer</code> &gt; <code>String</code></p>
<p>![](./Java学习/String StringBuffer  StringBuilder的选择.png)</p>
</li>
</ul>
</li>
<li>
<p><code>Math</code>类</p>
<ul>
<li>
<p><code>Math</code>的方法的都是静态方法，可以直接使用类名调用。</p>
</li>
<li>
<p>常用方法</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Math%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.png" alt></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/random.png" alt></p>
<p>注意：Java中的double转int，会直接截去小数部分。</p>
<figure class="highlight plaintext"><figcaption><span>```int``` 和 ```float``` 或 ```double```的比较：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">System.out.println(Math.max(4, 8.9)); // 8.9</span><br><span class="line">System.out.println(Math.min(0, 0.5f)); // 0.0</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>Arrays</code>类</p>
<ul>
<li>
<p><code>Arrays</code>包含了一系列静态方法</p>
</li>
<li>
<p>常用方法</p>
<ul>
<li>
<p><code>toString</code>返回数组的字符串形式  <code>Arrays.toString(arr)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Integer[] integers = &#123;<span class="number">2004</span>,<span class="number">5</span>,<span class="number">24</span>&#125;;</span><br><span class="line">		</span><br><span class="line"><span class="comment">// [2004, 5, 24]</span></span><br><span class="line">System.out.println(Arrays.toString(integers));</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>sort</code>排序</p>
<ol>
<li>数组是引用类型，通过<code>sort</code>排序后，会直接影响到实参 <code>arr</code>。</li>
<li><code>sort</code>可以通过传入一个接口 <code>Comparator</code> 实现定制排序。</li>
<li>调用定制排序时，传入两个参数：①  排序数组 <code>arr</code>  ②  实现了 <code>Comparator</code> 接口的匿名内部类，要求实现比较方法。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">Integer[] integers = &#123;<span class="number">2004</span>,<span class="number">5</span>,<span class="number">24</span>&#125;;</span><br><span class="line">		</span><br><span class="line"><span class="comment">// [2004, 5, 24]</span></span><br><span class="line">System.out.println(<span class="string">&quot;排序前的数组为:&quot;</span>);</span><br><span class="line">System.out.println(Arrays.toString(integers));</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *  在 Java 的 Comparator 中，compare 方法返回值的意义如下：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    1. 如果返回一个正数 (&gt; 0)，则表示 o1 应该排在 o2 之后。</span></span><br><span class="line"><span class="comment">    2. 如果返回一个负数 (&lt; 0)，则表示 o1 应该排在 o2 之前。</span></span><br><span class="line"><span class="comment">    3. 如果返回 0，表示两个对象在排序中位置相同。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Arrays.sort(integers, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Object&gt;() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1,Object o2)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 向下转型</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> (Integer) o1;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span> (Integer) o2;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> i1 - i2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;排序后的数组为:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [5, 24, 2004]</span></span><br><span class="line">System.out.println(Arrays.toString(integers));</span><br><span class="line"></span><br><span class="line">Arrays.sort(integers, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Object&gt;() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1,Object o2)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> (Integer) o1;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span> (Integer) o2;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> i2 - i1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;排序后的数组为:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [2004, 24, 5]</span></span><br><span class="line">System.out.println(Arrays.toString(integers));</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Arrays_;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span></span><br><span class="line">&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="type">double</span> price;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String name,<span class="type">double</span> price)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.price = price;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArraysSort</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		Book[] books = <span class="keyword">new</span> <span class="title class_">Book</span>[<span class="number">4</span>];</span><br><span class="line">		</span><br><span class="line">		books[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;红楼梦&quot;</span>,<span class="number">100</span>);</span><br><span class="line">		books[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;金瓶梅&quot;</span>,<span class="number">99.5</span>);</span><br><span class="line">		books[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;青年文摘&quot;</span>,<span class="number">5</span>);</span><br><span class="line">		books[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;java从入门到放弃&quot;</span>,<span class="number">300</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按照价格从小到大</span></span><br><span class="line">		Arrays.sort(books,<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Object&gt;() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1,Object o2)</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">Book</span> <span class="variable">b1</span> <span class="operator">=</span> (Book)o1;</span><br><span class="line">				<span class="type">Book</span> <span class="variable">b2</span> <span class="operator">=</span> (Book)o2;</span><br><span class="line">				</span><br><span class="line">				<span class="comment">// 如果直接这样，会导致排序出错，因为当差值为0.5的时候，会自动截去小数部分</span></span><br><span class="line">				<span class="comment">// return (int)(b1.price - b2.price);</span></span><br><span class="line">				<span class="type">double</span> <span class="variable">priceVal</span> <span class="operator">=</span> b1.price - b2.price;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(priceVal &lt; <span class="number">0</span>)</span><br><span class="line">					<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(priceVal &gt; <span class="number">0</span>)</span><br><span class="line">					<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">					<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=======按照价格从小到大排序后的数组为:======&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Book book:books)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(book.name + <span class="string">&quot; : &quot;</span> + book.price);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按照价格从大到小</span></span><br><span class="line">		Arrays.sort(books,<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Object&gt;() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1,Object o2)</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">Book</span> <span class="variable">b1</span> <span class="operator">=</span> (Book)o1;</span><br><span class="line">				<span class="type">Book</span> <span class="variable">b2</span> <span class="operator">=</span> (Book)o2;</span><br><span class="line">				</span><br><span class="line">				<span class="comment">// return (int)(b2.price - b1.price);</span></span><br><span class="line">				<span class="type">double</span> <span class="variable">priceVal</span> <span class="operator">=</span> b2.price - b1.price;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(priceVal &lt; <span class="number">0</span>)</span><br><span class="line">					<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(priceVal &gt; <span class="number">0</span>)</span><br><span class="line">					<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">					<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=======按照价格从大到小排序后的数组为:======&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Book book:books)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(book.name + <span class="string">&quot; : &quot;</span> + book.price);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 按照书名长度从大到小</span></span><br><span class="line">		Arrays.sort(books,<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Object&gt;() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1,Object o2)</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">Book</span> <span class="variable">b1</span> <span class="operator">=</span> (Book)o1;</span><br><span class="line">				<span class="type">Book</span> <span class="variable">b2</span> <span class="operator">=</span> (Book)o2;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">return</span> (<span class="type">int</span>)(b2.name.length() - b1.name.length());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=======按照书名长度从大到小排序后的数组为:======&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Book book:books)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(book.name + <span class="string">&quot; : &quot;</span> + book.price);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>binarySearch</code>查找数组元素下标</p>
<ol>
<li>
<p>通过二分搜索法进行查找，要求必须排<strong>好序</strong>。</p>
</li>
<li>
<p>如果数组中不存在该元素，就返回 -(应该在的位置 + 1)。</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Integer[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">90</span>,<span class="number">123</span>,<span class="number">567</span>&#125;;</span><br><span class="line"><span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> Arrays.binarySearch(arr, <span class="number">123</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;index = &quot;</span> + index); <span class="comment">// 3</span></span><br><span class="line">System.out.println(<span class="string">&quot;Arrays.binarySearch(arr, 568) = &quot;</span> + Arrays.binarySearch(arr, <span class="number">568</span>)); <span class="comment">// -6</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>copyOf</code>数组元素复制</p>
<ol>
<li>拷贝区间 [)</li>
<li>如果拷贝的长度 &gt; <code>arr.length</code>,就在新数组的后面加<code>null</code></li>
<li>如果拷贝长度 &lt; 0,就抛出异常</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Integer[] newArr = Arrays.copyOf(arr, <span class="number">6</span>);</span><br><span class="line">		</span><br><span class="line">System.out.println(<span class="string">&quot;========拷贝执行完毕后========&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [1, 2, 90, 123, 567, null]</span></span><br><span class="line">System.out.println(Arrays.toString(newArr));</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>fill</code>数组元素的填充</p>
<p>使用给定的数字填充原有的数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Integer[] num = <span class="keyword">new</span> <span class="title class_">Integer</span>[] &#123;<span class="number">9</span>,<span class="number">3</span>,<span class="number">2</span>&#125;;</span><br><span class="line">Arrays.fill(num, <span class="number">99</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;======num数组填充后======&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [99, 99, 99]</span></span><br><span class="line">System.out.println(Arrays.toString(num));</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>equals</code>比较两个数组元素内容是否完全一致</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Integer[] arr2 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">90</span>,<span class="number">123</span>&#125;;</span><br><span class="line">		</span><br><span class="line"><span class="comment">// Integer[] arr = &#123;1,2,90,123,567&#125;;</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">equals</span> <span class="operator">=</span> Arrays.equals(arr, arr2); <span class="comment">// false</span></span><br><span class="line">System.out.println(<span class="string">&quot;equals = &quot;</span> + equals);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>asList</code>将一组值，转换成<code>list</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Integer[] arr2 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">90</span>,<span class="number">123</span>&#125;;</span><br><span class="line">		</span><br><span class="line"><span class="comment">// Integer[] arr = &#123;1,2,90,123,567&#125;;</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">equals</span> <span class="operator">=</span> Arrays.equals(arr, arr2); <span class="comment">// false</span></span><br><span class="line">System.out.println(<span class="string">&quot;equals = &quot;</span> + equals);</span><br><span class="line"></span><br><span class="line"><span class="type">List</span> <span class="variable">asList</span> <span class="operator">=</span> Arrays.asList(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;asList = &quot;</span> + asList); <span class="comment">// [2, 3, 4, 5, 6, 1]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>System</code>类</p>
<ul>
<li>
<p>常用方法</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/System%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.jpg" alt></p>
</li>
<li>
<p><code>arraycopy</code>方法：</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/arraycopy%E5%8F%82%E6%95%B0.png" alt></p>
</li>
<li>
<p><code>currentTimeMillens</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回当前时间距离 1970-1-1 的毫秒数</span></span><br><span class="line">System.out.println(System.currentTimeMillis());</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>BigInteger</code>和 <code>BigDecimal</code>类</p>
<ul>
<li>
<p>应用场景</p>
<ol>
<li><code>BigInteger</code>适合保存比较大的<strong>整型</strong></li>
<li><code>BigDecimal</code>适合保存精度更高的<strong>浮点型（小数）</strong></li>
</ol>
</li>
<li>
<p><code>BigInteger</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> BigInteger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BigInteger_</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">BigInteger</span> <span class="variable">bigInteger1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;20040525&quot;</span>);</span><br><span class="line">		<span class="type">BigInteger</span> <span class="variable">bigInteger2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// ＋</span></span><br><span class="line">		<span class="type">BigInteger</span> <span class="variable">add</span> <span class="operator">=</span> bigInteger1.add(bigInteger2);</span><br><span class="line">		System.out.println(add); <span class="comment">// 20040625</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// BigInteger + Integer ×</span></span><br><span class="line">		<span class="comment">// Integer integer = new Integer(50);</span></span><br><span class="line">		<span class="comment">// System.out.println(add.add(integer));</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// －</span></span><br><span class="line">		<span class="type">BigInteger</span> <span class="variable">subtract</span> <span class="operator">=</span> bigInteger1.subtract(bigInteger2);</span><br><span class="line">		System.out.println(subtract); <span class="comment">// 20040425</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// ×</span></span><br><span class="line">		<span class="type">BigInteger</span> <span class="variable">multiply</span> <span class="operator">=</span> bigInteger1.multiply(bigInteger2);</span><br><span class="line">		System.out.println(multiply); <span class="comment">// 2004052500</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// ÷</span></span><br><span class="line">		<span class="type">BigInteger</span> <span class="variable">divide</span> <span class="operator">=</span> bigInteger1.divide(bigInteger2);</span><br><span class="line">		System.out.println(divide); <span class="comment">// 200405</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>BigDecimal</code></p>
</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BigDecimal</span> <span class="variable">bigDecimal1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;200405.252&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">bigDecimal2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;3&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(bigDecimal1.add(bigDecimal2)); <span class="comment">// 200408.252</span></span><br><span class="line">System.out.println(bigDecimal1.subtract(bigDecimal2)); <span class="comment">// 200402.252</span></span><br><span class="line">System.out.println(bigDecimal1.multiply(bigDecimal2)); <span class="comment">// 601215.756</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当不能整除时，若不指定精度，会报错：</span></span><br><span class="line"><span class="comment">// Non-terminating decimal expansion; no exact representable decimal result.</span></span><br><span class="line"><span class="comment">// 使用 BigDecimal.ROUND_CEILING 后，将会保留 分子 的精度</span></span><br><span class="line">System.out.println(bigDecimal1.divide(bigDecimal2,BigDecimal.ROUND_CEILING)); <span class="comment">// 66801.751</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>日期类</p>
<ul>
<li>
<p><code>Date</code></p>
<p>包：<code>java.util.Date</code></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Date.jpg" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Date_</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 默认输出的日期格式是国外的方式</span></span><br><span class="line">		<span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">		System.out.println(<span class="string">&quot;当前日期 = &quot;</span> + date); <span class="comment">// 当前日期 = Mon Oct 28 10:32:14 CST 2024</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 对日期进行格式化</span></span><br><span class="line">		<span class="comment">// 格式化的字母是规定好的，不可修改</span></span><br><span class="line">		<span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;YYYY年MM月dd日 hh:mm:ss E&quot;</span>);</span><br><span class="line">		<span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> sdf.format(date);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 格式化后的日期为:2024年10月28日 10:32:14 星期一</span></span><br><span class="line">		System.out.println(<span class="string">&quot;格式化后的日期为:&quot;</span> + format);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 指定毫秒数得到时间</span></span><br><span class="line">		<span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">999999999</span>);</span><br><span class="line">		System.out.println(d); <span class="comment">// Mon Jan 12 21:46:39 CST 1970</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 把一个格式化的字符串转成对应的Date</span></span><br><span class="line">		<span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;1996年01月01日 10:20:30 星期一&quot;</span>;</span><br><span class="line">		<span class="type">Date</span> <span class="variable">parse</span> <span class="operator">=</span> sdf.parse(s); <span class="comment">// 必须抛出异常 throws ParseException</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// parse = Mon Jan 01 10:20:30 CST 1996</span></span><br><span class="line">		System.out.println(<span class="string">&quot;parse = &quot;</span> + parse);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// parse = 1996年01月01日 10:20:30 星期一</span></span><br><span class="line">		System.out.println(<span class="string">&quot;parse = &quot;</span> + sdf.format(parse));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Calendar</code></p>
<ol>
<li><code>Calendar</code>是一个抽象类，并且构造器是<code>private</code></li>
<li>可以通过<code>getInstance()</code>来获取实例</li>
<li>没有相应的格式化方法，需要手动实现。</li>
<li>返回月时，月是从0开始的。</li>
<li>如果需要按照24小时进制来获取时间，<code>Calendar.HOUR</code>  ==&gt; <code>Calendar.HOUR_OF_DAY</code></li>
</ol>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Calendar.jpg" alt></p>
<ol start="6">
<li>
<p>存在的问题</p>
<p>1）可变性：日期和时间应该是不可变的</p>
<p>2）偏移性：Date中的年份是从1900开始的，而月份是从0开始的。</p>
<p>3）格式化：格式化只对Date有用，Calendar则不行。</p>
<p>4）不是线程安全的，不能处理闰年。</p>
</li>
</ol>
</li>
<li>
<p><code>LocalDate(日期/年月日)、LocalTime(时间/时分秒)、LocalDateTime(日期时间/年月日时分秒)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalDateTime</span> <span class="variable">ldt</span> <span class="operator">=</span> LocalDateTime.now(); <span class="comment">// LocalDate.now(); // LocalTime.now();</span></span><br><span class="line">System.out.println(ldt);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;年 = &quot;</span> + ldt.getYear());</span><br><span class="line">System.out.println(<span class="string">&quot;月 = &quot;</span> + ldt.getMonth());</span><br><span class="line">System.out.println(<span class="string">&quot;月 = &quot;</span> + ldt.getMonthValue());</span><br><span class="line">System.out.println(<span class="string">&quot;日 = &quot;</span> + ldt.getDayOfMonth());</span><br><span class="line">System.out.println(<span class="string">&quot;日 = &quot;</span> + ldt.getDayOfYear());</span><br><span class="line">System.out.println(<span class="string">&quot;分 = &quot;</span> + ldt.getMinute());</span><br><span class="line">System.out.println(<span class="string">&quot;秒 = &quot;</span> + ldt.getSecond());</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2024</span>-<span class="number">10</span>-28T15:<span class="number">45</span>:<span class="number">58.418</span></span><br><span class="line">年 = <span class="number">2024</span></span><br><span class="line">月 = OCTOBER</span><br><span class="line">月 = <span class="number">10</span></span><br><span class="line">日 = <span class="number">28</span></span><br><span class="line">日 = <span class="number">302</span></span><br><span class="line">分 = <span class="number">45</span></span><br><span class="line">秒 = <span class="number">58</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>DateTimeFormatter</code>格式日期类</p>
<p>示例代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">dateTimeFormatter</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy年MM月dd日 HH小时mm分钟ss秒&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> dateTimeFormatter.format(ldt);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 格式化的日期 = 2024年10月28日 15小时53分钟22秒</span></span><br><span class="line">System.out.println(<span class="string">&quot;格式化的日期 = &quot;</span> + format);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Instant</code>时间戳</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Instant</span> <span class="variable">now</span> <span class="operator">=</span> Instant.now();</span><br><span class="line">System.out.println(now);</span><br><span class="line"></span><br><span class="line"><span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> Date.from(now);</span><br><span class="line"><span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> date.toInstant();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="41集合"><a class="markdownIt-Anchor" href="#41集合"></a> 41.集合</h2>
<ul>
<li>
<p>集合的种类</p>
<ul>
<li>单列集合（存放单个元素）</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%9B%86%E5%90%88%E5%88%86%E7%B1%BB-1.png" alt></p>
<ul>
<li>双列集合（存放一对元素）</li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%9B%86%E5%90%88%E5%88%86%E7%B1%BB-2.png" alt></p>
</li>
<li>
<p><code>Collection</code>接口实现类的特点</p>
<ul>
<li><code>Collection</code>实现的子类可以存放多个元素，每个元素可以是<code>Object</code>。</li>
<li><code>Collection</code>接口没有直接的实现子类，是通过它的子接口<code>Set</code>和<code>List</code>来实现的。</li>
</ul>
</li>
<li>
<p><code>Collection</code>常用方法</p>
<ul>
<li>
<p><code>add</code> 添加单个元素：会返回<code>boolean</code>值，添加成功返回<code>true</code>，否则返回<code>false</code>。</p>
</li>
<li>
<p><code>remove</code>删除指定元素</p>
</li>
<li>
<p><code>contains</code>查找元素是否存在</p>
</li>
<li>
<p><code>size</code>获取元素个数</p>
</li>
<li>
<p><code>isEmpty</code>判断是否为空</p>
</li>
<li>
<p><code>clear</code>清空</p>
</li>
<li>
<p><code>addAll</code>添加多个元素</p>
<p>只要是实现了<code>Collection</code>的对象，都可以直接传入。</p>
</li>
<li>
<p><code>containsAll</code>查找多个元素是否都存在。</p>
</li>
<li>
<p><code>removeAll</code>删除多个元素</p>
</li>
</ul>
</li>
<li>
<p><code>Collection</code>遍历</p>
<ul>
<li>
<p>使用<code>Iterator</code></p>
<ol>
<li>得到一个集合的迭代器</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> coll.iterator();</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>
<p><code>hasNext()</code>：判断是否还有下一个元素</p>
<p>作用：① 下移 ② 将下移以后集合位置上的元素返回</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(iterator.hasNext())</span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>&#123;</span><br><span class="line">	</span><br><span class="line">	String name;</span><br><span class="line">	String author;</span><br><span class="line">	<span class="type">double</span> price;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String name,String author,<span class="type">double</span> price)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.author = author;</span><br><span class="line">		<span class="built_in">this</span>.price = price;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;书名 : &quot;</span> + name + <span class="string">&quot;, 作者名字 : &quot;</span> + author + <span class="string">&quot;, 价格 : &quot;</span> + price;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">iterator</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Collection</span> <span class="variable">col</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		col.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;三国演义&quot;</span>,<span class="string">&quot;罗贯中&quot;</span>,<span class="number">10.1</span>));</span><br><span class="line">		col.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;小李飞刀&quot;</span>,<span class="string">&quot;古龙&quot;</span>,<span class="number">5.1</span>));</span><br><span class="line">		col.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;红楼梦&quot;</span>,<span class="string">&quot;曹雪芹&quot;</span>,<span class="number">34.6</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 1. 得到col 对应的迭代器</span></span><br><span class="line">		<span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> col.iterator();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 2. 使用while循环遍历</span></span><br><span class="line">		<span class="keyword">while</span>(iterator.hasNext()) <span class="comment">// 判断是否还有数据</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// 获得下一个元素，编译类型是Object，运行类型是获取的数据</span></span><br><span class="line">			<span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">			System.out.println(<span class="string">&quot;obj = &quot;</span> + obj);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 3. 当遍历完成后，这时 iterator 指向最后的元素，再使用 iterator.next() 将会报错为 NoSuchElementException</span></span><br><span class="line">		<span class="comment">// 4. 如果再次遍历，需要重置迭代器</span></span><br><span class="line">		iterator = col.iterator();</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		<span class="keyword">while</span>(iterator.hasNext()) </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">			System.out.println(<span class="string">&quot;obj = &quot;</span> + obj);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">obj = 书名 : 三国演义, 作者名字 : 罗贯中, 价格 : <span class="number">10.1</span></span><br><span class="line">obj = 书名 : 小李飞刀, 作者名字 : 古龙, 价格 : <span class="number">5.1</span></span><br><span class="line">obj = 书名 : 红楼梦, 作者名字 : 曹雪芹, 价格 : <span class="number">34.6</span></span><br><span class="line"></span><br><span class="line">obj = 书名 : 三国演义, 作者名字 : 罗贯中, 价格 : <span class="number">10.1</span></span><br><span class="line">obj = 书名 : 小李飞刀, 作者名字 : 古龙, 价格 : <span class="number">5.1</span></span><br><span class="line">obj = 书名 : 红楼梦, 作者名字 : 曹雪芹, 价格 : <span class="number">34.6</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>增强 <code>for</code> 循环</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 增强for循环，底层也是迭代器</span></span><br><span class="line"><span class="comment">// 必须是 Object，因为 col 返回的就是Object类型</span></span><br><span class="line"><span class="keyword">for</span>(Object book:col)</span><br><span class="line">    System.out.println(<span class="string">&quot;book = &quot;</span> + book);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">book = 书名 : 三国演义, 作者名字 : 罗贯中, 价格 : <span class="number">10.1</span></span><br><span class="line">book = 书名 : 小李飞刀, 作者名字 : 古龙, 价格 : <span class="number">5.1</span></span><br><span class="line">book = 书名 : 红楼梦, 作者名字 : 曹雪芹, 价格 : <span class="number">34.6</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>List</code>接口介绍</p>
<ul>
<li>
<p><code>List</code>集合类中的每个元素有序（即添加顺序和取出顺序一致），且可重复。</p>
</li>
<li>
<p><code>List</code>集合中的每个元素都有其对应的顺序索引，即支持索引。</p>
</li>
<li>
<p><code>List</code>容器中的元素都对应一个整数型的序号记载其在容器中的位置，可以根据序号存取容器中的元素。</p>
</li>
<li>
<p><code>List</code>方法</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/List%E6%96%B9%E6%B3%95.png" alt></p>
<ol>
<li><code>set</code>方法要求索引一定是要存在的，即不能在当前已有的索引基础外（也不可以试图从列表末尾添加元素）。</li>
<li><code>subList</code>子集合的区间为 <strong>[)</strong>。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// List 不是在 java.awt.List 这里面</span></span><br><span class="line"><span class="comment">// List 在 java.util.List 包中</span></span><br><span class="line"><span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">list.add(<span class="string">&quot;李佳奇直播间&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;香菇来了直播间&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不加下标，默认在列表最后添加</span></span><br><span class="line">list.add(<span class="number">1</span>,<span class="string">&quot;所有女生的衣橱&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;list = &quot;</span> + list);</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; l = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">l.addAll(list);</span><br><span class="line">System.out.println(<span class="string">&quot;l = &quot;</span> + l);</span><br><span class="line"></span><br><span class="line">list.add(<span class="string">&quot;李佳奇直播间&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;list = &quot;</span> + list);</span><br><span class="line"></span><br><span class="line">System.out.println(list.indexOf(<span class="string">&quot;李佳奇直播间&quot;</span>));</span><br><span class="line">System.out.println(list.lastIndexOf(<span class="string">&quot;李佳奇直播间&quot;</span>));</span><br><span class="line"></span><br><span class="line">list.remove(<span class="number">0</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;list = &quot;</span> + list);</span><br><span class="line"></span><br><span class="line">list.set(<span class="number">1</span>, <span class="string">&quot;斯凯奇直播间&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;list = &quot;</span> + list);</span><br><span class="line"></span><br><span class="line"><span class="type">List</span> <span class="variable">returnList</span> <span class="operator">=</span> list.subList(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;returnList = &quot;</span> + returnList);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">list = [李佳奇直播间, 所有女生的衣橱, 香菇来了直播间]</span><br><span class="line">l = [李佳奇直播间, 所有女生的衣橱, 香菇来了直播间]</span><br><span class="line">list = [李佳奇直播间, 所有女生的衣橱, 香菇来了直播间, 李佳奇直播间]</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line">list = [所有女生的衣橱, 香菇来了直播间, 李佳奇直播间]</span><br><span class="line">list = [所有女生的衣橱, 斯凯奇直播间, 李佳奇直播间]</span><br><span class="line">returnList = [所有女生的衣橱, 斯凯奇直播间]</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>List</code>的三种遍历方法</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/List%E7%9A%84%E4%B8%89%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95.jpg" alt></p>
</li>
<li>
<p>排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>&#123;</span><br><span class="line">	</span><br><span class="line">	String name;</span><br><span class="line">	String author;</span><br><span class="line">	<span class="type">double</span> price;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String name,String author,<span class="type">double</span> price)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.author = author;</span><br><span class="line">		<span class="built_in">this</span>.price = price;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;书名 : &quot;</span> + name + <span class="string">&quot;, 作者 : &quot;</span> + author + <span class="string">&quot;, 价格 : &quot;</span> + price;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">list_</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(List list)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">listSize</span> <span class="operator">=</span> list.size();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; listSize;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> listSize - <span class="number">1</span>;j &gt; i;j--)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">// 必须进行向下转型，因为get方法返回的是Object类型</span></span><br><span class="line">				<span class="type">Book</span> <span class="variable">now</span> <span class="operator">=</span> (Book)list.get(j);</span><br><span class="line">				<span class="type">Book</span> <span class="variable">pre</span> <span class="operator">=</span> (Book)list.get(j - <span class="number">1</span>);</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(now.price &lt; pre.price)</span><br><span class="line">				&#123;</span><br><span class="line">					list.set(j, pre);</span><br><span class="line">					list.set(j - <span class="number">1</span>,now);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;三国演义&quot;</span>,<span class="string">&quot;罗贯中&quot;</span>,<span class="number">10.1</span>));</span><br><span class="line">		list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;小李飞刀&quot;</span>,<span class="string">&quot;古龙&quot;</span>,<span class="number">30.9</span>));</span><br><span class="line">		list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;红楼梦&quot;</span>,<span class="string">&quot;曹雪芹&quot;</span>,<span class="number">1.1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(Object book : list)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println((Book)book);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		sort(list);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(Object book : list)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println((Book)book);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// Arrays.sort() 不支持对 List 类型进行排序，只能对数组进行排序</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		Arrays.sort(list,new Comparator&lt;Object&gt;() &#123;</span></span><br><span class="line"><span class="comment">			</span></span><br><span class="line"><span class="comment">			public int compare(Object o1,Object o2)</span></span><br><span class="line"><span class="comment">			&#123;</span></span><br><span class="line"><span class="comment">				Book b1 = (Book)o1;</span></span><br><span class="line"><span class="comment">				Book b2 = (Book)o2;</span></span><br><span class="line"><span class="comment">				</span></span><br><span class="line"><span class="comment">				double val = b1.price - b2.price;</span></span><br><span class="line"><span class="comment">				</span></span><br><span class="line"><span class="comment">				if(v)al &lt; 0)</span></span><br><span class="line"><span class="comment">					return -1;</span></span><br><span class="line"><span class="comment">				else if(val &gt; 0)</span></span><br><span class="line"><span class="comment">					return 1;</span></span><br><span class="line"><span class="comment">				else</span></span><br><span class="line"><span class="comment">					return 0;</span></span><br><span class="line"><span class="comment">			&#125;</span></span><br><span class="line"><span class="comment">		&#125;); */</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">书名 : 三国演义, 作者名字 : 罗贯中, 价格 : <span class="number">10.1</span></span><br><span class="line">书名 : 小李飞刀, 作者名字 : 古龙, 价格 : <span class="number">30.9</span></span><br><span class="line">书名 : 红楼梦, 作者名字 : 曹雪芹, 价格 : <span class="number">1.1</span></span><br><span class="line">书名 : 红楼梦, 作者名字 : 曹雪芹, 价格 : <span class="number">1.1</span></span><br><span class="line">书名 : 三国演义, 作者名字 : 罗贯中, 价格 : <span class="number">10.1</span></span><br><span class="line">书名 : 小李飞刀, 作者名字 : 古龙, 价格 : <span class="number">30.9</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>ArrayList</code></p>
<ul>
<li><code>ArrayList</code>可以存放多个<code>null</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayListDetail</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">ArrayList</span> <span class="variable">arrayList1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		arrayList1.add(<span class="literal">null</span>);</span><br><span class="line">		arrayList1.add(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">		arrayList1.add(<span class="literal">null</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">ArrayList</span> <span class="variable">arrayList2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		arrayList2.add(<span class="literal">null</span>);</span><br><span class="line">		arrayList2.add(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">		arrayList2.add(<span class="literal">null</span>);</span><br><span class="line">		</span><br><span class="line">		arrayList1.add(arrayList2);</span><br><span class="line">		</span><br><span class="line">		System.out.println(arrayList1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">null</span>, jack, <span class="literal">null</span>, [<span class="literal">null</span>, jack, <span class="literal">null</span>]]</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>ArrayList</code>是由数组来实现数据存储的</p>
</li>
<li>
<p><code>ArrayList</code>基本等同于<code>Vector</code>，除了<code>ArrayList</code>是线程不安全（执行效率高）。在多线程情况下，不建议使用<code>ArrayList</code>。</p>
</li>
<li>
<p><code>ArrayList</code>底层操作机制源码分析</p>
<ol>
<li><code>ArrayList</code>中维护了一个<code>Object</code>类型的数组<code>elementData</code></li>
<li>当创建<code>ArrayList</code>对象时，如果使用的是无参构造器，则初始<code>elementData</code>容量为0。第一次添加，则扩容<code>elementData</code>为10。如需要再次扩容，则扩容<code>elementData</code>为1.5倍。(当空间够用的时候，不会扩容)</li>
<li>如果使用的是指定大小的构造器，则初始<code>elementData</code>容量为指定大小。如果需要扩容，则直接扩容<code>elementData</code>为1.5倍。</li>
<li>扩容使用到的是<code>Arrays.copyOf()</code></li>
</ol>
</li>
<li>
<p><code>Vector</code></p>
<ul>
<li>
<p><code>Vector</code>底层也是一个对象数组</p>
</li>
<li>
<p><code>Vector</code>是线程同步的，即线程安全。</p>
</li>
<li>
<p><code>Vector</code>和<code>ArrayList</code>底层机制对比</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Vector%E5%92%8CArrayList%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E5%AF%B9%E6%AF%94.png" alt></p>
</li>
</ul>
</li>
<li>
<p><code>LinkedList</code></p>
<ul>
<li><code>LinkedList</code>底层实现了双向链表和双端队列</li>
<li><code>LinkedList</code>可以添加任意元素（元素可以重复），包括<code>null</code>。</li>
<li>线程不安全，没有实现同步。</li>
<li><code>LinkedList</code>底层维护了一个双向链表。</li>
<li><code>remove</code>方法，默认删除链表的第一个元素。</li>
</ul>
</li>
<li>
<p><code>Set</code>接口</p>
<ul>
<li>
<p>无序（添加和取出的顺序不一致），没有索引。虽然取出的顺序不是添加的顺序，但是取出的顺序是固定的。</p>
</li>
<li>
<p>不允许重复元素，所以最多包含一个<code>null</code>。</p>
</li>
<li>
<p><code>Set</code>的常用方法和<code>Collection</code>接口一样</p>
</li>
<li>
<p><code>Set</code>接口的遍历方法</p>
<ol>
<li>可以使用迭代器</li>
<li>增强<code>for</code></li>
<li>不能使用索引的方式来获取</li>
</ol>
</li>
<li>
<p><code>Set</code>接口实现类 —— <code>HashSet</code></p>
<ul>
<li>
<p><code>HashSet</code>实现了<code>Set</code>接口</p>
</li>
<li>
<p><code>HashSet</code>实际上是<code>HashMap</code>, <code>HashMap</code>底层是（数组 + 链表 + 红黑树）。<strong>链地址法</strong></p>
</li>
<li>
<p>不能有重复元素/对象，可以存放<code>null</code>值，但是只能有一个<code>null</code>。</p>
</li>
<li>
<p><code>HashSet</code>不保证元素是有序的，取决于<code>Hash</code>后，再确定索引的结果。（不保证存放元素的顺序和取出顺序一致）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSet_</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">		</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hsp&quot;</span>)); <span class="comment">// false</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// set : [hsp]</span></span><br><span class="line">		System.out.println(<span class="string">&quot;set : &quot;</span> + set);</span><br><span class="line">	</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;XinWanna&quot;</span>));</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;XinWanna&quot;</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// set : [hsp, XinWanna, XinWanna]</span></span><br><span class="line">		System.out.println(<span class="string">&quot;set : &quot;</span> + set);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>添加元素的底层原理</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/HashSet%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86.jpg" alt></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/HashSet%E5%BA%95%E5%B1%82%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6.jpg" alt></p>
<ol>
<li>
<p>当链表中的元素 &gt;= 8 且 数组 table &gt;= 64，就转化为红黑树。</p>
</li>
<li>
<p>什么时候会判定为重复</p>
<p>① 准备加入的 key 和 p 当前指向的 Node 节点的 key 是同一个对象</p>
<p>②  准备加入的 key 和 p 当前指向的 Node 节点的 key 内容一致</p>
</li>
<li>
<p>临界值的判断是，算上 table 中的 Node，和链表中的 Node。</p>
</li>
</ol>
</li>
<li>
<p>练习 - 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;name : &quot;</span> + name + <span class="string">&quot;, age : &quot;</span> + age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span> == obj)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(obj == <span class="literal">null</span> || getClass() != obj.getClass())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> (Employee)obj;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> age == employee.age &amp;&amp; </span><br><span class="line">				Objects.equals(name, employee.name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> Objects.hash(name,age);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSetTest</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">HashSet</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">		</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>));</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;计科小垃圾&quot;</span>,<span class="number">21</span>));</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;set = &quot;</span> + set);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>类中不重写 <code>equals</code> 和 <code>hashCode</code> 方法的输出：（因为两次 new 的是不同的对象）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set = [name : 计科小垃圾, age : <span class="number">21</span>, name : XinWanna, age : <span class="number">20</span>, name : 欣坚强, age : <span class="number">18</span>, name : 欣坚强, age : <span class="number">18</span>]</span><br></pre></td></tr></table></figure>
<p>重写后的输出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set = [name : XinWanna, age : <span class="number">20</span>, name : 欣坚强, age : <span class="number">18</span>, name : 计科小垃圾, age : <span class="number">21</span>]</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDate</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String year;</span><br><span class="line">	<span class="keyword">private</span> String month;</span><br><span class="line">	<span class="keyword">private</span> String day;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MyDate</span><span class="params">(String year,String month,String day)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.year = year;</span><br><span class="line">		<span class="built_in">this</span>.month = month;</span><br><span class="line">		<span class="built_in">this</span>.day = day;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getYear</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> year;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getMonth</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> month;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getDay</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> day;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee_</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> sal;</span><br><span class="line">	<span class="keyword">private</span> MyDate birthday;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Employee_</span><span class="params">(String name,<span class="type">double</span> sal,String year,String month,String day)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.sal = sal;</span><br><span class="line">		</span><br><span class="line">		birthday = <span class="keyword">new</span> <span class="title class_">MyDate</span>(year,month,day);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;name : &quot;</span> + name + <span class="string">&quot;, sal : &quot;</span> + sal + <span class="string">&quot;, birthday : &quot;</span> + birthday.getYear() + <span class="string">&quot; - &quot;</span> + birthday.getMonth() + <span class="string">&quot; - &quot;</span> + birthday.getDay();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span> == obj)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(obj == <span class="literal">null</span> || getClass() != obj.getClass())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Employee_</span> <span class="variable">employee</span> <span class="operator">=</span> (Employee_)obj;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.birthday.getYear() == employee.birthday.getYear() &amp;&amp; </span><br><span class="line">			   <span class="built_in">this</span>.birthday.getMonth() == employee.birthday.getMonth() &amp;&amp; </span><br><span class="line">			   <span class="built_in">this</span>.birthday.getDay() == employee.birthday.getDay() &amp;&amp;</span><br><span class="line">			   Objects.equals(name, employee.name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> Objects.hash(name,birthday.getYear(),birthday.getMonth(),birthday.getDay());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSetTest_2</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">HashSet</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">		</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Employee_</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">2000.0</span>,<span class="string">&quot;2004&quot;</span>,<span class="string">&quot;05&quot;</span>,<span class="string">&quot;24&quot;</span>));</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Employee_</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">2000.0</span>,<span class="string">&quot;2004&quot;</span>,<span class="string">&quot;05&quot;</span>,<span class="string">&quot;24&quot;</span>));</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Employee_</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">2000.0</span>,<span class="string">&quot;2004&quot;</span>,<span class="string">&quot;05&quot;</span>,<span class="string">&quot;25&quot;</span>));</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Employee_</span>(<span class="string">&quot;Xin&quot;</span>,<span class="number">2000.0</span>,<span class="string">&quot;2004&quot;</span>,<span class="string">&quot;05&quot;</span>,<span class="string">&quot;24&quot;</span>));</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;set = &quot;</span> + set);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set = [name : Xin, sal : <span class="number">2000.0</span>, birthday : <span class="number">2004</span> - <span class="number">05</span> - <span class="number">24</span>, name : XinWanna, sal : <span class="number">2000.0</span>, birthday : <span class="number">2004</span> - <span class="number">05</span> - <span class="number">24</span>, name : XinWanna, sal : <span class="number">2000.0</span>, birthday : <span class="number">2004</span> - <span class="number">05</span> - <span class="number">25</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>Set</code>接口实现类 —— <code>TreeSet</code></p>
<ol>
<li>如果在创建对象的时候，不传入参数，则<code>TreeSet</code> 按照自然排序。</li>
<li>创建了排序方法后，按照自定义的方法排序。</li>
</ol>
</li>
<li></li>
<li>
<p><code>LinkedHashSet</code></p>
<ul>
<li>
<p><code>LinkedHashSet</code> 是 <code>HashSet</code>的子类</p>
</li>
<li>
<p><code>LinkedHashSet</code>的底层是<code>LinkedHashMap</code>，底层维护了 数组 ＋ 双向链表。</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/LinkedHashSet%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" alt></p>
</li>
<li>
<p><code>LinkedHashSet</code>根据元素的 <code>hashCode</code>值来决定元素的存储位置，同时使用链表维护元素的次序，使得元素看起来是以插入顺序保存的。</p>
</li>
<li>
<p><code>LinkedHashSet</code>不允许添加重复元素。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedHashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String name,<span class="type">double</span> price)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.price = price;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> price;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;车的名字是 : &quot;</span> + name + <span class="string">&quot;, 车的价格是 : &quot;</span> + price;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">this</span> == obj)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(obj == <span class="literal">null</span> || getClass() != obj.getClass())</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> (Car)obj;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> name == car.getName() &amp;&amp; price == car.getPrice();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> Objects.hash(name,price);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedHashSetTest1</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="type">LinkedHashSet</span> <span class="variable">linkedHashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>();</span><br><span class="line">		</span><br><span class="line">		linkedHashSet.add(<span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;奥迪&quot;</span>,<span class="number">3000000</span>));</span><br><span class="line">		linkedHashSet.add(<span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;法拉利&quot;</span>,<span class="number">1000000000</span>));</span><br><span class="line">		linkedHashSet.add(<span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;奥迪&quot;</span>,<span class="number">3000000</span>));</span><br><span class="line">		linkedHashSet.add(<span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;奥迪&quot;</span>,<span class="number">3000000.9</span>));</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;linkedHashSet = &quot;</span> + linkedHashSet);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">linkedHashSet = [车的名字是 : 奥迪, 车的价格是 : <span class="number">3000000.0</span>, 车的名字是 : 法拉利, 车的价格是 : <span class="number">1.0E9</span>, 车的名字是 : 奥迪, 车的价格是 : <span class="number">3000000.9</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>Map</code>接口</p>
<ul>
<li>
<p><code>Map</code>用于保存具有映射关系的数据：<code>key-value</code></p>
</li>
<li>
<p><code>Map</code>接口的常用实现类：<code>HashMap、Hashtable、Properties</code></p>
</li>
<li>
<p><code>Map</code>接口实现类 —— <code>HashMap</code></p>
<ul>
<li><code>HashMap</code>中的<code>key</code>和<code>value</code>可以是任何引用类型的数据，会封装到<code>HashMap$Node</code>对象中。</li>
<li><code>HashMap</code>中的<code>key</code>不允许重复，<code>value</code>可以重复。</li>
<li><code>HashMap</code>中的<code>key</code>可以为<code>null</code>，<code>value</code>也可以为<code>null</code>。<code>key</code>为<code>null</code>，只能有一个，<code>value</code>为<code>null</code>，可以为多个。</li>
<li><code>key</code>和<code>value</code>之间存在单向一对一关系，即通过指定的<code>key</code>总能找到对应的<code>value</code>。</li>
<li>不保证映射的顺序，因为底层是以<code>hash</code>表的方式来存储的（<code>hashMap</code>底层 数组 + 链表 + 红黑树）</li>
<li><code>key</code>放在<code>Set</code>集合中，<code>value</code>放在 <code>Collection</code>中。只是保存的引用，并不是另外存储数据。</li>
<li><code>k-v</code> 为方便程序员的遍历，还会创建 <code>EntrySet</code>集合，该集合存放的元素的类型 <code>Entry</code>，而一个<code>Entry</code>对象就有 <code>k，v EntrySet&lt;Entry&lt;K,V&gt;&gt;</code> 即：<code>transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;</code>。</li>
<li><code>entrySet</code>中，定义的类型是 <code>Map.Entry</code>，但是实际上存放的还是 <code>HashMap$Node （HashMap$Node implements Map.Entry static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt;）</code></li>
</ul>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Map%E5%AD%98%E5%82%A8%E7%89%B9%E7%82%B9.jpg" alt></p>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapSource</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 1. 键不能重复</span></span><br><span class="line">		<span class="comment">// 2. 当重复插入一个键的时候，值会更新</span></span><br><span class="line">		map.put(<span class="string">&quot;No1&quot;</span>,<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		map.put(<span class="string">&quot;No2&quot;</span>,<span class="string">&quot;Xin&quot;</span>);</span><br><span class="line">		map.put(<span class="string">&quot;No3&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">		map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">		map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">		map.put(<span class="literal">null</span>, <span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// map = &#123;No2=Xin, null=欣坚强, No1=XinWanna, No3=null&#125;</span></span><br><span class="line">		System.out.println(<span class="string">&quot;map = &quot;</span> + map);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获取 key - value</span></span><br><span class="line">		<span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">		System.out.println(<span class="string">&quot;entrySet = &quot;</span> + set.getClass()); <span class="comment">// class java.util.HashMap$EntrySet</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(Object obj : set)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// 从 HashMap$Node 取出 key - value</span></span><br><span class="line">			<span class="comment">// 向下转型</span></span><br><span class="line">			Map.<span class="type">Entry</span> <span class="variable">entry</span> <span class="operator">=</span> (Map.Entry)obj;</span><br><span class="line">			System.out.println(entry.getKey() + <span class="string">&quot; - &quot;</span> + entry.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获得 key</span></span><br><span class="line">		<span class="type">Set</span> <span class="variable">setKey</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">		System.out.println(<span class="string">&quot;keySet = &quot;</span> + setKey.getClass()); <span class="comment">// class java.util.HashMap$KeySet</span></span><br><span class="line">		System.out.println(<span class="string">&quot;setKey = &quot;</span> + setKey); <span class="comment">// [No2, null, No1, No3]</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获得 values</span></span><br><span class="line">		<span class="type">Collection</span> <span class="variable">value</span> <span class="operator">=</span> map.values();</span><br><span class="line">		System.out.println(<span class="string">&quot;values = &quot;</span> + value.getClass()); <span class="comment">// class java.util.HashMap$Values</span></span><br><span class="line">		System.out.println(<span class="string">&quot;value = &quot;</span> + value); <span class="comment">// [Xin, 欣坚强, XinWanna, null]</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">map = &#123;No2=Xin, <span class="literal">null</span>=欣坚强, No1=XinWanna, No3=<span class="literal">null</span>&#125;</span><br><span class="line">entrySet = <span class="keyword">class</span> <span class="title class_">java</span>.util.HashMap$EntrySet</span><br><span class="line">No2 - Xin</span><br><span class="line"><span class="literal">null</span> - 欣坚强</span><br><span class="line">No1 - XinWanna</span><br><span class="line">No3 - <span class="type">null</span></span><br><span class="line"><span class="variable">keySet</span> <span class="operator">=</span> <span class="keyword">class</span> <span class="title class_">java</span>.util.<span class="type">HashMap$KeySet</span></span><br><span class="line"><span class="variable">setKey</span> <span class="operator">=</span> [No2, <span class="literal">null</span>, No1, No3]</span><br><span class="line">values = <span class="keyword">class</span> <span class="title class_">java</span>.util.<span class="type">HashMap$Values</span></span><br><span class="line"><span class="variable">value</span> <span class="operator">=</span> [Xin, 欣坚强, XinWanna, <span class="literal">null</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>常用方法
<ol>
<li>添加元素 <code>map.put(key,value)</code></li>
<li>获取 <code>value</code> <code>map.get(key)</code>,返回一个 <code>Object</code></li>
<li>根据键删除映射关系 <code>remove</code></li>
<li>获取元素个数 <code>size</code></li>
<li>判断个数是否为0 <code>isEmpty</code></li>
<li>清楚 <code>clear</code></li>
<li>查找键是否存在 <code>containsKey</code></li>
</ol>
</li>
<li>遍历方法<br>
1. <code>containsKey</code>：查找键是否存在<br>
1. <code>keySet</code>：获取所有的键<br>
1. <code>entrySet</code>：获取所有关系<code>k-v</code><br>
1. <code>values</code>：获取所有的值</li>
</ul>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapThrough</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 1. 键不能重复</span></span><br><span class="line">		<span class="comment">// 2. 当重复插入一个键的时候，值会更新</span></span><br><span class="line">		map.put(<span class="string">&quot;No1&quot;</span>,<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		map.put(<span class="string">&quot;No2&quot;</span>,<span class="string">&quot;Xin&quot;</span>);</span><br><span class="line">		map.put(<span class="string">&quot;No3&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">		map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">		map.put(<span class="literal">null</span>, <span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 第一组：取出所有的Key，通过Key取出对应的value</span></span><br><span class="line">		<span class="type">Set</span> <span class="variable">keySet</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// (1) 增强 for 循环</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------增强for循环------&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Object key : keySet)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(key + <span class="string">&quot; - &quot;</span> + map.get(key));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// (2) 迭代器</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------迭代器------&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> keySet.iterator();</span><br><span class="line">		<span class="keyword">while</span>(iterator.hasNext())</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">Object</span> <span class="variable">key</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">			System.out.println(key + <span class="string">&quot; - &quot;</span> + map.get(key));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 第二组：取出所有的 value</span></span><br><span class="line">		<span class="type">Collection</span> <span class="variable">values</span> <span class="operator">=</span> map.values();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// (1) 增强for循环</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------增强for循环------&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Object value : values)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.print(value + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// (2) 迭代器</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------迭代器------&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Iterator</span> <span class="variable">iteratorV</span> <span class="operator">=</span> values.iterator();</span><br><span class="line">		<span class="keyword">while</span>(iteratorV.hasNext())</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> iteratorV.next();</span><br><span class="line">			System.out.print(value + <span class="string">&quot; &quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 第三组：通过 EntrySet 来获取 k-v</span></span><br><span class="line">		<span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// (1) 增强for</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------增强for循环------&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(Object entry : entrySet)</span><br><span class="line">		&#123;</span><br><span class="line">			Map.<span class="type">Entry</span> <span class="variable">m</span> <span class="operator">=</span> (Map.Entry) entry;</span><br><span class="line">			System.out.println(m.getKey() + <span class="string">&quot; - &quot;</span> + m.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// (2) 迭代器</span></span><br><span class="line">		System.out.println(<span class="string">&quot;------迭代器------&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Iterator</span> <span class="variable">iteratorE</span> <span class="operator">=</span> entrySet.iterator();</span><br><span class="line">		<span class="keyword">while</span>(iteratorE.hasNext())</span><br><span class="line">		&#123;</span><br><span class="line">			Map.<span class="type">Entry</span> <span class="variable">value</span> <span class="operator">=</span> (Map.Entry)iteratorE.next();</span><br><span class="line">			System.out.println(value.getKey() + <span class="string">&quot; - &quot;</span> + value.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">------增强<span class="keyword">for</span>循环------</span><br><span class="line">No2 - Xin</span><br><span class="line"><span class="literal">null</span> - 欣坚强</span><br><span class="line">No1 - XinWanna</span><br><span class="line">No3 - <span class="literal">null</span></span><br><span class="line">------迭代器------</span><br><span class="line">No2 - Xin</span><br><span class="line"><span class="literal">null</span> - 欣坚强</span><br><span class="line">No1 - XinWanna</span><br><span class="line">No3 - <span class="literal">null</span></span><br><span class="line">------增强<span class="keyword">for</span>循环------</span><br><span class="line">Xin 欣坚强 XinWanna <span class="literal">null</span> </span><br><span class="line">------迭代器------</span><br><span class="line">Xin 欣坚强 XinWanna <span class="literal">null</span> </span><br><span class="line">------增强<span class="keyword">for</span>循环------</span><br><span class="line">No2 - Xin</span><br><span class="line"><span class="literal">null</span> - 欣坚强</span><br><span class="line">No1 - XinWanna</span><br><span class="line">No3 - <span class="literal">null</span></span><br><span class="line">------迭代器------</span><br><span class="line">No2 - Xin</span><br><span class="line"><span class="literal">null</span> - 欣坚强</span><br><span class="line">No1 - XinWanna</span><br><span class="line">No3 - <span class="literal">null</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>HashMap</code>扩容机制</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/HashSet%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86.jpg" alt></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/HashMap%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6-1.jpg" alt></p>
<p>假设有12个相同<code>HashCode</code>的元素加入到<code>HashMap</code>中，扩容机制为：</p>
<ol>
<li>前8个元素依次加入到同一个位置后的链表中，此时不触发扩容，此时<code>Table</code>表的长度还是16。</li>
<li>第9个元素一旦加入到链表中，由于链表长度已经达到8个，此时触发扩容，<code>Table</code>表的长度扩容到32。</li>
<li>第10个元素加入到链表中，<code>Table</code>表再次扩容到64。</li>
<li>第11个元素加入到链表中，<code>Table</code>表的不再扩容，此时将会转化为红黑树。</li>
</ol>
</li>
</ul>
</li>
<li>
<p><code>Map</code>接口实现类 —— <code>Hashtable</code></p>
<ul>
<li><code>Hashtable</code>的键和值都不能为 <code>null</code>,否则会抛出 <code>NullPointerException</code>。</li>
<li><code>Hashtable</code>使用方法基本上和<code>HashMap</code>一样</li>
<li><code>Hashtable</code>是线程安全的，<code>HashMap</code>是线程不安全的。</li>
<li><code>Hashtable</code>底层扩容机制
<ol>
<li>底层有数组 <code>Hashtable$Entry[]</code> 初始化大小为 11。</li>
<li>临界值 <code>threshold 8 = 11 * 0.75</code></li>
<li>扩容：按照自己的扩容机制（<code>oldCapacity &lt;&lt; 1 + 1</code>）来进行即可</li>
</ol>
</li>
</ul>
</li>
<li>
<p><code>Map</code>接口实现类 —— <code>Properties</code></p>
<ul>
<li>
<p><code>Properties</code>类继承自 <code>Hashtable</code> 类并且实现了 <code>Map</code>接口，特点与 <code>Hashtable</code>类似。</p>
</li>
<li>
<p><code>Properties</code>还可以用于从 <code>xxx.properties</code> 文件中，加载数据到 <code>Properties</code> 类对象，并进行读取和修改。</p>
</li>
<li>
<p><code>xxx.properties</code> 文件通常作为配置文件</p>
</li>
<li>
<p>示例代码</p>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Properties_</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 添加</span></span><br><span class="line"><span class="comment">//		properties.put(null, &quot;abc&quot;); // java.lang.NullPointerException</span></span><br><span class="line"><span class="comment">//		properties.put(&quot;abc&quot;,null); // java.lang.NullPointerException</span></span><br><span class="line">		properties.put(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>);</span><br><span class="line">		properties.put(<span class="string">&quot;XinWanna&quot;</span>, <span class="number">18</span>); <span class="comment">// 修改</span></span><br><span class="line">		properties.put(<span class="string">&quot;欣坚强&quot;</span>, <span class="number">21</span>);</span><br><span class="line">		properties.put(<span class="string">&quot;XiXiXin&quot;</span>, <span class="number">22</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// properties = &#123;欣坚强=21, XinWanna=18, XiXiXin=22&#125;</span></span><br><span class="line">		System.out.println(<span class="string">&quot;properties = &quot;</span> + properties);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 删除</span></span><br><span class="line">		properties.remove(<span class="string">&quot;XiXiXin&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// properties = &#123;欣坚强=21, XinWanna=18&#125;</span></span><br><span class="line">		System.out.println(<span class="string">&quot;properties = &quot;</span> + properties);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>Map</code>接口实现类 —— <code>TreeMap</code></p>
<ul>
<li>
<p>自定义排序顺序（会影响到判断key的重复性）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeMap_</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 决定添加元素的时候看啥</span></span><br><span class="line">		<span class="comment">// 1. 当按照key的大小排序的时候，只要 key 不重复，就能添加进去</span></span><br><span class="line">		<span class="comment">// 2. 当按照key的长度排序的时候，若key的长度相同，则后面的key就无法添加进去</span></span><br><span class="line">		<span class="comment">//    而是用后面相同的key的value替换掉前面哪个key的value</span></span><br><span class="line">		<span class="type">TreeMap</span> <span class="variable">treeMap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeMap</span>(<span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1,Object o2)</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">// 按照传入的K的大小进行排序</span></span><br><span class="line">				<span class="comment">// treeMap = &#123;XinWanna=欣坚强, XinXinXin=计科小菜狗, karry Wang=王嵩嵩, zzzzzzzz=王&#125;</span></span><br><span class="line">				<span class="comment">// return ((String)o1).compareTo((String)o2);</span></span><br><span class="line">			</span><br><span class="line">				<span class="comment">// 按照K的长度进行排序</span></span><br><span class="line">				<span class="comment">// treeMap = &#123;XinWanna=王, XinXinXin=计科小菜狗, karry Wang=王嵩嵩&#125;</span></span><br><span class="line">				<span class="keyword">return</span> ((String)o1).length() - ((String)o2).length();</span><br><span class="line"> 			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		treeMap.put(<span class="string">&quot;karry Wang&quot;</span>,<span class="string">&quot;王嵩嵩&quot;</span>);</span><br><span class="line">		treeMap.put(<span class="string">&quot;XinWanna&quot;</span>, <span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">		treeMap.put(<span class="string">&quot;XinXinXin&quot;</span>,<span class="string">&quot;计科小菜狗&quot;</span>);</span><br><span class="line">		treeMap.put(<span class="string">&quot;zzzzzzzz&quot;</span>, <span class="string">&quot;王&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;treeMap = &quot;</span> + treeMap);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>如何选择集合实现类</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%BC%80%E5%8F%91%E4%B8%AD%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E9%9B%86%E5%90%88%E5%AE%9E%E7%8E%B0%E7%B1%BB.jpg" alt></p>
</li>
<li>
<p><code>Collections</code>工具类</p>
<ol>
<li>
<p><code>Collections</code>是一个操作 <code>set、List和Map</code>等集合的工具类。</p>
</li>
<li>
<p><code>Collections</code>中提供了一系列<strong>静态</strong>的方法对集合元素进行排序、查询和修改等操作。</p>
</li>
<li>
<p><strong>静态</strong>方法</p>
<p>（1）<code>Collections.reverse(Collection)</code>: 反转 <code>list</code>中元素的顺序</p>
<p>（2）<code>Collections.shuffle(Collection)</code>: 对集合元素进行随机排序</p>
<p>（3）<code>Collections.sort(Collection)</code>: 根据元素的自然顺序对集合元素进行排序</p>
<p>（4）<code>Collections.sort(Collection,Comparator)</code>: 根据指定的 <code>Comparator</code> 产生的顺序对 <code>List</code> 集合元素进行排序</p>
<p>（5）<code>Collections.swap(Collection,int,int)</code>: 将指定 <code>list</code> 集合中的 i 处元素和 j 处元素继续交换</p>
<p>（6）<code>Collection.max(Collection)</code>: 根据元素的自然顺序，返回给定集合中的最大元素</p>
<p>（7）<code>Collection.max(Collection,Comparator)</code>: 根据 <code>Comparator</code> 指定的顺序，返回给定集合中的最大元素。</p>
<p>（8）<code>Collection.frequency(Collection,Object)</code>: 返回指定集合中指定元素出现的次数</p>
<p>（9）<code>Collection.copy(NewCollcetion,OldCollection)</code>: 集合拷贝</p>
<p>​	 必须事先给新的集合赋初值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">listCollection</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		list.add(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		list.add(<span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">		list.add(<span class="string">&quot;HaHaHa&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;list = &quot;</span> + list);</span><br><span class="line">		</span><br><span class="line">		<span class="type">ArrayList</span> <span class="variable">dest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 赋初值</span></span><br><span class="line">		<span class="comment">// 不赋初值会报错: java.lang.IndexOutOfBoundsException</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; list.size();i++)</span><br><span class="line">			dest.add(<span class="string">&quot;&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 拷贝</span></span><br><span class="line">		Collections.copy(dest, list);</span><br><span class="line">		System.out.println(<span class="string">&quot;dest = &quot;</span> + dest);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list = [XinWanna, 欣坚强, HaHaHa]</span><br><span class="line">dest = [XinWanna, 欣坚强, HaHaHa]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li>
<p><code>HashSet</code> 和 <code>TreeSet</code> 分别如何实现去重</p>
<ul>
<li><code>HashSet</code>的去重机制：<code>hashCode() + equals()</code>，底层先存入对象，进行运算得到一个 <code>hash</code> 值，通过 <code>hash</code>  得到对应的索引。如果发现 <code>table</code> 索引所在的位置，没有数据，就直接存放。如果有数据，就进行 <code>equals</code> 比较（遍历比较）。如果比较后，不相同，就加入，否则不加入。</li>
<li><code>TreeSet</code> 的去重机制：如果传入了一个 <code>Comparator</code> 匿名对象，就使用实现的 <code>compare</code> 去重。如果方法返回0，就认为是相同的元素/数据，就不添加。如果没有传入一个 <code>Comparator</code> 匿名对象，则以添加的对象实现的 <code>Compareable</code> 接口的 <code>compareTo</code> 去重。</li>
</ul>
</li>
</ul>
<h2 id="42泛型"><a class="markdownIt-Anchor" href="#42泛型"></a> 42.泛型</h2>
<ul>
<li>
<p>传统方法的问题</p>
<ul>
<li>不能对加入到集合<code>ArrayList</code>中的数据类型进行约束（不安全，因为 <code>ArrayList</code> 可以加入 <code>Object</code> 类型的数据）</li>
<li>遍历的时候，需要进行类型转换。如果集合中的数据量较大，对效率有影响。</li>
</ul>
</li>
<li>
<p>不使用泛型 vs 使用泛型</p>
<ul>
<li><code>Dog</code>  —加入—&gt;  <code>Object</code>  ----取出—&gt;  <code>Dog</code></li>
<li><code>Dog</code> —&gt;  <code>Dog</code>  —&gt;   <code>Dog</code></li>
</ul>
</li>
<li>
<p>泛型介绍</p>
<ul>
<li>泛型又称参数化类型，解决数据类型的安全性问题。</li>
<li>在类声明或实例化时，只要指定好需要的具体的类型即可。</li>
<li><code>Java</code>泛型可以保证如果程序在编译时没有发出警告，运行时就不会产生 <code>ClassCastException</code> 异常。</li>
<li>泛型的作用：可以在类声明时通过一个标识表示类中某个属性的类型，或者是某个方法的返回值的类型，或者是参数类型。</li>
</ul>
</li>
<li>
<p>泛型语法</p>
<ul>
<li>泛型声明
<ul>
<li><code>interface接口&lt;T&gt; &#123;&#125;</code> 和 <code>class类&lt;K,V&gt; &#123;&#125;</code></li>
<li>其中，<code>T,K,V</code>不代表值，而是表示类型。</li>
<li>任意字母都可以，常用<code>T</code>表示，是<code>Type</code>的缩写。</li>
<li>T,E 只能是引用类型（<code>Integer</code> 可以，<code>int</code> 不行）</li>
<li>在指定泛型具体类型后，可以传入该类型或者其子类型</li>
</ul>
</li>
<li>泛型实例化
<ul>
<li><code>List&lt;String&gt; strList = new ArrayList&lt;String&gt;();</code></li>
<li><code>List&lt;String&gt; strList = new ArrayList&lt;&gt;();</code></li>
<li><code>List strList = new ArrayList();</code> 默认的泛型是 <code>&lt;E&gt;,E 就是 Object</code></li>
<li><code>Iterator&lt;Customer&gt; iterator = customers.iterator();</code></li>
</ul>
</li>
</ul>
<p>示例代码 - 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String name;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;学生的姓名 : &quot;</span> + name + <span class="string">&quot;, 学生的年龄 : &quot;</span> + age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest_1</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		HashSet&lt;Student&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">		</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>));</span><br><span class="line">		set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">20</span>));</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=========HashSet=========&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(Student s : set)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(s);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">		<span class="keyword">while</span>(iterator.hasNext())</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> (Student)iterator.next();</span><br><span class="line">			System.out.println(s);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;=========HashMap=========&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		HashMap&lt;String,Student&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String,Student&gt;();</span><br><span class="line">		</span><br><span class="line">		map.put(<span class="string">&quot;XinWanna&quot;</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">20</span>));</span><br><span class="line">		map.put(<span class="string">&quot;欣坚强&quot;</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">20</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获得 Key-Value</span></span><br><span class="line">		Set&lt;Map.Entry&lt;String, Student&gt;&gt; kV = map.entrySet();</span><br><span class="line">		<span class="keyword">for</span>(Object value : kV)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// 取出 Key-Value</span></span><br><span class="line">			Map.<span class="type">Entry</span> <span class="variable">entry</span> <span class="operator">=</span> (Map.Entry) value;</span><br><span class="line">			System.out.println(entry.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		</span><br><span class="line">		Iterator&lt;Map.Entry&lt;String, Student&gt;&gt; i = kV.iterator();</span><br><span class="line">		<span class="keyword">while</span>(i.hasNext())</span><br><span class="line">		&#123;</span><br><span class="line">			Map.Entry&lt;String, Student&gt; n = i.next();</span><br><span class="line">			System.out.println(n.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获得 Key</span></span><br><span class="line">		Set&lt;String&gt; key = map.keySet();</span><br><span class="line">		<span class="keyword">for</span>(String k : key)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(map.get(k));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 获取 value</span></span><br><span class="line">		<span class="type">Collection</span> <span class="variable">value</span> <span class="operator">=</span> map.values();</span><br><span class="line">		System.out.println(value);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>示例代码 - 2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDate</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> month;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> day;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MyDate</span><span class="params">(<span class="type">int</span> year,<span class="type">int</span> month,<span class="type">int</span> day)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.year = year;</span><br><span class="line">		<span class="built_in">this</span>.month = month;</span><br><span class="line">		<span class="built_in">this</span>.day = day;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getYear</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> year;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setYear</span><span class="params">(<span class="type">int</span> year)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.year = year;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMonth</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> month;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMonth</span><span class="params">(<span class="type">int</span> month)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.month = month;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDay</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> day;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDay</span><span class="params">(<span class="type">int</span> day)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.day = day;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> sal;</span><br><span class="line">	<span class="keyword">private</span> MyDate birthday;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name,<span class="type">double</span> sal,MyDate birthday)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.sal = sal;</span><br><span class="line">		<span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSal</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> sal;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSal</span><span class="params">(<span class="type">double</span> sal)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.sal = sal;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> MyDate <span class="title function_">getBirthday</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> birthday;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBirthday</span><span class="params">(MyDate birthday)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;姓名: &quot;</span> + name + <span class="string">&quot;, 薪水: &quot;</span> + sal + <span class="string">&quot;, 生日:&quot;</span> + birthday.getYear() + <span class="string">&quot; - &quot;</span> + birthday.getMonth() + <span class="string">&quot; - &quot;</span> + birthday.getDay();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GeneticTest_2</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		ArrayList&lt;Employee&gt; employee = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		employee.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">2000.09</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2004</span>,<span class="number">5</span>,<span class="number">24</span>)));</span><br><span class="line">		employee.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">30000.09</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2004</span>,<span class="number">5</span>,<span class="number">25</span>)));</span><br><span class="line">		employee.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">30000.09</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2004</span>,<span class="number">6</span>,<span class="number">1</span>)));</span><br><span class="line">		employee.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;XinXinXin&quot;</span>,<span class="number">3000.09</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2004</span>,<span class="number">4</span>,<span class="number">7</span>)));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 对 employee 进行排序</span></span><br><span class="line">		employee.sort(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Employee&gt;() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Employee o1,Employee o2)</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> <span class="variable">com</span> <span class="operator">=</span> o1.getName().compareTo(o2.getName());</span><br><span class="line">				</span><br><span class="line"><span class="comment">//				if(com &gt; 0)</span></span><br><span class="line"><span class="comment">//				&#123;</span></span><br><span class="line"><span class="comment">//					return 1;</span></span><br><span class="line"><span class="comment">//				&#125;</span></span><br><span class="line"><span class="comment">//				else if(com &lt; 0)</span></span><br><span class="line"><span class="comment">//				&#123;</span></span><br><span class="line"><span class="comment">//					return -1;</span></span><br><span class="line"><span class="comment">//				&#125;</span></span><br><span class="line">				<span class="keyword">if</span>(com != <span class="number">0</span>) <span class="keyword">return</span> com;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="comment">/*</span></span><br><span class="line"><span class="comment">					int year1 = o1.getBirthday().getYear();</span></span><br><span class="line"><span class="comment">					int year2 = o2.getBirthday().getYear();</span></span><br><span class="line"><span class="comment">					</span></span><br><span class="line"><span class="comment">					int month1 = o1.getBirthday().getMonth();</span></span><br><span class="line"><span class="comment">					int month2 = o2.getBirthday().getMonth();</span></span><br><span class="line"><span class="comment">					</span></span><br><span class="line"><span class="comment">					int day1 = o1.getBirthday().getDay();</span></span><br><span class="line"><span class="comment">					int day2 = o2.getBirthday().getDay();</span></span><br><span class="line"><span class="comment">					</span></span><br><span class="line"><span class="comment">					if(year1 &gt; year2) return 1;</span></span><br><span class="line"><span class="comment">					else if(year1 &lt; year2) return -1;</span></span><br><span class="line"><span class="comment">					else</span></span><br><span class="line"><span class="comment">					&#123;</span></span><br><span class="line"><span class="comment">						if(month1 &gt; month2) return 1;</span></span><br><span class="line"><span class="comment">						else if(month1 &lt; month2) return -1;</span></span><br><span class="line"><span class="comment">						else</span></span><br><span class="line"><span class="comment">						&#123;</span></span><br><span class="line"><span class="comment">							if(day1 &gt; day2) return 1;</span></span><br><span class="line"><span class="comment">							else if (day1 &lt; day2) return -1;</span></span><br><span class="line"><span class="comment">							else</span></span><br><span class="line"><span class="comment">								return 0;</span></span><br><span class="line"><span class="comment">						&#125;</span></span><br><span class="line"><span class="comment">					&#125;</span></span><br><span class="line"><span class="comment">					*/</span></span><br><span class="line">					</span><br><span class="line">					<span class="type">int</span> <span class="variable">yearMinus</span> <span class="operator">=</span> o1.getBirthday().getYear() - o2.getBirthday().getYear();</span><br><span class="line">					<span class="type">int</span> <span class="variable">monthMinus</span> <span class="operator">=</span> o1.getBirthday().getMonth() - o2.getBirthday().getMonth();</span><br><span class="line">					<span class="type">int</span> <span class="variable">dayMinus</span> <span class="operator">=</span> o1.getBirthday().getDay() - o2.getBirthday().getDay();</span><br><span class="line">					</span><br><span class="line">					<span class="keyword">if</span>(yearMinus != <span class="number">0</span>) <span class="keyword">return</span> yearMinus;</span><br><span class="line">					<span class="keyword">if</span>(monthMinus != <span class="number">0</span>) <span class="keyword">return</span> monthMinus;</span><br><span class="line">					<span class="keyword">if</span>(dayMinus != <span class="number">0</span>) <span class="keyword">return</span> dayMinus;</span><br><span class="line">					</span><br><span class="line">					<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		System.out.println(employee);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDate</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;MyDate&gt;&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> month;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> day;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MyDate</span><span class="params">(<span class="type">int</span> year,<span class="type">int</span> month,<span class="type">int</span> day)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.year = year;</span><br><span class="line">		<span class="built_in">this</span>.month = month;</span><br><span class="line">		<span class="built_in">this</span>.day = day;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getYear</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> year;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setYear</span><span class="params">(<span class="type">int</span> year)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.year = year;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMonth</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> month;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMonth</span><span class="params">(<span class="type">int</span> month)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.month = month;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDay</span><span class="params">()</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> day;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDay</span><span class="params">(<span class="type">int</span> day)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.day = day;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 对 year - month - day 对比，放在该方法里面</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(MyDate o)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">yearMinus</span> <span class="operator">=</span> year - o.getYear();</span><br><span class="line">		<span class="type">int</span> <span class="variable">monthMinus</span> <span class="operator">=</span> month - o.getMonth();</span><br><span class="line">		<span class="type">int</span> <span class="variable">dayMinus</span> <span class="operator">=</span> day - o.getDay();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(yearMinus != <span class="number">0</span>) <span class="keyword">return</span> yearMinus;</span><br><span class="line">		<span class="keyword">if</span>(monthMinus != <span class="number">0</span>) <span class="keyword">return</span> monthMinus;</span><br><span class="line">		<span class="keyword">if</span>(dayMinus != <span class="number">0</span>) <span class="keyword">return</span> dayMinus;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">double</span> sal;</span><br><span class="line">	<span class="keyword">private</span> MyDate birthday;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name,<span class="type">double</span> sal,MyDate birthday)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.sal = sal;</span><br><span class="line">		<span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSal</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> sal;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSal</span><span class="params">(<span class="type">double</span> sal)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.sal = sal;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> MyDate <span class="title function_">getBirthday</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> birthday;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBirthday</span><span class="params">(MyDate birthday)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;姓名: &quot;</span> + name + <span class="string">&quot;, 薪水: &quot;</span> + sal + <span class="string">&quot;, 生日:&quot;</span> + birthday.getYear() + <span class="string">&quot; - &quot;</span> + birthday.getMonth() + <span class="string">&quot; - &quot;</span> + birthday.getDay();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GeneticTest_2</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		ArrayList&lt;Employee&gt; employee = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		employee.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;XinWanna&quot;</span>,<span class="number">2000.09</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2004</span>,<span class="number">5</span>,<span class="number">24</span>)));</span><br><span class="line">		employee.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">30000.09</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2004</span>,<span class="number">5</span>,<span class="number">25</span>)));</span><br><span class="line">		employee.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;欣坚强&quot;</span>,<span class="number">30000.09</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2004</span>,<span class="number">6</span>,<span class="number">1</span>)));</span><br><span class="line">		employee.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;XinXinXin&quot;</span>,<span class="number">3000.09</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2004</span>,<span class="number">4</span>,<span class="number">7</span>)));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 对 employee 进行排序</span></span><br><span class="line">		employee.sort(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Employee&gt;() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Employee o1,Employee o2)</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> <span class="variable">com</span> <span class="operator">=</span> o1.getName().compareTo(o2.getName());</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span>(com != <span class="number">0</span>) <span class="keyword">return</span> com;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;	</span><br><span class="line">					<span class="keyword">return</span> o1.getBirthday().compareTo(o2.getBirthday());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		System.out.println(employee);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>自定义泛型类</p>
<ul>
<li>
<p>基本语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class 类名&lt;T,R……&gt;&#123;</span><br><span class="line">	成员</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注意细节</p>
<ul>
<li>
<p>普通成员可以使用泛型（属性、方法）</p>
</li>
<li>
<p>使用泛型的数组，不能初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为数组在 new 不能确定 T 的类型，就无法在内存开空间。</span></span><br><span class="line">T[] ts = <span class="keyword">new</span> <span class="title class_">T</span>[<span class="number">8</span>]; <span class="comment">// error</span></span><br><span class="line">T[] ts; <span class="comment">// success</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>静态方法中不能使用类的泛型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 泛型是在定义对象的时候指定的,而静态方法是在类加载的时候，此时对象还没有创建</span></span><br><span class="line"><span class="comment">// 如果静态方法和静态属性使用了泛型，JVM就无法完成初始化</span></span><br><span class="line"><span class="keyword">static</span> R r; <span class="comment">// error</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">m_</span><span class="params">(M m)</span>&#123;&#125;  <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>泛型类的类型，是在创建对象时确定的（创建对象时，需要指定确定类型）</p>
</li>
<li>
<p>如果在创建对象时，没有指定类型默认为 <code>Object</code></p>
</li>
<li>
<p><code>T,R……</code> 是泛型的标识符，一般是单个大写字母，泛型标识符可以有多个。</p>
</li>
</ul>
</li>
<li>
<p>示例代码 - 1</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pig</span>&lt;E&gt;&#123;</span><br><span class="line">	</span><br><span class="line">	E e;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Pig</span><span class="params">(E e)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.e = e;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(e.getClass());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest_Detail</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. 因为 E 指定了 A 类型，构造器传入 new A()</span></span><br><span class="line">		<span class="comment">// 2. 在给泛型指定具体类型后，可以传入该类型或者其子类型</span></span><br><span class="line">		Pig&lt;A&gt; aPig = <span class="keyword">new</span> <span class="title class_">Pig</span>&lt;A&gt;(<span class="keyword">new</span> <span class="title class_">A</span>());</span><br><span class="line">		aPig.get(); <span class="comment">// class Generic.A</span></span><br><span class="line">		</span><br><span class="line">		Pig&lt;A&gt; bPig = <span class="keyword">new</span> <span class="title class_">Pig</span>&lt;A&gt;(<span class="keyword">new</span> <span class="title class_">B</span>());</span><br><span class="line">		bPig.get(); <span class="comment">// class Generic.B</span></span><br><span class="line">		</span><br><span class="line">		List&lt;Integer&gt; lst = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>示例代码 - 2</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Tiger</span>&lt;T,R,M&gt;&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> T t;</span><br><span class="line">	<span class="keyword">private</span> R r;</span><br><span class="line">	<span class="keyword">private</span> M m;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Tiger</span><span class="params">(String name)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Tiger</span><span class="params">(String name,T t,R r,M m)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		</span><br><span class="line">		<span class="built_in">this</span>.t = t;</span><br><span class="line">		<span class="built_in">this</span>.r = r;</span><br><span class="line">		<span class="built_in">this</span>.m = m;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> T <span class="title function_">getT</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> t;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setT</span><span class="params">(T t)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.t = t;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> R <span class="title function_">getR</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> r;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setR</span><span class="params">(R r)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.r = r;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> M <span class="title function_">getM</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> m;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setM</span><span class="params">(M m)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.m = m;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;name : &quot;</span> + name + <span class="string">&quot;, t : &quot;</span> + t + <span class="string">&quot;, r : &quot;</span> + r + <span class="string">&quot;, m : &quot;</span> + m;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GeneticTest_3</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		Tiger&lt;Double,String,Integer&gt; g = <span class="keyword">new</span> <span class="title class_">Tiger</span>&lt;&gt;(<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		g.setT(<span class="number">3000.0</span>);</span><br><span class="line">		<span class="comment">// g.setT(&quot;XiXi&quot;); 错误，类型不对</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// name : XinWanna, t : 3000.0, r : null, m : null</span></span><br><span class="line">		System.out.println(g);</span><br><span class="line">		</span><br><span class="line">		<span class="type">Tiger</span> <span class="variable">gg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Tiger</span>(<span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">		gg.setT(<span class="string">&quot;HaHa&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// name : 欣坚强, t : HaHa, r : null, m : null</span></span><br><span class="line">		System.out.println(gg);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name : XinWanna, t : <span class="number">3000.0</span>, r : <span class="literal">null</span>, m : <span class="literal">null</span></span><br><span class="line">name : 欣坚强, t : HaHa, r : <span class="literal">null</span>, m : <span class="literal">null</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>自定义泛型接口</p>
<ul>
<li>
<p>基本语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">interface 接口名&lt;T,R……&gt;&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注意细节</p>
<ul>
<li>接口中，静态成员也不能使用泛型；在接口中的默认方法中，可以使用泛型。</li>
<li>泛型接口的类型，在继承接口或实现接口时确定</li>
<li>没有指定类型，默认为 <code>Object</code></li>
</ul>
</li>
<li>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IUsb</span>&lt;U,R&gt;&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="comment">// U name; 静态成员不能使用泛型</span></span><br><span class="line">	</span><br><span class="line">	R <span class="title function_">get</span><span class="params">(U u)</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">hi</span><span class="params">(R r)</span>;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">run</span><span class="params">(R r1,R r2,R r3)</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">default</span> R <span class="title function_">method</span><span class="params">(U u)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承接口时，指定泛型接口的类型</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IA</span> <span class="keyword">extends</span> <span class="title class_">IUsb</span>&lt;String ,Double&gt;&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 会自动替换掉泛型 U 和 R</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AA</span> <span class="keyword">implements</span> <span class="title class_">IA</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> Double <span class="title function_">get</span><span class="params">(String u)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">(Double r)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(Double r1, Double r2, Double r3)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> Double <span class="title function_">method</span><span class="params">(String u)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> IA.<span class="built_in">super</span>.method(u);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BB</span> <span class="keyword">implements</span> <span class="title class_">IUsb</span>&lt;Integer,Float&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> Float <span class="title function_">get</span><span class="params">(Integer u)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">(Float r)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(Float r1, Float r2, Float r3)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等价于 class CC implements IUsb&lt;Object,Object&gt;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CC</span> <span class="keyword">implements</span> <span class="title class_">IUsb</span>&#123; </span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> Object <span class="title function_">get</span><span class="params">(Object u)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">(Object r)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(Object r1, Object r2, Object r3)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GeneticInterface</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>自定义泛型方法</p>
<ul>
<li>
<p>基本语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修饰符 &lt;T,R……&gt; 返回类型 方法名(参数列表) &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注意细节</p>
<ul>
<li>
<p>泛型方法，可以定义在普通类中，也可以定义在泛型类中。</p>
</li>
<li>
<p>当泛型方法被调用时，类型会确定。</p>
</li>
<li>
<pre class="highlight"><code class="java"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(E e)</span>&#123;&#125;  <span class="comment">// 修饰符后没有 &lt;T,R……&gt; eat方法不是泛型方法，而是使用了泛型</span>
&lt;!--code￼<span class="number">322</span>--&gt;

</code></pre>
</li>
</ul>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">java</span>.lang.String</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">java</span>.lang.Integer</span><br><span class="line">================</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">java</span>.lang.Integer</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">java</span>.lang.Double</span><br><span class="line">================</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">java</span>.util.ArrayList</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">java</span>.lang.Double</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>泛型的继承和通配符说明</p>
<ul>
<li>
<p>泛型不具备继承性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Object&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;(); <span class="comment">// error</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<?> :  支持任意泛型类型
</li>
<li>
<? extends A> : 支持A类以及A类的子类，规定了泛型的上限
</li>
<li>
<? super A> : 支持A类以及A类的父亲，不限于直接父类，规定了泛型的下限
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AA</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BB</span> <span class="keyword">extends</span> <span class="title class_">AA</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CC</span> <span class="keyword">extends</span> <span class="title class_">BB</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericExtends</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		List&lt;Object&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		List&lt;String&gt; list2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		List&lt;AA&gt; list3 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		List&lt;BB&gt; list4 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		List&lt;CC&gt; list5 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;============ printCollection1 ============&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		printCollection1(list1);</span><br><span class="line">		printCollection1(list2);</span><br><span class="line">		printCollection1(list3);</span><br><span class="line">		printCollection1(list4);</span><br><span class="line">		printCollection1(list5);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;============ printCollection2 ============&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// printCollection2(list1);</span></span><br><span class="line">		<span class="comment">// printCollection2(list2);</span></span><br><span class="line">		printCollection2(list3);</span><br><span class="line">		printCollection2(list4);</span><br><span class="line">		printCollection2(list5);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;============ printCollection3 ============&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		printCollection3(list1);</span><br><span class="line">		<span class="comment">// printCollection3(list2);</span></span><br><span class="line">		printCollection3(list3);</span><br><span class="line">		printCollection3(list4);</span><br><span class="line">		<span class="comment">// printCollection3(list5);</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// List&lt;?&gt; 表示任意的泛型类型都能接受</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printCollection1</span><span class="params">(List&lt;?&gt; c)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(Object object : c)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(object);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// AA类 以及 AA的子类</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printCollection2</span><span class="params">(List&lt;? extends AA&gt; c)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(Object object : c)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(object);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// BB类 以及 BB的父类</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printCollection3</span><span class="params">(List&lt;? <span class="built_in">super</span> BB&gt; c)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(Object object : c)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(object);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>测试题目</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">User</span><span class="params">(<span class="type">int</span> id,<span class="type">int</span> age,String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.id = id;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;姓名 : &quot;</span> + name + <span class="string">&quot;, 年龄 : &quot;</span> + age + <span class="string">&quot;, id : &quot;</span> + id;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DAO</span>&lt;T&gt;&#123;</span><br><span class="line">	</span><br><span class="line">	Map&lt;String,T&gt; m = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(String id, T entity)</span></span><br><span class="line">	&#123;</span><br><span class="line">		m.put(id, entity);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> T <span class="title function_">get</span><span class="params">(String id)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> m.get(id);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(String id,T entity)</span></span><br><span class="line">	&#123;</span><br><span class="line">		m.put(id, entity);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> List&lt;T&gt; <span class="title function_">list</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// Collection 转化为 List</span></span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(m.values());</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(String id)</span></span><br><span class="line">	&#123;</span><br><span class="line">		m.remove(id);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest_4</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1</span>,<span class="number">20</span>,<span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">		<span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2</span>,<span class="number">21</span>,<span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">		<span class="type">User</span> <span class="variable">user3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2</span>,<span class="number">20</span>,<span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		DAO&lt;User&gt; dao = <span class="keyword">new</span> <span class="title class_">DAO</span>();</span><br><span class="line">		</span><br><span class="line">		dao.save(<span class="string">&quot;1&quot;</span>, user1);</span><br><span class="line">		dao.save(<span class="string">&quot;2&quot;</span>, user2);</span><br><span class="line">		System.out.println(dao.list());</span><br><span class="line">		</span><br><span class="line">		System.out.println(dao.get(<span class="string">&quot;1&quot;</span>));</span><br><span class="line">		</span><br><span class="line">		dao.update(<span class="string">&quot;2&quot;</span>, user3);</span><br><span class="line">		</span><br><span class="line">		System.out.println(dao.list());</span><br><span class="line">		</span><br><span class="line">		dao.delete(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">		System.out.println(dao.list());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[姓名 : XinWanna, 年龄 : <span class="number">20</span>, id : <span class="number">1</span>, 姓名 : 欣坚强, 年龄 : <span class="number">21</span>, id : <span class="number">2</span>]</span><br><span class="line">姓名 : XinWanna, 年龄 : <span class="number">20</span>, id : <span class="number">1</span></span><br><span class="line">[姓名 : XinWanna, 年龄 : <span class="number">20</span>, id : <span class="number">1</span>, 姓名 : 欣坚强, 年龄 : <span class="number">20</span>, id : <span class="number">2</span>]</span><br><span class="line">[姓名 : XinWanna, 年龄 : <span class="number">20</span>, id : <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="43线程"><a class="markdownIt-Anchor" href="#43线程"></a> 43.线程</h2>
<ul>
<li>
<p>创建线程的两种方法</p>
<ul>
<li>
<p>继承 <code>Thread</code>类，重写<code>run</code>方法（<code>run</code>方法是 <code>Thread</code> 类，实现了 <code>Runnable</code>接口的<code>run</code>方法）</p>
<ul>
<li>
<p>主线程结束了，并不一定会导致应用程序的退出（子线程还可以继续执行）</p>
</li>
<li>
<p>调用 <code>start</code> 方法，而不是 <code>run</code>方法</p>
<ol>
<li><code>start0</code>是本地方法，是JVM调用，底层是<code>C/C++</code>实现。</li>
<li>真正实现多线程的效果，是<code>start0</code>，而不是 <code>run</code>方法。</li>
<li><code>start()</code> 方法调用<code>start0()</code> 方法后，该线程并不一定会立马执行，只是将线程变成了可运行状态。具体什么时候执行，取决于CPU，由CPU统一调度。</li>
<li><code>run</code>方法就是一个普通的方法，在<code>main</code>方法中调用，需要先完成 <code>run</code>方法，然后再完成<code>main</code>方法剩余的部分，即为串行。</li>
</ol>
</li>
<li>
<p>示例代码</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%BA%BF%E7%A8%8B.png" alt></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> <span class="variable">times</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>) <span class="comment">// 不写 while 循环，只能输出一次</span></span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;喵喵，我是小猫咪! &quot;</span> + (++times));</span><br><span class="line">			System.out.println(Thread.currentThread().getName());</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// 让线程休眠1秒</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125;<span class="keyword">catch</span>(InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(times == <span class="number">8</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">break</span>; <span class="comment">// 退出while循环，线程也会结束</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_01</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">		cat.start();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// run 方法就是一个普通的方法，没有真正的启动一个线程</span></span><br><span class="line">		<span class="comment">// 此时在 run 方法里，输出的 Thread.currentThread().getName() 还是main</span></span><br><span class="line">        <span class="comment">// 必须执行完 run 方法，才会继续执行下面的 for 循环</span></span><br><span class="line">		<span class="comment">// cat.run(); </span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;主线程继续执行 &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">10</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;主线程 i = &quot;</span> + i);</span><br><span class="line">			</span><br><span class="line">			Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">主线程继续执行 main</span><br><span class="line">主线程 i = <span class="number">0</span></span><br><span class="line">喵喵，我是小猫咪! <span class="number">1</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">主线程 i = <span class="number">1</span></span><br><span class="line">喵喵，我是小猫咪! <span class="number">2</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">主线程 i = <span class="number">2</span></span><br><span class="line">喵喵，我是小猫咪! <span class="number">3</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">主线程 i = <span class="number">3</span></span><br><span class="line">喵喵，我是小猫咪! <span class="number">4</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">主线程 i = <span class="number">4</span></span><br><span class="line">喵喵，我是小猫咪! <span class="number">5</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">喵喵，我是小猫咪! <span class="number">6</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">主线程 i = <span class="number">5</span></span><br><span class="line">喵喵，我是小猫咪! <span class="number">7</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">主线程 i = <span class="number">6</span></span><br><span class="line">喵喵，我是小猫咪! <span class="number">8</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">主线程 i = <span class="number">7</span></span><br><span class="line">主线程 i = <span class="number">8</span></span><br><span class="line">主线程 i = <span class="number">9</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>实现 <code>Runnable</code> 接口，重写<code>run</code>方法</p>
<ul>
<li>
<p>由于Java是单继承的，在某些情况下，一个类可能已经继承了某个父类，这时再用继承 <code>Thread</code> 类方法来创建线程就不可能。</p>
</li>
<li></li>
<li>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;小狗汪汪叫…… &quot;</span> + (++cnt) + Thread.currentThread().getName());</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(cnt == <span class="number">10</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_02</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 不能直接调用 start 方法</span></span><br><span class="line">		<span class="comment">// dog.start();</span></span><br><span class="line">		</span><br><span class="line">        <span class="comment">// 使用的是代理模式</span></span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(dog);</span><br><span class="line">		thread.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">小狗汪汪叫…… 1Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 2Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 3Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 4Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 5Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 6Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 7Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 8Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 9Thread-<span class="number">0</span></span><br><span class="line">小狗汪汪叫…… 10Thread-<span class="number">0</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>继承 <code>Thread</code>  vs  实现 <code>Runnable</code> 的区别</p>
<ul>
<li>本质上没有区别，<code>Thread</code>类本身就实现了<code>Runnable</code>接口。</li>
<li>实现<code>Runnable</code>接口方式更加适合多个线程<strong>共享一个资源</strong>的情况，并且避免了单继承的限制。（可以将一个对象传给多个 <code>Thread</code>  对象同时执行）</li>
</ul>
</li>
</ul>
</li>
<li>
<p>线程终止</p>
<ul>
<li>
<p>当线程完成任务后，自动退出。</p>
</li>
<li>
<p>通过使用变量来控制 <code>run</code> 方法退出的方式停止线程，即通知方式。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(loop)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;线程:&quot;</span> + Thread.currentThread().getName() + <span class="string">&quot; &quot;</span> + (++cnt));</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLoop</span><span class="params">(<span class="type">boolean</span> loop)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.loop = loop;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_07</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">		test.start();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;主线程休眠!&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 主线程通过修改参数，来终止子线程 -&gt; 通知方式</span></span><br><span class="line">		test.setLoop(<span class="literal">false</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">主线程休眠!</span><br><span class="line">线程:Thread-<span class="number">0</span> <span class="number">1</span></span><br><span class="line">线程:Thread-<span class="number">0</span> <span class="number">2</span></span><br><span class="line">线程:Thread-<span class="number">0</span> <span class="number">3</span></span><br><span class="line">线程:Thread-<span class="number">0</span> <span class="number">4</span></span><br><span class="line">线程:Thread-<span class="number">0</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>线程常用方法</p>
<ul>
<li>
<p>常用方法</p>
<ol>
<li>
<p><code>setName</code> 设置线程名称，使之与参数 <code>name</code> 相同</p>
</li>
<li>
<p><code>getName</code> 返回该线程的名称</p>
</li>
<li>
<p><code>start</code> 使该线程开始执行（Java 虚拟机底层调用该线程的 start0 方法）</p>
</li>
<li>
<p><code>run</code> 调用线程对象的 <code>run</code> 方法</p>
</li>
<li>
<p><code>setPriority</code> 更改线程的优先级</p>
</li>
<li>
<p><code>getPriority</code> 获得线程的优先级</p>
</li>
<li>
<p><code>sleep</code> 在指定的毫秒数内让当前正在执行的线程休眠（暂停执行）</p>
</li>
<li>
<p><code>interrupt</code> 中断线程</p>
</li>
<li>
<p><code>yield</code> 线程的礼让。让出cpu，让其他线程执行，但礼让的时间不确定，所以也不一定礼让成功。</p>
</li>
<li>
<p><code>join</code> 线程的插队。插队的线程一旦插队成功，则肯定先执行完插入的线程所有的任务。</p>
</li>
</ol>
<p>示例代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SonThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;线程 &quot;</span> + Thread.currentThread().getName() + <span class="string">&quot; hello &quot;</span> + (++cnt));</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(cnt == <span class="number">10</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_08</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">SonThread</span> <span class="variable">sonThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SonThread</span>();</span><br><span class="line">		sonThread.setName(<span class="string">&quot;子线程&quot;</span>); <span class="comment">// 更改子线程的名字</span></span><br><span class="line">		sonThread.start();</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;线程 &quot;</span> + Thread.currentThread().getName() + <span class="string">&quot; hi &quot;</span> + (++cnt));</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(cnt == <span class="number">5</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				sonThread.join();</span><br><span class="line">				<span class="comment">// Thread.yield(); // 礼让，不一定成功...</span></span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(cnt == <span class="number">10</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">线程 main hi <span class="number">1</span></span><br><span class="line">线程 子线程 hello <span class="number">1</span></span><br><span class="line">线程 main hi <span class="number">2</span></span><br><span class="line">线程 子线程 hello <span class="number">2</span></span><br><span class="line">线程 子线程 hello <span class="number">3</span></span><br><span class="line">线程 main hi <span class="number">3</span></span><br><span class="line">线程 main hi <span class="number">4</span></span><br><span class="line">线程 子线程 hello <span class="number">4</span></span><br><span class="line">线程 main hi <span class="number">5</span></span><br><span class="line">线程 子线程 hello <span class="number">5</span></span><br><span class="line">线程 子线程 hello <span class="number">6</span></span><br><span class="line">线程 子线程 hello <span class="number">7</span></span><br><span class="line">线程 子线程 hello <span class="number">8</span></span><br><span class="line">线程 子线程 hello <span class="number">9</span></span><br><span class="line">线程 子线程 hello <span class="number">10</span></span><br><span class="line">线程 main hi <span class="number">6</span></span><br><span class="line">线程 main hi <span class="number">7</span></span><br><span class="line">线程 main hi <span class="number">8</span></span><br><span class="line">线程 main hi <span class="number">9</span></span><br><span class="line">线程 main hi <span class="number">10</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>注意事项和细节</p>
<ol>
<li><code>start</code>底层会创建新的线程，调用<code>run</code>，<code>run</code>就是一个简单的方法调用，不会启动新线程。</li>
<li><code>interrupt</code> 用于中断正在休眠的线程（即唤醒休眠的线程），但并没有真正的结束线程。</li>
<li><code>sleep</code> 线程的静态方法，休眠当前线程。</li>
</ol>
</li>
<li>
<p>用户线程和守护线程</p>
<ol>
<li>
<p>用户线程：也叫工作线程，线程的任务执行完成或通知方式结束。</p>
</li>
<li>
<p>守护线程：一般是为工作线程服务的，当所有用户线程结束，守护线程自动结束。 ——  垃圾回收机制</p>
</li>
<li>
<p>设置用户为守护线程</p>
<p>​	当主线程完成退出时，子线程若尚未完成则并不会结束，因为子线程为用户线程。若想子线程在主线程完成后立即结束，需要将子线程设置为守护线程。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyDeamonThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>( ; ; )</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;KarryWang 和 JayChou 在聊天!&quot;</span>);</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_09</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">MyDeamonThread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyDeamonThread</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 将子线程设置为守护线程</span></span><br><span class="line">		thread.setDaemon(<span class="literal">true</span>);</span><br><span class="line">		thread.start();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">10</span>;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;小螃蟹在吃瓜 …… &quot;</span>);</span><br><span class="line">			Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br><span class="line">小螃蟹在吃瓜 …… </span><br><span class="line">KarryWang 和 JayChou 在聊天!</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p>线程的生命周期</p>
<ol>
<li>初始(NEW)：新创建了一个线程对象，但还没有调用start()方法。</li>
<li>运行(RUNNABLE)：Java线程中将就绪（ready）和运行中（running）两种状态笼统的称为“运行”。<br>
线程对象创建后，其他线程(比如main线程）调用了该对象的start()方法。该状态的线程位于可运行线程池中，等待被线程调度选中，获取CPU的使用权，此时处于就绪状态（ready）。就绪状态的线程在获得CPU时间片后变为运行中状态（running）。</li>
<li>阻塞(BLOCKED)：表示线程阻塞于锁。</li>
<li>等待(WAITING)：进入该状态的线程需要等待其他线程做出一些特定动作（通知或中断）。</li>
<li>超时等待(TIMED_WAITING)：该状态不同于WAITING，它可以在指定的时间后自行返回。</li>
<li>终止(TERMINATED)：表示该线程已经执行完毕。</li>
</ol>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/Java%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81.png" alt></p>
</li>
<li>
<p>多线程存在的问题（以售票为例）</p>
<ul>
<li>
<p>继承 <code>Thread</code>类，重写<code>run</code>方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SellTicket</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 让多个线程共享cnt</span></span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			--cnt;</span><br><span class="line">			System.out.println(<span class="string">&quot;窗口 &quot;</span> + Thread.currentThread().getName() + <span class="string">&quot;卖出一张票，还剩下 &quot;</span> + cnt + <span class="string">&quot; 张票!&quot;</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">50</span>); <span class="comment">// 休眠五十毫秒</span></span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(cnt == <span class="number">0</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_05</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">SellTicket</span> <span class="variable">sellWindow1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicket</span>();</span><br><span class="line">		<span class="type">SellTicket</span> <span class="variable">sellWindow2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicket</span>();</span><br><span class="line">		<span class="type">SellTicket</span> <span class="variable">sellWindow3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicket</span>();</span><br><span class="line">		</span><br><span class="line">		sellWindow1.start();</span><br><span class="line">		sellWindow2.start();</span><br><span class="line">		sellWindow3.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">窗口 Thread-<span class="number">0</span>卖出一张票，还剩下 <span class="number">97</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">2</span>卖出一张票，还剩下 <span class="number">97</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">1</span>卖出一张票，还剩下 <span class="number">97</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">0</span>卖出一张票，还剩下 <span class="number">95</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">2</span>卖出一张票，还剩下 <span class="number">95</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">1</span>卖出一张票，还剩下 <span class="number">94</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">0</span>卖出一张票，还剩下 <span class="number">93</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">1</span>卖出一张票，还剩下 <span class="number">93</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">2</span>卖出一张票，还剩下 <span class="number">93</span> 张票!</span><br><span class="line">窗口 Thread-<span class="number">2</span>卖出一张票，还剩下 <span class="number">91</span> 张票!</span><br><span class="line">…………………………………………………………………………………………</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>实现 <code>Runnable</code> 接口，重写<code>run</code>方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SellTickets</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 让多个线程共享cnt</span></span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			--cnt;</span><br><span class="line">			System.out.println(<span class="string">&quot;窗口 &quot;</span> + Thread.currentThread().getName() + <span class="string">&quot;卖出一张票，还剩下 &quot;</span> + cnt + <span class="string">&quot; 张票!&quot;</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">50</span>); <span class="comment">// 休眠五十毫秒</span></span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(cnt == <span class="number">0</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_06</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">SellTickets</span>());</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">SellTickets</span>());</span><br><span class="line">		</span><br><span class="line">		thread1.start();</span><br><span class="line">		thread2.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>线程同步 <code>Synchronized</code></p>
<ul>
<li>
<p>同步代码块</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(对象)&#123; <span class="comment">// 得到对象的锁，才能操作同步代码</span></span><br><span class="line">	<span class="comment">// 需要被同步代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>静态方法中的同步代码块，不能写 <code>this</code> ，而是要写 <code>类名.class</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(类名.class)&#123; <span class="comment">// 得到对象的锁，才能操作同步代码</span></span><br><span class="line">	<span class="comment">// 需要被同步代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>synchronized</code> 可以放在方法声明中，表示整个方法为同步方法。</p>
<ol>
<li>同步方法（非静态的）的锁可以是 <code>this</code> , 特可以是其他对象（要求多个线程操作的是同一个对象）。</li>
<li>同步方法（静态的）的锁为当前类本身，即 ````类名.class``</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">m</span><span class="params">(String name)</span>&#123;</span><br><span class="line">	<span class="comment">// 需要被同步的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>要求多个线程的锁对象为同一个！</p>
<ol>
<li>
<p>反例 - 1</p>
<p>继承 <code>Thread</code> 类实现多线程，多个线程的创建需要 new 多次对象，导致多个线程的锁的对象不是同一个!!!</p>
</li>
<li>
<p>反例 - 2</p>
<p>同步代码块中每次都new一个对象，导致多个线程的对象不是同一个。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(<span class="keyword">new</span> <span class="title class_">Object</span>())&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li>
<p>示例代码（以售票为例）</p>
<ul>
<li>
<p>同步方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SellTicket</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 让多个线程共享cnt</span></span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 同步方法，在同一时刻，只能有一个线程来执行sell方法</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 *  1. 继承Thread来创建线程，必须将 sell 方法设置为 静态方法：</span></span><br><span class="line"><span class="comment">	 *  	因为若继承Thread的方式来创建多个线程，只能创建多个类对象。</span></span><br><span class="line"><span class="comment">	 *  若此时的方法不是静态的，那么多个对象可以同时进入到 sell 方法中，</span></span><br><span class="line"><span class="comment">	 *  无法实现并发。</span></span><br><span class="line"><span class="comment">	 	2. 锁加在 SellTicket.class</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sell</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cnt &lt;= <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;售票结束!&quot;</span>);</span><br><span class="line">			loop = <span class="literal">false</span>;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">50</span>); <span class="comment">// 休眠五十毫秒</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;窗口 &quot;</span> + Thread.currentThread().getName() + <span class="string">&quot;卖出一张票，还剩下 &quot;</span> + (--cnt) + <span class="string">&quot; 张票!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(loop)</span><br><span class="line">		&#123;</span><br><span class="line">			sell();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_05</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">SellTicket</span> <span class="variable">sellWindow1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicket</span>();</span><br><span class="line">		<span class="type">SellTicket</span> <span class="variable">sellWindow2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicket</span>();</span><br><span class="line">		<span class="type">SellTicket</span> <span class="variable">sellWindow3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTicket</span>();</span><br><span class="line">		</span><br><span class="line">		sellWindow1.start();</span><br><span class="line">		sellWindow2.start();</span><br><span class="line">		sellWindow3.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SellTickets</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 让多个线程共享cnt</span></span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">	<span class="type">boolean</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 同步方法，在同一时刻，只能有一个线程来执行sell方法</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 实现接口就无需将方法设置为静态方法，因为可以创建一个对象来实现多个线程</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sell</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(cnt &lt;= <span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			loop = <span class="literal">false</span>;</span><br><span class="line">			System.out.println(<span class="string">&quot;售票结束!&quot;</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">50</span>); <span class="comment">// 休眠五十毫秒</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;窗口 &quot;</span> + Thread.currentThread().getName() + <span class="string">&quot;卖出一张票，还剩下 &quot;</span> + (--cnt) + <span class="string">&quot; 张票!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(loop)</span><br><span class="line">		&#123;</span><br><span class="line">			sell();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_06</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">SellTickets</span> <span class="variable">sellTickets</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SellTickets</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(sellTickets);</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(sellTickets);</span><br><span class="line">		</span><br><span class="line">		thread1.start();</span><br><span class="line">		thread2.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>释放锁</p>
<ul>
<li>会释放锁
<ol>
<li>当前线程的同步方法、同步代码块执行结束</li>
<li>当前线程在同步代码块、同步方法中遇到 <code>break</code> 、<code>return</code></li>
<li>当前线程在同步代码块、同步方法中出现了未处理的 <code>Error</code> 或 <code>Exception</code> ，导致异常结束。</li>
<li>当前线程在同步代码块、同步方法中执行了线程对象的<code>wait()</code> 方法，当前线程暂停，并释放锁。</li>
</ol>
</li>
<li>不会释放锁
<ol>
<li>线程执行同步代码块或同步方法时，程序调用 <code>Thread.sleep()、Thread.yield()</code> 方法暂停当前线程的执行，不会释放锁。</li>
<li>线程执行同步代码块时，其他线程调用了该线程的 <code>suspend()</code> 方法（不再使用）将该线程挂起，该线程不会释放锁。</li>
</ol>
</li>
</ul>
</li>
<li>
<p>示例代码</p>
<ul>
<li>
<p>练习 - 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DThread_1</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">class</span> <span class="title class_">DThread_2</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					System.out.println(<span class="string">&quot;请输入你的指令(Q\\q)表示退出&quot;</span>);</span><br><span class="line">					</span><br><span class="line">					<span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">					</span><br><span class="line">					<span class="comment">// String s = scanner.next();</span></span><br><span class="line">					</span><br><span class="line">					<span class="comment">// 获取到第一个字符</span></span><br><span class="line">					<span class="type">char</span> <span class="variable">s</span> <span class="operator">=</span> scanner.next().toUpperCase().charAt(<span class="number">0</span>);</span><br><span class="line">					</span><br><span class="line">					<span class="comment">// if(s.compareTo(&quot;Q&quot;) == 0)</span></span><br><span class="line">					<span class="keyword">if</span>(s == <span class="string">&#x27;Q&#x27;</span>)</span><br><span class="line">					&#123;</span><br><span class="line">						flag = <span class="literal">false</span>;</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="type">DThread_2</span> <span class="variable">d2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DThread_2</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(d2);</span><br><span class="line">		thread.start();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(flag)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// 这样输出的是 0 - 100 的浮点数</span></span><br><span class="line">			<span class="comment">// System.out.println(Math.random() * 100);</span></span><br><span class="line">			System.out.println((<span class="type">int</span>)(Math.random() * <span class="number">100</span> + <span class="number">1</span>));</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_10</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">DThread_1</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DThread_1</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(d1);</span><br><span class="line">		thread.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">请输入你的指令(Q\q)表示退出</span><br><span class="line"><span class="number">84</span></span><br><span class="line"><span class="number">43</span></span><br><span class="line"><span class="number">60</span></span><br><span class="line">a</span><br><span class="line">请输入你的指令(Q\q)表示退出</span><br><span class="line"><span class="number">34</span></span><br><span class="line"><span class="number">44</span></span><br><span class="line">q</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>练习 - 2</p>
<ul>
<li>
<p>错误方法</p>
<p>虽然是在更改同一个sum，但是尚未设置锁，导致两个线程没有实现同步。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Card</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(sum &lt; <span class="number">1000</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;当前余额不足!!!&quot;</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			System.out.println(Thread.currentThread().getName() + <span class="string">&quot;已取出1000元，当前银行卡里剩余 &quot;</span> + (sum -= <span class="number">1000</span>) + <span class="string">&quot;元!&quot;</span>);</span><br><span class="line">		</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_11</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Card</span> <span class="variable">card</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Card</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(card);</span><br><span class="line">		thread1.start();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(card);</span><br><span class="line">		thread2.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Thread-<span class="number">1</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">9000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">8000</span>元!</span><br><span class="line">Thread-<span class="number">1</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">7000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">6000</span>元!</span><br><span class="line">Thread-<span class="number">1</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">5000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">5000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">4000</span>元!</span><br><span class="line">Thread-<span class="number">1</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">3000</span>元!</span><br><span class="line">Thread-<span class="number">1</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">1000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">2000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">0</span>元!</span><br><span class="line">Thread-<span class="number">1</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">0</span>元!</span><br><span class="line">当前余额不足!!!</span><br><span class="line">当前余额不足!!!</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>正确方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Card</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">/*</span></span><br><span class="line"><span class="comment">			 * 1. 当多个线程执行到这里时，会争夺 this 对象锁</span></span><br><span class="line"><span class="comment">			 * 2. 哪个线程争夺到 this 对象锁，就会执行 synchronized 代码块。执行完成后，会释放 this 对象锁。</span></span><br><span class="line"><span class="comment">			 * 3. 争夺不到 this 对象锁，就会阻塞，继续争夺。</span></span><br><span class="line"><span class="comment">			 * 4. this 对象锁是非公平锁</span></span><br><span class="line"><span class="comment">			 */</span></span><br><span class="line">			<span class="keyword">synchronized</span>(<span class="built_in">this</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span>(sum &lt; <span class="number">1000</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					System.out.println(<span class="string">&quot;当前余额不足!!!&quot;</span>);</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				</span><br><span class="line">				System.out.println(Thread.currentThread().getName() + <span class="string">&quot;已取出1000元，当前银行卡里剩余 &quot;</span> + (sum -= <span class="number">1000</span>) + <span class="string">&quot;元!&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_11</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Card</span> <span class="variable">card</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Card</span>();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(card);</span><br><span class="line">		thread1.start();</span><br><span class="line">		</span><br><span class="line">		<span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(card);</span><br><span class="line">		thread2.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">9000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">8000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">7000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">6000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">5000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">4000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">3000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">2000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">1000</span>元!</span><br><span class="line">Thread-<span class="number">0</span>已取出<span class="number">1000</span>元，当前银行卡里剩余 <span class="number">0</span>元!</span><br><span class="line">当前余额不足!!!</span><br><span class="line">当前余额不足!!!</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="44文件"><a class="markdownIt-Anchor" href="#44文件"></a> 44.文件</h2>
<ul>
<li>
<p>文件流</p>
<ol>
<li>文件在程序中是以流的形式来操作的。</li>
<li>输入流和输出流</li>
</ol>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E6%96%87%E4%BB%B6%E6%B5%81.png" alt></p>
</li>
<li>
<p>常用的文件操作</p>
<ul>
<li>
<p>创建文件对象相关构造器和方法</p>
<ol>
<li><code>new File(String pathname)</code> 根据路径构建一个File对象</li>
<li><code>new File(File parent,String child)</code> 根据父目录文件 + 子路径构建</li>
<li><code>new File(String parent,String child)</code> 根据父目录 + 子路径构建</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread_13</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 方式一：根据路径创建</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">create01</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\news1.txt&quot;</span>;</span><br><span class="line">		<span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(filePath);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			file.createNewFile();</span><br><span class="line">			System.out.println(<span class="string">&quot;文件创建成功!&quot;</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 方式二：根据父目录文件+子路径构建</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">create02</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">File</span> <span class="variable">parentFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\&quot;</span>);</span><br><span class="line">		<span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> <span class="string">&quot;news2.txt&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(parentFile,fileName);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// new File只是在内存中创建了一个对象，但未在磁盘中创建文件</span></span><br><span class="line">			file.createNewFile();</span><br><span class="line">			System.out.println(<span class="string">&quot;创建成功!&quot;</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 方式三：根据父目录+子路径构建</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">create03</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">parentPath</span> <span class="operator">=</span> <span class="string">&quot;d:\\&quot;</span>;</span><br><span class="line">		<span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> <span class="string">&quot;news3.txt&quot;</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(parentPath,fileName);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			file.createNewFile();</span><br><span class="line">			System.out.println(<span class="string">&quot;创建成功!&quot;</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">		<span class="type">Thread_13</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread_13</span>();</span><br><span class="line">		</span><br><span class="line">		thread.create01();</span><br><span class="line">		thread.create02();</span><br><span class="line">		thread.create03();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>获取文件的相关信息</p>
<p><code>getName、getAbsolutePath、getParent、length（文件大小，以字节为单位）、exists、isFile、isDirectory</code></p>
</li>
<li>
<p>目录的操作和文件删除</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```java</span><br><span class="line">import java.io.File;</span><br><span class="line"></span><br><span class="line">public class Directory &#123;</span><br><span class="line"></span><br><span class="line">	public void m1() </span><br><span class="line">	&#123;</span><br><span class="line">		String directoryPath = &quot;D:\\demo&quot;;</span><br><span class="line">		File file = new File(directoryPath);</span><br><span class="line">		</span><br><span class="line">		if(file.exists())</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(directoryPath + &quot;存在..&quot;);</span><br><span class="line">			file.delete();</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			if(file.mkdir())</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(directoryPath + &quot;创建成功..&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(directoryPath + &quot;创建失败..&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void m2()</span><br><span class="line">	&#123;</span><br><span class="line">		String directoryPath = &quot;D:\\demo\\a\\b\\c&quot;;</span><br><span class="line">		File file = new File(directoryPath);</span><br><span class="line">		</span><br><span class="line">		if(file.exists())</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(directoryPath + &quot;存在..&quot;);</span><br><span class="line">			file.delete();</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			// 多级目录必须使用 mkdirs </span><br><span class="line">			if(file.mkdirs())</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(directoryPath + &quot;创建成功..&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(directoryPath + &quot;创建失败..&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">		Directory directory = new Directory();</span><br><span class="line">		</span><br><span class="line">		directory.m1();</span><br><span class="line">		directory.m2();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>IO流原理</p>
<ol>
<li>
<p><code>I/O</code>是<code>Input/Output</code>的缩写，<code>I/O</code>技术是非常实用的战术，用于处理数据传输。</p>
</li>
<li>
<p>Java程序中，对于数据的输入/输出操作以“流”的方式进行。</p>
</li>
<li>
<p><code>java.io</code>包下提供了各种“流”类和接口，用以获取不同种类的数据，并通过方法输入或输出数据。</p>
</li>
<li>
<p>流的分类</p>
<p>输入<code>input</code>: 读取外部数据（磁盘、光盘等存储设备的数据）到程序（内存）中。</p>
<p>输出<code>output</code>: 将程序（内存）数据输出到磁盘、光盘等存储设备中。</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/IO%E6%B5%81%E7%9A%84%E5%88%86%E7%B1%BB.jpg" alt></p>
</li>
<li>
<p>常用的类</p>
<p>(1) <code>InputStream</code>字节输入流，是所有类字节输入流的超类</p>
<p>​      ① <code>FileInputStream</code> 文件输入流</p>
<p>​           <code>read()</code> 方法表示从该输入流中读取一个字节的数据，如果没有输入可用，此方法将阻止。如果返回-1，表示读取结束。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readFile01</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\hello.txt&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">readData</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建 FileInputStream 对象，用于读取文件</span></span><br><span class="line">        <span class="comment">// 此处会抛出异常</span></span><br><span class="line">        fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(filePath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 从文件流中读取一个字节的数据，会抛出异常</span></span><br><span class="line">        <span class="comment">// 字节流读取，汉字会乱码</span></span><br><span class="line">        <span class="keyword">while</span>((readData = fileInputStream.read()) != -<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 字节转成字符显示</span></span><br><span class="line">            System.out.print((<span class="type">char</span>)readData); <span class="comment">// hello,??????</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 关闭文件流，释放资源，会抛出异常</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileInputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readFile02</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\hello.txt&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">8</span>]; <span class="comment">// 一次读取八个字节</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">readLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建 FileInputStream 对象，用于读取文件</span></span><br><span class="line">        <span class="comment">// 此处会抛出异常</span></span><br><span class="line">        fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(filePath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 从输入流读取最多buf.length字节的数据到字节数组</span></span><br><span class="line">        <span class="comment">// 如果读取完毕，返回-1</span></span><br><span class="line">        <span class="comment">// 如果读取正常，返回实际读取的字节数</span></span><br><span class="line">        <span class="keyword">while</span>((readLen = fileInputStream.read(buf)) != -<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 字节转成字符串显示</span></span><br><span class="line">            <span class="comment">// 文件中包含汉字，会乱码</span></span><br><span class="line">            System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(buf,<span class="number">0</span>,readLen)); <span class="comment">// hello,瀵屽﹩</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 关闭文件流，释放资源，会抛出异常</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileInputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​     ② <code>BufferedInputStream</code> 缓冲字节输入流</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">streamCopy</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">readPath</span> <span class="operator">=</span> <span class="string">&quot;D:\\QQ图片20241005195323.jpg&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">writePath</span> <span class="operator">=</span> <span class="string">&quot;D:\\图片.jpg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">readLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">BufferedInputStream</span> <span class="variable">bufferedInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">BufferedOutputStream</span> <span class="variable">bufferedOutputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        bufferedInputStream = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(readPath));</span><br><span class="line">        bufferedOutputStream = <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(writePath));</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] by = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>((readLen = bufferedInputStream.read(by)) != -<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bufferedOutputStream.write(by,<span class="number">0</span>,readLen);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(bufferedInputStream != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bufferedInputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(bufferedOutputStream != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                bufferedOutputStream.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​     ③ <code>ObjectInputStream</code>  对象字节输入流</p>
<p>​	<code>ObjectInputStream</code>  和 <code>ObjectOutputStream</code>  希望可以保存数据的值和数据类型.</p>
<p>​	序列化和反序列化:</p>
<ol>
<li>
<p>序列化是在保存数据时,保存数据的值和数据类型.</p>
</li>
<li>
<p>反序列化是在恢复数据时,恢复数据的值和数据类型.</p>
</li>
<li>
<p>需要让某个对象支持序列化机制,则必须让其类是可序列化的(要实现 <code>Serializable 标记接口,没有方法</code> 和 <code>Externalizable 有方法需要实现</code>  两个接口之一)</p>
</li>
<li>
<p>读取(反序列化)的顺序需要和保存数据(序列化)的顺序一致,否则会出现异常.</p>
</li>
<li>
<p>序列化对象时,除了<code>static 或 transient</code>修饰的成员,默认将里面所有属性都进行序列化.</p>
</li>
<li>
<p>序列化对象时,要求里面属性的类型也需要实现序列化接口.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Master</span> <span class="variable">master</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Master</span>(); <span class="comment">// 必须实现 Serializable ，才能进行序列化</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>序列化具备可继承性,也就是如果某类已经实现了序列化,则它的所有子类也已经默认实现了序列化.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 某个类想要实现序列化，必须实现 Serializable 接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String name,<span class="type">int</span> age)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">		<span class="built_in">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;name is &quot;</span> + name + <span class="string">&quot; , age is &quot;</span> + age;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ObjectOutput</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;d:\\information.txt&quot;</span>;</span><br><span class="line">    <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(path));</span><br><span class="line"></span><br><span class="line">    oos.writeInt(<span class="number">100</span>); <span class="comment">// int -&gt; Integer</span></span><br><span class="line">    oos.writeBoolean(<span class="literal">false</span>); <span class="comment">// boolean -&gt; Boolean</span></span><br><span class="line">    oos.writeChar(<span class="string">&#x27;W&#x27;</span>); <span class="comment">// char -&gt; Character</span></span><br><span class="line">    oos.writeDouble(<span class="number">20.9</span>); <span class="comment">// double -&gt; Double</span></span><br><span class="line">    oos.writeUTF(<span class="string">&quot;Hello,富婆&quot;</span>); <span class="comment">// String</span></span><br><span class="line">    oos.writeObject(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;呆呆&quot;</span>,<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    oos.close();</span><br><span class="line">    System.out.println(<span class="string">&quot;数据保存完毕（序列化形式）！&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ObjectInput</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException, ClassNotFoundException</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;d:\\information.txt&quot;</span>;</span><br><span class="line">    <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(path));</span><br><span class="line"></span><br><span class="line">    System.out.println(ois.readInt());</span><br><span class="line">    System.out.println(ois.readBoolean());</span><br><span class="line">    System.out.println(ois.readChar());</span><br><span class="line">    System.out.println(ois.readDouble());</span><br><span class="line">    System.out.println(ois.readUTF());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Object -&gt; Dog 编译类型是Object，运行类型是Dog</span></span><br><span class="line">    System.out.println(ois.readObject()); <span class="comment">// 可能会抛出异常 ClassNotFoundException</span></span><br><span class="line"></span><br><span class="line">    ois.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(2)<code>OutputStream</code> 字节输出流</p>
<p>​      ① <code>FileOutputStream</code> 文件输出流，如果文件不存在，会创建文件。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">writeFile01</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\hello.txt&quot;</span>;</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 这样创建对象，表示的是，写入的内容会覆盖原来的内容</span></span><br><span class="line">        <span class="comment">// fileOutputStream = new FileOutputStream(filePath);</span></span><br><span class="line">        fileOutputStream = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(filePath,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 写入一个字节</span></span><br><span class="line">        <span class="comment">// fileOutputStream.write();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 写入字符串</span></span><br><span class="line">        <span class="comment">// 会乱码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello,富婆&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 会报异常</span></span><br><span class="line">        <span class="comment">// getBytes() 可以把字符串 -&gt; 字节数组</span></span><br><span class="line">        <span class="comment">//fileOutputStream.write(str.getBytes());</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 指的是，写入 str 字符串的前三个字符</span></span><br><span class="line">        fileOutputStream.write(str.getBytes(),<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">copy</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">srcFilePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\hello.txt&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">destFilePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\hello_.txt&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(srcFilePath);</span><br><span class="line">        fileOutputStream = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(destFilePath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 定义一个字节数组，提高读取效果</span></span><br><span class="line">        <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">readLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 一遍读，一遍写</span></span><br><span class="line">        <span class="keyword">while</span>((readLen = fileInputStream.read(buf)) != -<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             * 不可以写成 fileOutputStream.write(buf);</span></span><br><span class="line"><span class="comment">             * 因为这样写的话，只能读取1024个字节，但若文件的大小大于1024个字节，多余部分将无法读取</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line"></span><br><span class="line">            fileOutputStream.write(buf,<span class="number">0</span>,readLen);</span><br><span class="line">        &#125; </span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;拷贝ok~~&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(3) <code>FileReader 和 FileWriter</code></p>
<p>​      <code>FileReader 和 FileWriter</code>是字符流，即按照字符来操作I/O</p>
<p>​      <code>FileReader</code>常用方法：</p>
<p>​      ①  <code>new FileReader(File/String)</code></p>
<p>​      ② <code>read</code> : 每次读取单个字符，返回该字符，如果到文件末尾返回-1。</p>
<p>​      ③ <code>read(char[])</code> : 批量读取多个字符到数组，返回读取到的字符数。如果到文件末尾，返回-1。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fileReader01</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\hello.txt&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 有可能还会出现乱码的情况，原因是 eclipse 默认为GBK编码</span></span><br><span class="line">    <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        fileReader = <span class="keyword">new</span> <span class="title class_">FileReader</span>(filePath);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>((data = fileReader.read()) != -<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print((<span class="type">char</span>) data);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileReader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fileReader02</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\hello.txt&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 有可能还会出现乱码的情况，原因是 eclipse 默认为GBK编码</span></span><br><span class="line">    <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">readLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span>[] buf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        fileReader = <span class="keyword">new</span> <span class="title class_">FileReader</span>(filePath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 一次读取8个字符，返回的是实际读取的字符数</span></span><br><span class="line">        <span class="comment">// 如果返回-1，说明读取文件结束</span></span><br><span class="line">        <span class="keyword">while</span>((readLen = fileReader.read(buf)) != -<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(buf,<span class="number">0</span>,readLen));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileReader.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​      <code>FileWriter</code> 常用方法：</p>
<p>​      ① <code>new FileWriter(File/String)</code> : 覆盖模式，相当于流的指针在首端。</p>
<p>​      ② <code>new FileWriter(File.String,true)</code>: 追加模式，相当于流的指针在尾端。</p>
<p>​      ③ <code>write(int)</code> ：写入单个字符</p>
<p>​      ④ <code>write(char[])</code>: 写入指定数组</p>
<p>​      ⑤ <code>write(char[],off,len)</code> ：写入指定数组的指定部分</p>
<p>​      ⑥ <code>write(string)</code>: 写入整个字符串</p>
<p>​      ⑦ <code>write(string,off,len)</code>: 写入字符串的指定部分</p>
<p>​       <code>FileWriter</code>使用后，必须要关闭（close）或刷新（flush），否则写入不到指定的文件！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fileWriter01</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;d:\\hello.txt&quot;</span>;</span><br><span class="line">    <span class="type">FileWriter</span> <span class="variable">fileWriter</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 默认覆盖原文件内容</span></span><br><span class="line">        fileWriter = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(filePath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. write(int):写入单个字符</span></span><br><span class="line">        <span class="comment">// fileWriter.write(&#x27;H&#x27;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. write(char[]):写入指定数组</span></span><br><span class="line">        <span class="comment">// char[] chars = &#123;&#x27;H&#x27;,&#x27;e&#x27;,&#x27;l&#x27;,&#x27;l&#x27;,&#x27;o&#x27;,&#x27;,&#x27;,&#x27;富&#x27;,&#x27;婆&#x27;&#125;;</span></span><br><span class="line">        <span class="comment">// fileWriter.write(chars);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. write(char[],off,len): 写入指定数组的指定部分</span></span><br><span class="line">        <span class="comment">// fileWriter.write(&quot;Hello,富婆&quot;.toCharArray(),0,8);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. write(string) : 写入整个字符串</span></span><br><span class="line">        <span class="comment">// fileWriter.write(&quot;Hello,富婆&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5. write(string,off,len) : 写入字符串的指定部分</span></span><br><span class="line">        fileWriter.write(<span class="string">&quot;Hello,富婆&quot;</span>,<span class="number">0</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 必须close或者flush才能真正的把数据写入到文件</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fileWriter.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(4) <code>BufferedReader 和 BufferedWriter</code></p>
<figure class="highlight plaintext"><figcaption><span>和 BufferedWriter``` 属于字符流（不要去操作二进制文件，可能造成文件损坏），是按照字符来读取数据。关闭时，只需要关闭外层流即可。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">```java</span><br><span class="line">public void BufferedReader()</span><br><span class="line">&#123;</span><br><span class="line">    String filePath = &quot;d:\\hello.txt&quot;;</span><br><span class="line"></span><br><span class="line">    try &#123;</span><br><span class="line"></span><br><span class="line">        BufferedReader bufferedReader = new BufferedReader(new FileReader(filePath));</span><br><span class="line"></span><br><span class="line">        // 读取</span><br><span class="line">        String line; // 按行读取，效率高</span><br><span class="line"></span><br><span class="line">        // 按行读取文件，当返回 null 时，表示文件读取完毕</span><br><span class="line">        while((line = bufferedReader.readLine()) != null)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 关闭流，只需要关闭 BufferedReader , 因为底层会自动关闭节点流</span><br><span class="line">        bufferedReader.close();</span><br><span class="line"></span><br><span class="line">    &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">        // TODO Auto-generated catch block</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; catch (IOException e) &#123;</span><br><span class="line">        // TODO Auto-generated catch block</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void BufferedWriter()</span><br><span class="line">&#123;</span><br><span class="line">    String filePath = &quot;d:\\hello.txt&quot;;</span><br><span class="line"></span><br><span class="line">    try &#123;</span><br><span class="line"></span><br><span class="line">        // 覆盖原来文件</span><br><span class="line">        // BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(filePath));</span><br><span class="line">        // 将内容追加到文件中</span><br><span class="line">        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(filePath,true));</span><br><span class="line"></span><br><span class="line">        bufferedWriter.write(&quot;Hello,富婆&quot;);</span><br><span class="line">        bufferedWriter.newLine(); // 插入一个换行（和系统相关）</span><br><span class="line"></span><br><span class="line">        bufferedWriter.write(&quot;Hello,富婆&quot;);</span><br><span class="line">        bufferedWriter.newLine(); // 插入一个换行（和系统相关）</span><br><span class="line"></span><br><span class="line">        bufferedWriter.write(&quot;Hello,富婆&quot;);</span><br><span class="line">        bufferedWriter.newLine(); // 插入一个换行（和系统相关）</span><br><span class="line"></span><br><span class="line">        bufferedWriter.write(&quot;Hello,富婆&quot;);</span><br><span class="line">        bufferedWriter.newLine(); // 插入一个换行（和系统相关）</span><br><span class="line"></span><br><span class="line">        bufferedWriter.close();</span><br><span class="line"></span><br><span class="line">    &#125; catch (IOException e) &#123;</span><br><span class="line">        // TODO Auto-generated catch block</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void copy()</span><br><span class="line">&#123;</span><br><span class="line">    String readPath = &quot;d:\\hello.txt&quot;;</span><br><span class="line">    String writePath = &quot;d:\\hello_.txt&quot;;</span><br><span class="line"></span><br><span class="line">    BufferedReader bufferedReader = null;</span><br><span class="line">    BufferedWriter bufferedWriter = null;</span><br><span class="line"></span><br><span class="line">    try &#123;</span><br><span class="line"></span><br><span class="line">        bufferedReader = new BufferedReader(new FileReader(readPath));</span><br><span class="line">        bufferedWriter = new BufferedWriter(new FileWriter(writePath));</span><br><span class="line"></span><br><span class="line">        String line;</span><br><span class="line"></span><br><span class="line">        while((line = bufferedReader.readLine()) != null)</span><br><span class="line">        &#123;</span><br><span class="line">            bufferedWriter.write(line);</span><br><span class="line">            bufferedWriter.newLine();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        bufferedWriter.close();</span><br><span class="line">    &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">        // TODO Auto-generated catch block</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; catch (IOException e) &#123;</span><br><span class="line">        // TODO Auto-generated catch block</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            if(bufferedReader != null)</span><br><span class="line">                bufferedReader.close();</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            // TODO Auto-generated catch block</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            if(bufferedWriter != null)</span><br><span class="line">                bufferedWriter.close();</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            // TODO Auto-generated catch block</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p>节点流和处理流</p>
<ul>
<li>
<p>基本介绍</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%8A%82%E7%82%B9%E6%B5%81%E5%92%8C%E5%A4%84%E7%90%86%E6%B5%81.jpg" alt></p>
<figure class="highlight plaintext"><figcaption><span>```PipedWriter、StringWriter、CharArrayWriter```等。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  ![](./Java学习/字节流和处理流-1.jpg)</span><br><span class="line"></span><br><span class="line">- 节点流和处理流的区别</span><br><span class="line"></span><br><span class="line">  ![](./Java学习/节点流和处理流的区别.jpg)</span><br><span class="line"></span><br><span class="line">- 标准输入输出流</span><br><span class="line"></span><br><span class="line">  ```System.in``` 标准输入  =&gt; ```InputStream```   =&gt; 键盘</span><br><span class="line"></span><br><span class="line">  ```System.out``` 标准输出  =&gt; ```PrintStream```   =&gt; 显示器</span><br><span class="line"></span><br><span class="line">- 转换流 -  ```InputStreamReader 和 OutputStreamWriter```</span><br><span class="line"></span><br><span class="line">  1. 字节流转换成字符流是靠转换流</span><br><span class="line"></span><br><span class="line">  2. ```InputStreamReader```:```Reader```的子类,可以将```InputStream(字节流)```包装成(转换)```Reader```(字符流).</span><br><span class="line">  3. ```OutputStreamWriter```:```Writer```的子类,实现将```OutputStream(字节流)```包装成```Writer```(字符流).</span><br><span class="line">  4. 当处理纯文本数据时,如果使用字符流效率更高,并且可以有效解决中文问题,所以将字节流转成字符流.</span><br><span class="line">  5. 可以在使用时指定编码格式(比如:``UTF-8``  ```gbk``` )</span><br><span class="line"></span><br><span class="line">  ```java</span><br><span class="line">  String filePath = &quot;d:\\hello.txt&quot;;</span><br><span class="line">  </span><br><span class="line">  InputStreamReader isr = new InputStreamReader(new FileInputStream(filePath),&quot;gbk&quot;); // 设置编码方式</span><br><span class="line">  BufferedReader br = new BufferedReader(isr);</span><br><span class="line">  </span><br><span class="line">  // 读取</span><br><span class="line">  String s = br.readLine();</span><br><span class="line">  System.out.println(&quot;读取内容: &quot; + s);</span><br><span class="line">  </span><br><span class="line">  br.close();</span><br><span class="line">  </span><br><span class="line">  String outPutPath = &quot;d:\\hello_.txt&quot;;</span><br><span class="line">  </span><br><span class="line">  OutputStreamWriter osw = new OutputStreamWriter(new FileOutputStream(outPutPath),&quot;gbk&quot;);</span><br><span class="line">  </span><br><span class="line">  BufferedWriter bw = new BufferedWriter(osw);</span><br><span class="line">  bw.write(&quot;Hello,富婆&quot;);</span><br><span class="line">  </span><br><span class="line">  bw.close();</span><br><span class="line">  </span><br><span class="line">  System.out.println(&quot;保存文件成功!&quot;);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>打印流  <code>PrintStream(字节打印流) 和 PrintWriter(字符打印流)</code></p>
<p>打印流只有输出流,没有输入流.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PrintStream</span> <span class="variable">out</span> <span class="operator">=</span> System.out;</span><br><span class="line">out.println(<span class="string">&quot;Hello,富婆&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// print 底层使用的是 write，所以可以直接调用 write 进行打印/输出</span></span><br><span class="line">out.write(<span class="string">&quot;Hello,富婆&quot;</span>.getBytes());</span><br><span class="line">out.close();</span><br><span class="line"></span><br><span class="line">System.setOut(<span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="string">&quot;d:\\hello_.txt&quot;</span>));</span><br><span class="line">System.out.println(<span class="string">&quot;Hello,富婆&quot;</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;d:\\hello.txt&quot;</span>));</span><br><span class="line">pw.print(<span class="string">&quot;Hello,王富婆&quot;</span>);</span><br><span class="line">pw.close();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>Properties</code></p>
<ul>
<li>
<p>传统方法读取<code>Properties</code>文件内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;src\\file\\mysql.properties&quot;</span>));</span><br><span class="line"><span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>((line = br.readLine()) != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 根据 = 分割字符串，空格不会被分割出来</span></span><br><span class="line">    String[] split = line.split(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">    System.out.println(split[<span class="number">0</span>] + <span class="string">&quot; 值是: &quot;</span> + split[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">br.close();</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>Properties</code>类</p>
<ol>
<li>
<p>专门用于读写配置文件的集合类</p>
<p>配置文件的格式:  <code>键=值</code></p>
</li>
<li>
<p>键值对不需要有空格,值不需要用引号一起来,默认类型是 <code>String</code>.</p>
</li>
</ol>
</li>
<li>
<p><code>Properties</code>类 常见方法</p>
<ol>
<li><code>load</code>  加载配置文件的键值对到  <code>Properties</code>  对象</li>
<li><code>list</code>  将数据显示到指定设备</li>
<li><code>getProperty(key)</code>  根据键获取值</li>
<li><code>setProperty(key,value)</code>  设置键值对到 <code>Properties</code>  对象</li>
<li><code>store</code>  将 <code>Properties</code>  中的键值对存储到配置文件,在idea中,保存信息到配置文件,如果含有中文,会存储为 <code>unicode</code> 码.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">		</span><br><span class="line"><span class="comment">// 加载配置文件</span></span><br><span class="line">properties.load(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;src\\file\\mysql.properties&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示键值对到控制台</span></span><br><span class="line">properties.list(System.out);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 根据键获取对应的值</span></span><br><span class="line"><span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;id = &quot;</span> + id);</span><br><span class="line">System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">		</span><br><span class="line"><span class="comment">// 创建 键值对</span></span><br><span class="line"><span class="comment">// 父类是Hashtable</span></span><br><span class="line"><span class="comment">// 如果文件中原来没有key，则相当于添加。否则，相当于替换。</span></span><br><span class="line">properties.setProperty(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;XinWanna&quot;</span>);</span><br><span class="line">properties.setProperty(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;欣坚强&quot;</span>);</span><br><span class="line">properties.setProperty(<span class="string">&quot;pwd&quot;</span>, <span class="string">&quot;202118140406&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 存储键值对</span></span><br><span class="line"><span class="comment">// 第二个参数是对配置文件的备注</span></span><br><span class="line">properties.store(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;src\\file\\mysql2.properties&quot;</span>), <span class="string">&quot;Excerise&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;保存配置文件成功~&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="45反射"><a class="markdownIt-Anchor" href="#45反射"></a> 45.反射</h2>
<ul>
<li>
<p>通过外部文件配置,在不修改源码情况下来控制程序.</p>
</li>
<li>
<p>反射机制</p>
<ol>
<li>反射机制允许程序在执行期间借助于 <code>Reflection API</code> 取得任何类的内部信息(比如 成员变量,构造器,成员方法等等),并能操作对象的属性及方法.</li>
<li>反射在设计模式和框架底层都会用到.</li>
<li>加载完类之后,在堆中就产生了一个Class类型的对象(一个类只有一个Class对象),这个对象包含了类的完整结构信息,通过这个对象得到类的结构.</li>
</ol>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86.jpg" alt></p>
</li>
<li>
<p>反射相关的主要类</p>
<ol>
<li>
<p><code>java.lang.Class</code> 代表一个类,Class对象表示某个类加载后在堆中的对象.</p>
</li>
<li>
<p><code>java.lang.reflect.Method</code>  代表类的方法,Method对象表示某个类的方法.</p>
</li>
<li>
<p><code>java.lang.reflect.Field</code>  代表类的成员变量,Field对象表示某个类的成员变量.</p>
<figure class="highlight plaintext"><figcaption><span>不能得到私有的属性</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. ```java.lang.reflect.Constructor```  代表类的构造方法,Constructor对象表示构造器.</span><br><span class="line"></span><br><span class="line">示例代码：</span><br><span class="line"></span><br><span class="line">```Cat类```</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public class Cat &#123;</span><br><span class="line"></span><br><span class="line">	public String name = &quot;招财猫&quot;;</span><br><span class="line">	private int age;</span><br><span class="line">	</span><br><span class="line">	public Cat()</span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public Cat(String name,int age)</span><br><span class="line">	&#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">		this.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void cry()</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;小猫喵喵叫~~&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><code>reflection.properties</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class = reflection.<span class="type">Cat</span></span><br><span class="line"><span class="variable">method</span> <span class="operator">=</span> cry</span><br></pre></td></tr></table></figure>
<p>反射代码</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">properties.load(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;src\\reflection\\reflection.properties&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;class&quot;</span>).toString();</span><br><span class="line"><span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;method&quot;</span>).toString();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 加载类</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">cls</span> <span class="operator">=</span> Class.forName(className);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 通过 cls 获得对象实例</span></span><br><span class="line"><span class="comment">// 此处需要有无参构造器</span></span><br><span class="line"><span class="comment">// 可以转成Cat类型</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> cls.newInstance();</span><br><span class="line">System.out.println(<span class="string">&quot;o 的运行类型为：&quot;</span> + o.getClass());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 获得方法对象</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">method1</span> <span class="operator">=</span> cls.getMethod(methodName);</span><br><span class="line">method1.invoke(o); <span class="comment">// 反射机制 方法.invoke(对象) 来调用方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. getFiled 获取类的成员变量</span></span><br><span class="line"><span class="comment">// 只能获取非 private 变量</span></span><br><span class="line"><span class="comment">// 成员变量对象.get(对象)</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">nameFiled</span> <span class="operator">=</span> cls.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">System.out.println(nameFiled.get(o));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. 获取构造方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回无参构造器</span></span><br><span class="line"><span class="type">Constructor</span> <span class="variable">constructor</span> <span class="operator">=</span> cls.getConstructor();</span><br><span class="line">System.out.println(constructor);</span><br><span class="line"></span><br><span class="line"><span class="type">Constructor</span> <span class="variable">con</span> <span class="operator">=</span> cls.getConstructor(String.class,<span class="type">int</span>.class);</span><br><span class="line">System.out.println(con);</span><br></pre></td></tr></table></figure>
<p>​	输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">o 的运行类型为：<span class="keyword">class</span> <span class="title class_">reflection</span>.Cat</span><br><span class="line">小猫喵喵叫~~</span><br><span class="line">招财猫</span><br><span class="line"><span class="keyword">public</span> reflection.Cat()</span><br><span class="line"><span class="keyword">public</span> reflection.Cat(java.lang.String,<span class="type">int</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>反射的优缺点</p>
<ul>
<li>优点：可以动态的创建和使用对象，使用灵活。</li>
<li>缺点：使用反射基本是解释执行，对执行速度有影响。</li>
</ul>
</li>
<li>
<p>反射调用优化 —— 关闭访问检查（优化执行速度）</p>
<ul>
<li><code>Method</code> 和 <code>Field、Constructor</code>对象都有 <code>setAccessible()</code>方法</li>
<li><code>setAccessible()</code>作用是启动和禁用访问安全检查的开关</li>
<li>参数值为 <code>true</code> 表示 反射的对象在使用时取消访问检查，提高反射的效率。参数值为 false，则表示反射的对象执行访问检查。</li>
</ul>
</li>
<li>
<p><code>Class类</code></p>
<ul>
<li>
<p><code>Class类</code>继承 <code>Object</code>类</p>
</li>
<li>
<p><code>Class类</code>对象不是 new 出来的，而是系统创建的</p>
</li>
<li>
<p>对于某个类的Class类对象，在内存中只有一份，因为类只加载一次。</p>
</li>
<li>
<p>通过<code>Class</code>对象可以完整地得到一个类的完整结构（通过一系列API）</p>
</li>
<li>
<p><code>Class</code>对象存放在堆中</p>
</li>
<li>
<p>类的字节码二进制数据，存放在方法区，有的地方称为类的元数据（包括 方法代码，变量名，方法名，访问权限等）</p>
</li>
<li>
<p>常用方法</p>
<ul>
<li>
<p>简单示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">classPath</span> <span class="operator">=</span> <span class="string">&quot;reflection.Car&quot;</span>;</span><br><span class="line">		</span><br><span class="line"><span class="comment">// 1. 获取到 Car 类对应的Class对象</span></span><br><span class="line"><span class="comment">// &lt;?&gt; 表示不确定的Java类型，可以没有 &lt;?&gt;</span></span><br><span class="line">Class&lt;?&gt; cls = Class.forName(classPath);</span><br><span class="line">System.out.println(cls); <span class="comment">// 输出的是哪个类的Class对象  reflection.Car</span></span><br><span class="line">System.out.println(cls.getClass()); <span class="comment">// 输出 cls 运行类型  java.lang.Class</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 得到包名</span></span><br><span class="line">System.out.println(cls.getPackage().getName());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 得到类名</span></span><br><span class="line">System.out.println(cls.getName());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 创建对象实例</span></span><br><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> (Car)cls.newInstance();</span><br><span class="line">System.out.println(car);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. 通过反射获得属性</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">brand</span> <span class="operator">=</span> cls.getField(<span class="string">&quot;brand&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;brand = &quot;</span> + brand.get(car));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 6. 通过反射给属性赋值</span></span><br><span class="line">brand.set(car, <span class="string">&quot;特斯拉&quot;</span>);</span><br><span class="line">System.out.println(brand.get(car));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 7. 得到类中所有属性（字段）</span></span><br><span class="line">Field[] fields = cls.getFields();</span><br><span class="line"><span class="keyword">for</span>(Field f : fields)</span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(f.getName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">reflection</span>.Car</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">java</span>.lang.Class</span><br><span class="line">reflection</span><br><span class="line">reflection.Car</span><br><span class="line">brand is 问界, price is <span class="number">5000000</span>, color is 白色</span><br><span class="line">brand = 问界</span><br><span class="line">特斯拉</span><br><span class="line">brand</span><br><span class="line">price</span><br><span class="line">color</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>获取 Class 类对象</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%8E%B7%E5%8F%96%E7%B1%BB%E5%AF%B9%E8%B1%A1.jpg" alt></p>
<ol>
<li>已知一个类的全类名，且该类在类路径下，可通过Class类的静态方法 <code>forName()</code> 获取，可能抛出 <code>ClassNotFoundException</code>。</li>
</ol>
<p>​       多用于配置文件，读取类全路径，加载类。</p>
<ol start="2">
<li>若已知具体的类，通过类的 class 获取。最为安全可靠，程序性能最高。</li>
</ol>
<p>​       多用于参数传递，比如通过反射器得到对应构造器对象。</p>
<ol start="3">
<li>
<p>已知某个类的实例，调用该实例的 <code>getClass()</code> 方法获取class对象。</p>
<p>通过创建好的对象，获取Class对象。</p>
</li>
<li>
<p>其他方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ClassLoader</span> <span class="variable">cl</span> <span class="operator">=</span> 对象.getClass().getClassLoader();</span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz4</span> <span class="operator">=</span> cl.loadClass(<span class="string">&quot;类的全类名&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>基本数据（int,char,boolean,float,double,byte,long,short）按如下方式得到Class类对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">cls</span> <span class="operator">=</span> 基本数据类型.class</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>基本数据类型对应的包装类（<code>Integer、Character等</code>），可以通过 <code>.TYPE</code> 得到Class类对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">cls</span> <span class="operator">=</span> 包装类.TYPE</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p>哪些类型有 Class 对象</p>
<ol>
<li>外部类，成员内部类，静态内部类，局部内部类，匿名内部类</li>
<li><code>interface</code>  接口</li>
<li>数组</li>
<li><code>enum</code>  枚举</li>
<li><code>annotation</code>  注释</li>
<li>基本数据类型</li>
<li><code>void</code></li>
</ol>
</li>
</ul>
</li>
<li>
<p>类加载</p>
<ul>
<li>
<p>通过反射实现类加载</p>
</li>
<li>
<p>静态加载和动态加载</p>
<ul>
<li>静态加载：<strong>编译</strong>时加载相关的类，编译器会在编译时检查类是否存在。如果没有，则报错，依赖性太强。 <code>new</code></li>
<li>动态加载：运行时加载需要的类，如果运行时不用该类，则不报错，降低了依赖性。 <code>Class.forName(&quot;类名&quot;)、ClassLoader.loadClass(&quot;类名&quot;)</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">System.out.println(<span class="string">&quot;请输入key:&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> scanner.next();</span><br><span class="line"><span class="keyword">switch</span>(key) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;1&quot;</span> :</span><br><span class="line">        <span class="comment">// 静态加载</span></span><br><span class="line">        <span class="comment">// new Dog() 是静态加载，必须编写 Dog 类</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(); </span><br><span class="line">        dog.cry();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;2&quot;</span> :</span><br><span class="line">        <span class="comment">// 动态加载</span></span><br><span class="line">        <span class="comment">// 没有编写Dog也不会报错，只有当动态加载该类时，才会报错</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">cls</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;Dog&quot;</span>); </span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> cls.newInstance();</span><br><span class="line">        cls.getMethod(<span class="string">&quot;hi&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        System.out.println(<span class="string">&quot;do nothing...&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>类加载时机</p>
<ol>
<li>创建对象时（new）</li>
<li>子类被加载时</li>
<li>调用类中的静态成员时</li>
<li>通过反射</li>
</ol>
</li>
<li>
<p>类加载过程图</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B%E5%9B%BE.jpg" alt></p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%90%84%E9%98%B6%E6%AE%B5%E5%AE%8C%E6%88%90%E7%9A%84%E4%BB%BB%E5%8A%A1.png" alt></p>
<ol>
<li>
<p>加载阶段</p>
<p>JVM在该阶段的主要目的是将字节码从不同的数据源（可能是class文件，也可能是jar包，甚至网络）转化为二进制字节流加载到内存中，并生成一个代表该类的 <code>java.lang.Class</code> 对象。</p>
</li>
<li>
<p>连接阶段</p>
<p>（1）验证</p>
<p>① 目的是为了保证Class文件的字节流中包含的信息符合当前虚拟机的要求，并且不会危害虚拟机自身的安全。</p>
<p>② 包括：文件格式验证（是否以魔数 oxcafebabe 开头）、元数据验证、字节码验证和符号引用验证。</p>
<p>③ 可以考虑使用 <code>-Xverify:none</code> 参数来关闭大部分的类验证措施，缩短虚拟机类加载的时间。</p>
<p>（2）准备</p>
<p>​	 JVM 会在该阶段对<strong>静态变量</strong>，分配内存并<strong>默认初始化</strong>（对应数据类型的默认初始值，如0、0L、null、false等）。这些变量所使用的内存都将在方法区中进行分配。</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E8%BF%9E%E6%8E%A5%E9%98%B6%E6%AE%B5%E2%80%94%E2%80%94%E5%87%86%E5%A4%87.png" alt></p>
<p>（3）解析</p>
<p>​	虚拟机将常量池内的符号引用替换为直接引用的过程。</p>
<p>​	符号引用是一种间接的引用方式，通过字符串、名称、描述符等符号来引用目标，而不直接指向内存地址。例如：</p>
<p>​	① 类名（如<code>java.lang.String</code>）</p>
<p>​	② 方法签名（如<code>java.lang.String#substring(int, int)</code>）</p>
<p>​	③ 字段名称（如<code>System.out</code>）</p>
<p>​	直接引用是一种通过内存地址直接指向目标的引用方式。当符号引用在类加载时被解析后，JVM会将其转换为直接引用，这样可以直接访问实际内存中的类、方法或字段。</p>
<p>​	直接引用的形式包括指向具体对象、方法、变量的内存地址，这种引用方式在运行时效率较高，因为它不再需要动态解析。</p>
</li>
<li>
<p>初始化</p>
<p>① 此阶段才真正开始执行类中定义的Java程序代码，此阶段执行<code>&lt;clinit&gt;()</code> 方法的过程。</p>
<p>② <code>&lt;clinit&gt;()</code> 方法是由编译器按语句在源文件中出现的顺序，依次自动收集类中的所有 <strong>静态变量</strong> 的赋值动作和 <strong>静态代码块</strong> 中的语句，并进行合并。</p>
<p>③ 虚拟机会保证一个类的 <code>&lt;clinit&gt;()</code> 方法在多线程环境中被正确地加锁、同步。如果多个线程同时去初始化一个类，那么只会有一个线程去执行这个类的<code>&lt;clinit&gt;()</code> 方法，其他线程都要阻塞等待，直到活动线程执行<code>&lt;clinit&gt;()</code> 方法完毕。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;B 静态代码块被执行&quot;</span>);</span><br><span class="line">		num = <span class="number">300</span>; <span class="comment">// 竟然可以先使用，再定义？？？</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">B</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;B() 构造器被执行&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">reflection05</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 1. 加载B类，并生成B的class对象</span></span><br><span class="line"><span class="comment">		 * 2. 连接 num = 0</span></span><br><span class="line"><span class="comment">		 * 3. 初始化阶段</span></span><br><span class="line"><span class="comment">		 * 		依次自动收集类中的所有静态变量的赋值动作和静态代码块中的语句（按照先后顺序），并合并</span></span><br><span class="line"><span class="comment">		 * 		clinit()&#123;</span></span><br><span class="line"><span class="comment">		 * 			System.out.println(&quot;B 静态代码块被执行&quot;);</span></span><br><span class="line"><span class="comment">		 * 			num = 300;</span></span><br><span class="line"><span class="comment">		 * 			num = 100;</span></span><br><span class="line"><span class="comment">		 * 		&#125;</span></span><br><span class="line"><span class="comment">		 * </span></span><br><span class="line"><span class="comment">		 * 		合并: num = 100</span></span><br><span class="line"><span class="comment">		 * 4. 执行构造器</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 只有下面这句话：</span></span><br><span class="line"><span class="comment">		 * 	System.out.println(B.num); // 只使用静态变量，也会导致类加载</span></span><br><span class="line"><span class="comment">		 * 输出：</span></span><br><span class="line"><span class="comment">		 *  B 静态代码块被执行</span></span><br><span class="line"><span class="comment">		    100</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * 输出结果：</span></span><br><span class="line"><span class="comment">		  	B 静态代码块被执行</span></span><br><span class="line"><span class="comment">			B() 构造器被执行</span></span><br><span class="line"><span class="comment">			100</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">		System.out.println(B.num);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p>通过反射获取类的结构信息</p>
<ul>
<li>
<p><code>java.lang.Class</code> 类</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%80%9A%E8%BF%87%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E7%BB%93%E6%9E%84%E4%BF%A1%E6%81%AF%E2%80%94%E2%80%94java.lang.Class.jpg" alt></p>
<ol>
<li><code>getFields</code> 获取所有 <code>public</code> 修饰的属性，包括本类及父类的。</li>
<li><code>getDeclaredFields</code> 获取本类中所有属性，包括私有的。</li>
<li><code>getConstructors</code> 只能获取本类的public修饰的构造器</li>
</ol>
</li>
<li>
<p><code>java.lang.reflect.Field</code>类</p>
<p><img src="/2024/10/12/Java%E5%AD%A6%E4%B9%A0/%E9%80%9A%E8%BF%87%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E7%BB%93%E6%9E%84%E4%BF%A1%E6%81%AF%E2%80%94%E2%80%94java.lang.reflect.Field.jpg" alt></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - ```java.lang.reflect.Method``` 类</span><br><span class="line"></span><br><span class="line">    ![](./Java学习/通过反射获取类的结构信息——java.lang.reflect.Method类.jpg)</span><br><span class="line"></span><br><span class="line">  - ```java.lang.reflect.Constructor``` 类</span><br><span class="line"></span><br><span class="line">    ![](./Java学习/通过反射获取类的结构信息——java.lang.reflect.Constructor.png)</span><br><span class="line"></span><br><span class="line">- 通过反射创建对象</span><br><span class="line"></span><br><span class="line">  1. 方式一：调用类中的public修饰的无参构造器</span><br><span class="line"></span><br><span class="line">  2. 方式二：调用类中的指定构造器</span><br><span class="line"></span><br><span class="line">  3. Class类相关方法</span><br><span class="line"></span><br><span class="line">     ① ```newInstance```: 调用类中的无参构造器，获取对应类的对象。</span><br><span class="line"></span><br><span class="line">     ② ```getConstructor(Class...clazz)```: 根据参数列表，获取对应的public构造器对象。</span><br><span class="line"></span><br><span class="line">     ③ ```getDecalaredConstructor(Class...clazz)```: 根据参数列表，获取对应的所有构造器对象。</span><br><span class="line"></span><br><span class="line">  4. ```Constructor```类相关方法</span><br><span class="line"></span><br><span class="line">     ① ```setAccessible``` 暴破</span><br><span class="line"></span><br><span class="line">     ② ```newInstance(Object...obj)``` 调用构造器</span><br><span class="line"></span><br><span class="line">     ```java</span><br><span class="line">     class User&#123;</span><br><span class="line">     	</span><br><span class="line">     	private int age = 20;</span><br><span class="line">     	private String name = &quot;XinWanna&quot;;</span><br><span class="line">     	</span><br><span class="line">     	public User()</span><br><span class="line">     	&#123;</span><br><span class="line">     		</span><br><span class="line">     	&#125;</span><br><span class="line">     	</span><br><span class="line">     	public User(String name)</span><br><span class="line">     	&#123;</span><br><span class="line">     		this.name = name;</span><br><span class="line">     	&#125;</span><br><span class="line">     	</span><br><span class="line">     	private User(int age,String name)</span><br><span class="line">     	&#123;</span><br><span class="line">     		this.age = age;</span><br><span class="line">     		this.name = name;</span><br><span class="line">     	&#125;</span><br><span class="line">     	</span><br><span class="line">     	public String toString()</span><br><span class="line">     	&#123;</span><br><span class="line">     		return &quot;User.name = &quot; + name + &quot;, User.age = &quot; + age; </span><br><span class="line">     	&#125;</span><br><span class="line">     &#125;</span><br><span class="line">     </span><br><span class="line">     public class relection06 &#123;</span><br><span class="line">     </span><br><span class="line">     	public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException, NoSuchMethodException, SecurityException, IllegalArgumentException, InvocationTargetException &#123;</span><br><span class="line">     		// TODO Auto-generated method stub</span><br><span class="line">     </span><br><span class="line">     		// 1. 获取到 User 类的Class对象</span><br><span class="line">     		Class&lt;?&gt; userClass = Class.forName(&quot;reflection.User&quot;);</span><br><span class="line">     		</span><br><span class="line">     		// 2. 通过 public 的 无参构造器 创建实例</span><br><span class="line">     		Object o = userClass.newInstance();</span><br><span class="line">     		System.out.println(o);</span><br><span class="line">     		</span><br><span class="line">     		// 3. 通过 public 的 有参构造器 创建实例</span><br><span class="line">     		Constructor&lt;?&gt; constructor = userClass.getConstructor(String.class);</span><br><span class="line">     		Object correct = constructor.newInstance(&quot;欣坚强&quot;);</span><br><span class="line">     		System.out.println(&quot;correct = &quot; + correct);</span><br><span class="line">     		</span><br><span class="line">     		// 4. 通过 非public 的 有参构造器 创建实例</span><br><span class="line">     		Constructor&lt;?&gt; con = userClass.getDeclaredConstructor(int.class,String.class);</span><br><span class="line">     		</span><br><span class="line">     		// con 这个构造器对象是私有的，直接执行 con.newInstance(21,&quot;XiXiXi&quot;) 这一句话会报错</span><br><span class="line">     		// 解决办法：暴破</span><br><span class="line">     		con.setAccessible(true); // 可以访问私有的构造器/方法/属性</span><br><span class="line">     		</span><br><span class="line">     		Object co = con.newInstance(21,&quot;XiXiXi&quot;);</span><br><span class="line">     		System.out.println(&quot;co = &quot; + co);</span><br><span class="line">     		</span><br><span class="line">     	&#125;</span><br><span class="line">     </span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">User.name = XinWanna, User.age = <span class="number">20</span></span><br><span class="line">correct = User.name = 欣坚强, User.age = <span class="number">20</span></span><br><span class="line">co = User.name = XiXiXi, User.age = <span class="number">21</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>通过反射访问类中的成员</p>
<ul>
<li>
<p>访问属性</p>
<ol>
<li>根据属性名获取 <code>Field</code> 对象</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Field</span> <span class="variable">f</span> <span class="operator">=</span> clazz对象.getDeclaredField(属性名);</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>暴破</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f.setAccessible(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>访问</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f.set(o,值); <span class="comment">// o 表示对象</span></span><br><span class="line">syso(f.get(o)); <span class="comment">// o 表示对象</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>如果是静态属性，则 <code>set</code> 和 <code>get</code> 中的参数o，可以写成 <code>null</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 得到Cat类对应的Class对象</span></span><br><span class="line">Class&lt;?&gt; stuClass = Class.forName(<span class="string">&quot;reflection.Cat&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 创建对象</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> stuClass.newInstance();</span><br><span class="line">System.out.println(o.getClass()); <span class="comment">// o 的运行类型是 Cat</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 使用反射得到 name 属性对象 public</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">name</span> <span class="operator">=</span> stuClass.getField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">name.set(o, <span class="string">&quot;XinWanna&quot;</span>); <span class="comment">// 通过反射修改属性</span></span><br><span class="line"></span><br><span class="line">System.out.println(o);</span><br><span class="line">System.out.println(name.get(o));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 使用反射得到 age(private) 和 description(private static)</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">age</span> <span class="operator">=</span> stuClass.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"><span class="type">Field</span> <span class="variable">description</span> <span class="operator">=</span> stuClass.getDeclaredField(<span class="string">&quot;description&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对私有属性进行暴破</span></span><br><span class="line">age.setAccessible(<span class="literal">true</span>);</span><br><span class="line">description.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 1. 非 static 属性（如 age）：必须通过具体的对象实例来访问和修改，因为每个对象都拥有自己独立的属性副本。</span></span><br><span class="line"><span class="comment"> *    age.set(null, 21); 不可以，因为 age 是 Cat 类对象的实例变量，不属于类本身。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   2. static 属性（如 description）：属于类本身而不是任何特定的对象，因此可以通过 null 来访问和修改。</span></span><br><span class="line"><span class="comment">      description.set(null, &quot;老猫&quot;); 可以，因为 description 是 static 静态变量，属于 Cat 类，而不是某个特定的 Cat 实例。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   3. 非 static 属性依赖于实例，而 static 属性依赖于类。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">age.set(o, <span class="number">21</span>);</span><br><span class="line"><span class="comment">// age.set(null, 21); // 不是 static 修饰，不可以</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// description.set(o, &quot;老猫&quot;);</span></span><br><span class="line">description.set(<span class="literal">null</span>, <span class="string">&quot;老猫&quot;</span>); <span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line">System.out.println(o);</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">reflection</span>.Cat</span><br><span class="line">name is XinWanna, age is <span class="number">20</span>, description is 猫猫</span><br><span class="line">XinWanna</span><br><span class="line">name is XinWanna, age is <span class="number">21</span>, description is 老猫</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>访问方法</p>
<ol>
<li>
<p>根据方法名和参数列表获取 Method 方法对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Method</span> <span class="variable">m</span> <span class="operator">=</span> clazz.getDeclaredMethod(方法名,XX.class);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>获取对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> clazz.newInstance();</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>暴破  <code>m.setAccessible(true);</code></p>
</li>
<li>
<p>访问</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">returnValue</span> <span class="operator">=</span> m.invoke(o,实参列表);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>如果是静态方法，则 invoke 的参数 o，可以写成 null。</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 得到 File 类的 Class 类</span></span><br><span class="line">Class&lt;?&gt; cls = File.class;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 得到所有的构造器 并 遍历输出</span></span><br><span class="line">Constructor[] constructors = cls.getDeclaredConstructors();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(Constructor con : constructors)</span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(con);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 File 对象,并使用 public java.io.File(java.lang.String) 构造器创建 File 对象</span></span><br><span class="line"><span class="type">Constructor</span> <span class="variable">c</span> <span class="operator">=</span> cls.getDeclaredConstructor(String.class);</span><br><span class="line"><span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;d:\\mynew.txt&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">Object</span> <span class="variable">file</span> <span class="operator">=</span> c.newInstance(path);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 得到 createNewFile 方法对象</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">createNew</span> <span class="operator">=</span> cls.getMethod(<span class="string">&quot;createNewFile&quot;</span>);</span><br><span class="line">createNew.invoke(file);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;创建文件成功!&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>加载评论需要在浏览器启用 JavaScript 脚本支持。</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/archives/">文章</a></li>
        
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E5%91%BD%E4%BB%A4%E7%AA%97%E5%8F%A3%E8%BF%90%E8%A1%8Cjava%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text"> 1.命令窗口运行Java程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2java%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86"><span class="toc-number">2.</span> <span class="toc-text"> 2.Java相关知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3java%E7%AE%80%E5%8D%95%E7%A8%8B%E5%BA%8Fhello-world"><span class="toc-number">3.</span> <span class="toc-text"> 3.Java简单程序——Hello world</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4java%E8%BD%AC%E7%A7%BB%E5%AD%97%E7%AC%A6"><span class="toc-number">4.</span> <span class="toc-text"> 4.Java转移字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5java%E4%B8%AD%E7%9A%84%E6%B3%A8%E9%87%8A"><span class="toc-number">5.</span> <span class="toc-text"> 5.Java中的注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6dos%E5%91%BD%E4%BB%A4"><span class="toc-number">6.</span> <span class="toc-text"> 6.Dos命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.</span> <span class="toc-text"> 7.数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.</span> <span class="toc-text"> 8.运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E6%A0%87%E8%AF%86%E7%AC%A6%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">9.</span> <span class="toc-text"> 9.标识符命名规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%E8%AF%AD%E5%8F%A5"><span class="toc-number">10.</span> <span class="toc-text"> 10.键盘输入语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11%E8%BF%9B%E5%88%B6"><span class="toc-number">11.</span> <span class="toc-text"> 11.进制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12switch%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="toc-number">12.</span> <span class="toc-text"> 12.switch分支结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">13.</span> <span class="toc-text"> 13.循环语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">14.</span> <span class="toc-text"> 14.生成随机数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15%E8%B7%B3%E8%BD%AC%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5break-continue-return"><span class="toc-number">15.</span> <span class="toc-text"> 15.跳转控制语句（break、continue、return）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">16.</span> <span class="toc-text"> 16.冒泡排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">17.</span> <span class="toc-text"> 17.字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1"><span class="toc-number">18.</span> <span class="toc-text"> 18.类与对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19%E9%80%92%E5%BD%92"><span class="toc-number">19.</span> <span class="toc-text"> 19.递归</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20%E9%87%8D%E8%BD%BD"><span class="toc-number">20.</span> <span class="toc-text"> 20.重载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">21.</span> <span class="toc-text"> 21.可变参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">22.</span> <span class="toc-text"> 22.作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">23.</span> <span class="toc-text"> 23.构造方法&#x2F;构造器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24%E5%8C%85"><span class="toc-number">24.</span> <span class="toc-text"> 24.包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">25.</span> <span class="toc-text"> 25.访问修饰符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#26%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E7%9A%84%E4%B8%89%E5%A4%A7%E7%89%B9%E5%BE%81"><span class="toc-number">26.</span> <span class="toc-text"> 26.面向对象编程的三大特征</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#27object%E7%B1%BB"><span class="toc-number">27.</span> <span class="toc-text"> 27.Object类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95"><span class="toc-number">28.</span> <span class="toc-text"> 28.断点调试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29%E7%B1%BB%E5%8F%98%E9%87%8F"><span class="toc-number">29.</span> <span class="toc-text"> 29.类变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#30main%E6%96%B9%E6%B3%95"><span class="toc-number">30.</span> <span class="toc-text"> 30.main方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#31%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-number">31.</span> <span class="toc-text"> 31.代码块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-number">32.</span> <span class="toc-text"> 32.设计模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#33final%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">33.</span> <span class="toc-text"> 33.final关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">34.</span> <span class="toc-text"> 34.抽象类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#35%E6%8E%A5%E5%8F%A3"><span class="toc-number">35.</span> <span class="toc-text"> 35.接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#36%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">36.</span> <span class="toc-text"> 36.内部类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#37%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-number">37.</span> <span class="toc-text"> 37.枚举类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#38%E6%B3%A8%E8%A7%A3"><span class="toc-number">38.</span> <span class="toc-text"> 38.注解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#39%E5%BC%82%E5%B8%B8"><span class="toc-number">39.</span> <span class="toc-text"> 39.异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#40%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-number">40.</span> <span class="toc-text"> 40.常用类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#41%E9%9B%86%E5%90%88"><span class="toc-number">41.</span> <span class="toc-text"> 41.集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42%E6%B3%9B%E5%9E%8B"><span class="toc-number">42.</span> <span class="toc-text"> 42.泛型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43%E7%BA%BF%E7%A8%8B"><span class="toc-number">43.</span> <span class="toc-text"> 43.线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#44%E6%96%87%E4%BB%B6"><span class="toc-number">44.</span> <span class="toc-text"> 44.文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#45%E5%8F%8D%E5%B0%84"><span class="toc-number">45.</span> <span class="toc-text"> 45.反射</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&text=韩顺平Java"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&is_video=false&description=韩顺平Java"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=韩顺平Java&body=Check out this article: http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&title=韩顺平Java"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&name=韩顺平Java&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2024/10/12/Java%E5%AD%A6%E4%B9%A0/&t=韩顺平Java"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2024
    XinWanna
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/archives/">文章</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

  <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?7bbb8c73698ee32007c733bcd387b721";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'xinwannade-za-huo-pu';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>

<!-- utterances Comments -->

</body>
</html>
